import{A as wo,C as yo,D as Oo,E as Eo,a as ji,b as Wi,c as co,d as po,e as go,f as mo,g as uo,h as fo,i as ho,j as _o,k as bo,l as gn,m as Co,n as xo,o as un,p as fn,q as hn,r as vo,s as Po,u as _n,v as bn,w as Cn,x as xn,y as vn,z as Pn}from"./chunk-6HTDKJG5.js";import{b as Mo,e as ko}from"./chunk-DQDM6XTP.js";import{C as qe,D as ze,G as So,a as dt,b as le,c as ce,d as Ai,e as Vi,f as de,g as Ii,h as pt,i as ln,j as gt,k as We,l as Ae,m as Ve,n as zi,o as cn,p as Ri,q as Li,r as Ie,u as mt,w as we,x as Gt,y as Ni}from"./chunk-E56TLIBQ.js";import{a as lo}from"./chunk-DNKAUUAF.js";import"./chunk-L3SEBHDP.js";import{$ as eo,D as Jn,E as dn,F as Hi,G as $i,H as ut,N as Qt,P as Ui,Q as Gi,R as Qi,S as qi,T as Yi,U as Ki,V as ei,W as Zi,X as Xi,Z as pn,_ as Ji,aa as to,da as no,ea as at,fa as io,ga as ti,h as Di,ha as oo,i as re,j as Q,ja as ao,m as Ti,oa as ni,pa as ro,q as Bi,qa as so,r as Pe,x as Xn,y as Fi}from"./chunk-RTGJLPGU.js";import{b as mn}from"./chunk-GZZ32I6Y.js";import{e as ft}from"./chunk-SF7C3E5M.js";import{$ as T,$b as te,A as qn,Ab as be,Bb as ye,C as _i,Cb as Me,Eb as Yn,Fb as Kn,Gb as Zn,Gc as Be,Hb as f,Ib as r,Jb as s,Kb as y,Lb as ee,Lc as Fe,M as bi,Mb as se,Mc as sn,N as Ci,O as en,Ob as ne,P as xi,Pa as st,Pb as ie,Q as De,Rb as M,Sa as c,Sb as ct,Va as lt,Vb as h,W as J,Wb as Te,X as tt,Xa as jt,Xb as p,Ya as G,Yb as nn,Z as $e,Zb as on,_ as xe,_a as wi,_b as Wt,a as Je,ac as K,bc as Z,c as Kt,cc as je,db as L,dc as he,ea as g,eb as nt,ec as O,f as Ce,fa as m,fb as Ne,fc as an,g as et,ga as z,gc as d,ha as oe,hb as it,hc as R,i as fi,ia as Ge,ic as N,ja as vi,jb as w,jc as rn,k as Zt,kb as yi,l as Nt,lc as A,mb as E,mc as F,nb as Ue,nc as V,o as Qn,ob as ot,oc as Si,qc as Ht,rc as $t,sa as ve,ta as tn,tc as ki,ua as Qe,uc as Oi,v as hi,va as Pi,wc as Ei,x as Xt,xc as Ut,y as Jt,zb as Mi}from"./chunk-AG6NMNX5.js";import{a as ae,b as Le,j as P}from"./chunk-TWZW5B45.js";var ht=class a{getPatternTypes(){return[{value:"grid",label:"\uADF8\uB9AC\uB4DC",description:"\uADE0\uB4F1 \uAC04\uACA9 \uBC30\uCE58"},{value:"diagonal",label:"\uB300\uAC01\uC120",description:"\uB300\uAC01\uC120 \uBC29\uD5A5 \uBC30\uCE58"},{value:"stagger",label:"\uC9C0\uADF8\uC7AC\uADF8",description:"\uC5C7\uAC08\uB9B0 \uBC30\uCE58"},{value:"border",label:"\uD14C\uB450\uB9AC",description:"\uAC00\uC7A5\uC790\uB9AC\uB9CC \uBC30\uCE58"},{value:"cross",label:"\uC2ED\uC790\uD615",description:"\uC911\uC559 \uC2ED\uC790 \uBC30\uCE58"}]}getDefaultWatermarkConfig(){return{text:"WATERMARK",fontSize:48,color:"#cccccc",opacity:.3,rotation:-45,position:"diagonal",pattern:{enabled:!1,type:"grid",rows:3,columns:3,spacing:100}}}calculateWatermarkPosition(t,e){let{pageWidth:n=595,pageHeight:i=842,x:o,y:l}=e;if(o!==void 0&&l!==void 0)return{x:o,y:l,rotation:t.rotation};let u=t.text.length*t.fontSize*.6,_=t.fontSize;switch(t.position){case"center":return{x:(n-u)/2,y:i/2,rotation:t.rotation};case"diagonal":return{x:n/2,y:i/2,rotation:-45};case"top-left":return{x:50,y:50+_,rotation:0};case"top-right":return{x:n-u-50,y:50+_,rotation:0};case"bottom-left":return{x:50,y:i-50,rotation:0};case"bottom-right":return{x:n-u-50,y:i-50,rotation:0};default:return{x:n/2,y:i/2,rotation:-45}}}createWatermarkElement(t,e={}){let n=this.calculateWatermarkPosition(t,e),i=t.text.length*t.fontSize*.6,o=t.fontSize;return{id:`watermark-${Date.now()}`,type:"watermark",x:n.x,y:n.y,width:i,height:o,text:t.text,fontSize:t.fontSize,fontFamily:"Arial",fontWeight:"bold",color:t.color,opacity:t.opacity,rotation:n.rotation,textAlign:"center"}}createPatternWatermarks(t,e={}){let n=[];if(!t.pattern?.enabled)return[this.createWatermarkElement(t,e)];let{pageWidth:i=595,pageHeight:o=842}=e,{rows:l,columns:u,type:_}=t.pattern;switch(_){case"grid":return this.createGridPattern(t,i,o,l,u);case"diagonal":return this.createDiagonalPattern(t,i,o,l,u);case"stagger":return this.createStaggerPattern(t,i,o,l,u);case"border":return this.createBorderPattern(t,i,o);case"cross":return this.createCrossPattern(t,i,o,l,u);default:return this.createGridPattern(t,i,o,l,u)}}createGridPattern(t,e,n,i,o){let l=[],_=e-100,C=n-100,b=_/o,x=C/i;for(let v=0;v<i;v++)for(let k=0;k<o;k++){let B=50+k*b+b/2,S=50+v*x+x/2;l.push(this.createWatermarkAt(t,B,S,`grid-${v}-${k}`))}return l}createDiagonalPattern(t,e,n,i,o){let l=[],_=e-100,C=n-100,b=_/o,x=C/i,v=Math.min(i,o);for(let k=0;k<v;k++){let B=50+k*b+b/2,S=50+k*x+x/2;l.push(this.createWatermarkAt(t,B,S,`diagonal-${k}`));let D=50+(o-1-k)*b+b/2;l.push(this.createWatermarkAt(t,D,S,`diagonal-rev-${k}`))}return l}createStaggerPattern(t,e,n,i,o){let l=[],_=e-100,C=n-100,b=_/o,x=C/i;for(let v=0;v<i;v++){let k=v%2*(b/2);for(let B=0;B<o;B++){let S=50+k+B*b+b/2,D=50+v*x+x/2;S>50&&S<e-50&&l.push(this.createWatermarkAt(t,S,D,`stagger-${v}-${B}`))}}return l}createBorderPattern(t,e,n){let i=[];for(let u=50;u<e-50;u+=100)i.push(this.createWatermarkAt(t,u,80,`border-top-${u}`));for(let u=50;u<e-50;u+=100)i.push(this.createWatermarkAt(t,u,n-50-30,`border-bottom-${u}`));for(let u=150;u<n-50-100;u+=100)i.push(this.createWatermarkAt(t,80,u,`border-left-${u}`));for(let u=150;u<n-50-100;u+=100)i.push(this.createWatermarkAt(t,e-50-30,u,`border-right-${u}`));return i}createCrossPattern(t,e,n,i,o){let l=[],_=e-100,C=n-100,b=_/o,x=C/i,v=Math.floor(i/2),k=Math.floor(o/2);for(let B=0;B<o;B++){let S=50+B*b+b/2,D=50+v*x+x/2;l.push(this.createWatermarkAt(t,S,D,`cross-h-${B}`))}for(let B=0;B<i;B++){if(B===v)continue;let S=50+k*b+b/2,D=50+B*x+x/2;l.push(this.createWatermarkAt(t,S,D,`cross-v-${B}`))}return l}createWatermarkAt(t,e,n,i){let o=t.text.length*t.fontSize*.6,l=t.fontSize;return{id:`watermark-${i}-${Date.now()}`,type:"watermark",x:e,y:n,width:o,height:l,text:t.text,fontSize:t.fontSize,fontFamily:"Arial",fontWeight:"bold",color:t.color,opacity:t.opacity,rotation:t.rotation,textAlign:"center"}}applyWatermarkToAllPages(t,e,n=595,i=842){let o=[];for(let l=0;l<e;l++){let u=this.createWatermarkElement(t,{pageWidth:n,pageHeight:i});u.id=`watermark-page-${l+1}-${Date.now()}`,o.push(u)}return o}generateWatermarkPreview(t,e){let n=e.getContext("2d");n&&(e.width=300,e.height=424,n.fillStyle="#ffffff",n.fillRect(0,0,e.width,e.height),t.pattern?.enabled?this.generatePatternPreview(t,e,n):this.drawSingleWatermark(t,e,n,e.width/2,e.height/2))}drawSingleWatermark(t,e,n,i,o){n.save(),n.translate(i,o),n.rotate(t.rotation*Math.PI/180),n.font=`bold ${t.fontSize/2}px Arial`,n.fillStyle=t.color,n.globalAlpha=t.opacity,n.textAlign="center",n.textBaseline="middle",n.fillText(t.text,0,0),n.restore()}generatePatternPreview(t,e,n){if(!t.pattern)return;let{rows:i,columns:o,type:l}=t.pattern,u=25,_=e.width-u*2,C=e.height-u*2,b=_/o,x=C/i;switch(l){case"grid":this.previewGridPattern(t,n,u,b,x,i,o);break;case"diagonal":this.previewDiagonalPattern(t,e,n,u,b,x,i,o);break;case"stagger":this.previewStaggerPattern(t,e,n,u,b,x,i,o);break;case"border":this.previewBorderPattern(t,e,n,u);break;case"cross":this.previewCrossPattern(t,e,n,u,b,x,i,o);break;default:this.previewGridPattern(t,n,u,b,x,i,o)}}previewGridPattern(t,e,n,i,o,l,u){for(let _=0;_<l;_++)for(let C=0;C<u;C++){let b=n+C*i+i/2,x=n+_*o+o/2;this.drawSingleWatermark(t,null,e,b,x)}}previewDiagonalPattern(t,e,n,i,o,l,u,_){let C=Math.min(u,_);for(let b=0;b<C;b++){let x=i+b*o+o/2,v=i+b*l+l/2;this.drawSingleWatermark(t,e,n,x,v);let k=i+(_-1-b)*o+o/2;this.drawSingleWatermark(t,e,n,k,v)}}previewStaggerPattern(t,e,n,i,o,l,u,_){for(let C=0;C<u;C++){let b=C%2*(o/2);for(let x=0;x<_;x++){let v=i+b+x*o+o/2,k=i+C*l+l/2;v>i&&v<e.width-i&&this.drawSingleWatermark(t,e,n,v,k)}}}previewBorderPattern(t,e,n,i){for(let l=i;l<e.width-i;l+=50)this.drawSingleWatermark(t,e,n,l,i+15),this.drawSingleWatermark(t,e,n,l,e.height-i-15);for(let l=i+50;l<e.height-i-50;l+=50)this.drawSingleWatermark(t,e,n,i+15,l),this.drawSingleWatermark(t,e,n,e.width-i-15,l)}previewCrossPattern(t,e,n,i,o,l,u,_){let C=Math.floor(u/2),b=Math.floor(_/2);for(let x=0;x<_;x++){let v=i+x*o+o/2,k=i+C*l+l/2;this.drawSingleWatermark(t,e,n,v,k)}for(let x=0;x<u;x++){if(x===C)continue;let v=i+b*o+o/2,k=i+x*l+l/2;this.drawSingleWatermark(t,e,n,v,k)}}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var _t=class a{constructor(t){this.snackbar=t}simulateDocumentGeneration(){return P(this,null,function*(){return new Promise(t=>{setTimeout(()=>{t("\uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")},3e3)})})}executeKeepOnlyFirstPage(t){return P(this,null,function*(){try{console.log("\u{1F4C4} PDF \uD398\uC774\uC9C0 \uC0AD\uC81C \uC2DC\uC791"),console.log("\u2705 PDF \uC788\uC74C - \uC2E4\uC81C PDF \uC218\uC815 \uC9C4\uD589"),console.log("PDF URL:",t.substring(0,50)+"..."),console.log("\u{1F527} PDF-lib\uB97C \uC0AC\uC6A9\uD55C \uC9C1\uC811 \uCC98\uB9AC \uC2DC\uC791...");let n=yield(yield fetch(t)).arrayBuffer(),i=window.PDFLib;if(!i)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o}=i,l=yield o.load(n);console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218:",l.getPageCount());let u=yield o.create(),[_]=yield u.copyPages(l,[0]);u.addPage(_),console.log("\u2705 \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0 \uBCF5\uC0AC \uC644\uB8CC");let C=yield u.save();return console.log("\u2705 \uC218\uC815\uB41C PDF \uC0DD\uC131 \uC644\uB8CC:",C.length,"bytes"),new Blob([C],{type:"application/pdf"})}catch(e){return console.error("\u274C \uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uC2E4\uD328:",e),this.snackbar.showError("\uCCAB \uBC88\uC9F8 \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),null}})}initializeNewDocument(t){t.pdfPages=[],t.currentPage=1,t.totalPages=0,t.selectedElement=null,t.pdfSrc=null,t.analysisData=null,t.vectorData=null,t.textStreamData=null,t.textOverlayData=null,console.log("\u{1F195} \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC")}getPdfPageSize(t,e=0){return P(this,null,function*(){try{let i=yield(yield fetch(t)).arrayBuffer(),o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:l}=o,_=(yield l.load(i)).getPage(e),{width:C,height:b}=_.getSize(),x=C>b?"landscape":"portrait";return{width:C,height:b,orientation:x}}catch(n){return console.error("\u274C PDF \uD398\uC774\uC9C0 \uD06C\uAE30 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",n),null}})}keepSpecificPages(t,e){return P(this,null,function*(){try{console.log("\u{1F4C4} \uD2B9\uC815 \uD398\uC774\uC9C0\uB9CC \uC720\uC9C0 \uC2DC\uC791:",e);let i=yield(yield fetch(t)).arrayBuffer(),o=window.PDFLib;if(!o)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:l}=o,u=yield l.load(i);console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218:",u.getPageCount());let _=yield l.create();(yield _.copyPages(u,e)).forEach(v=>_.addPage(v)),console.log("\u2705 \uD398\uC774\uC9C0 \uBCF5\uC0AC \uC644\uB8CC:",e.length,"\uAC1C \uD398\uC774\uC9C0");let b=yield _.save();return new Blob([b],{type:"application/pdf"})}catch(n){return console.error("\u274C \uD2B9\uC815 \uD398\uC774\uC9C0 \uC720\uC9C0 \uC2E4\uD328:",n),this.snackbar.showError("\uD398\uC774\uC9C0 \uC720\uC9C0\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),null}})}pdfBlobToDataUrl(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=new FileReader;i.onload=()=>e(i.result),i.onerror=n,i.readAsDataURL(t)})})}getPdfPageCount(t){return P(this,null,function*(){try{let n=yield(yield fetch(t)).arrayBuffer(),i=window.PDFLib;if(!i)throw new Error("PDF-lib \uB77C\uC774\uBE0C\uB7EC\uB9AC\uAC00 \uB85C\uB4DC\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");let{PDFDocument:o}=i;return(yield o.load(n)).getPageCount()}catch(e){return console.error("\u274C PDF \uD398\uC774\uC9C0 \uC218 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328:",e),0}})}createCombinedDocument(t){return P(this,null,function*(){try{t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2DC\uC791 (\uBCA1\uD130 + \uD14D\uC2A4\uD2B8 + \uC774\uBBF8\uC9C0)"),t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\uC2DC\uC791 \uC2DC\uAC04: ${new Date().toLocaleString()}`);let e=t.pdfDocBuilder.validateCombinedDocumentData({vectorData:t.loadedVectorData,textStreamData:t.textStreamRawData,pdfAnalysisData:t.pdfAnalysisData});if(t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 [1\uB2E8\uACC4] \uB370\uC774\uD130 \uAC80\uC99D \uC644\uB8CC"),t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u2705 [\uD655\uC778] \uBCA1\uD130: ${e.hasVector?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}, \uD14D\uC2A4\uD2B8: ${e.hasText?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}, \uC774\uBBF8\uC9C0: ${e.hasImages?"\uC788\uC74C \u2713":"\uC5C6\uC74C \u2717"}`),!e.valid)return this.snackbar.showError(e.message||"\uC0DD\uC131\uD560 \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),t.debugLogger.error("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u274C \uC5D0\uB7EC: \uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0 \uBAA8\uB450 \uC5C6\uC74C"),{success:!1};let{hasVector:n,hasText:i,hasImages:o}=e;t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F504} [2\uB2E8\uACC4] \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654"),t.initializeNewDocument(),t.debugLogger.success("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC"),t.cdr.detectChanges();let l=0,u=0,_=0,C=new Map;if(o){this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (1/3: \uC774\uBBF8\uC9C0 \uCD94\uCD9C)"),t.cdr.detectChanges(),C=yield t.extractImagesFromPdf();let S=Array.from(C.values()).reduce((D,I)=>D+I.length,0);t.cdr.detectChanges()}else t.cdr.detectChanges();if(n){t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u2705 hasVector = true, \uBCA1\uD130 \uCC98\uB9AC \uBE14\uB85D \uC9C4\uC785!"),this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (2/3: \uBCA1\uD130 \uCC98\uB9AC)"),t.cdr.detectChanges(),t.pdfPages.length>0&&(t.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u26A0\uFE0F pdfPages\uAC00 \uBE44\uC5B4\uC788\uC9C0 \uC54A\uC74C! ${t.pdfPages.length}\uD398\uC774\uC9C0 \u2192 0\uD398\uC774\uC9C0\uB85C \uCD08\uAE30\uD654`),t.pdfPages.length=0);let S=t.loadedVectorData.pageDetails?.length||1;t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F3AF} \uBCA1\uD130 \uD398\uC774\uC9C0 \uC81C\uD55C: ${S}\uD398\uC774\uC9C0`),yield t.vectorElementConverter.createPagesFromOriginalPdfSvg(t.loadedVectorData,t.pdfAnalysisData,t.pdfPages,t.pageWidth,t.pageHeight,t.addDebugLog),t.pdfPages.length>S&&(t.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u26A0\uFE0F \uD398\uC774\uC9C0 \uC218 \uCD08\uACFC \uAC10\uC9C0: ${t.pdfPages.length} \u2192 ${S}\uD398\uC774\uC9C0\uB85C \uC81C\uD55C`),t.pdfPages.length=S),l=t.pdfPages.length,t.cdr.detectChanges()}else t.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u274C hasVector = false, \uBCA1\uD130 \uCC98\uB9AC \uBE14\uB85D \uAC74\uB108\uB700!");this.snackbar.showInfo("\u{1F4CA} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC911... (3/3: \uD14D\uC2A4\uD2B8 \uC624\uBC84\uB808\uC774)");let b=t.loadedVectorData.pageDetails?.[0]?.svgGenerationMethod==="Canvas";b&&(t.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131","\u{1F504} Canvas Fallback \uAC10\uC9C0 - \uD14D\uC2A4\uD2B8/\uC774\uBBF8\uC9C0 \uCD94\uAC00 \uAC74\uB108\uB700"),console.warn("\u26A0\uFE0F Canvas Fallback \uBAA8\uB4DC: \uD14D\uC2A4\uD2B8\uC640 \uC774\uBBF8\uC9C0\uB294 \uCD94\uAC00\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."));let x=t.pdfPages.length;if(i&&n&&!b){if(t.cdr.detectChanges(),t.textStreamRawData&&t.textStreamRawData.pages){let S=t.textStreamRawData.pages.slice(0,x);t.debugLogger.info("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F3AF} \uD14D\uC2A4\uD2B8 \uD398\uC774\uC9C0 \uC81C\uD55C: ${t.textStreamRawData.pages.length} \u2192 ${S.length}\uD398\uC774\uC9C0`);let D=Le(ae({},t.textStreamRawData),{pages:S.map(I=>Le(ae({},I),{textItems:t.groupTextItems(I.textItems||[])}))});yield t.pageBuilder.overlayTextOnPages(D,t.pdfPages,I=>console.log(I))}t.cdr.detectChanges()}else if(i&&!n){t.cdr.detectChanges();let S=t.pageBuilder.createPagesFromTextStream(t.textStreamRawData,t.pdfPages,D=>console.log(D));t.pdfPages=S,u=t.pdfPages.length,this.snackbar.showSuccess(`\uD14D\uC2A4\uD2B8\uC2A4\uD2B8\uB9BC \uB370\uC774\uD130\uB85C ${t.pdfPages.length}\uAC1C \uD398\uC774\uC9C0\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),t.cdr.detectChanges()}if(o&&C.size>0&&!b){t.cdr.detectChanges();for(let[S,D]of C.entries()){let I=S-1;if(I<t.pdfPages.length){let H=t.pdfPages[I];for(let j of D)H.elements.push(j),t.debugLogger.info("\uC774\uBBF8\uC9C0\uC88C\uD45C",`\u{1F4CD} \uD398\uC774\uC9C0 ${S} \uC774\uBBF8\uC9C0 \uCD94\uAC00 - x: ${j.x?.toFixed(2)}pt, y: ${j.y?.toFixed(2)}pt, width: ${j.width?.toFixed(2)}pt, height: ${j.height?.toFixed(2)}pt`),j.transform?console.log(`   \u{1F4C4} Transform \uD3EC\uD568\uB428: [${j.transform.map(W=>W.toFixed(2)).join(", ")}]`):console.warn("   \u26A0\uFE0F Transform \uB370\uC774\uD130 \uC5C6\uC74C!",j)}}_=t.pdfPages.reduce((S,D)=>S+D.elements.filter(I=>I.type==="image").length,0),t.cdr.detectChanges()}else t.cdr.detectChanges();let v=t.pdfPages.reduce((S,D)=>S+D.elements.filter(I=>I.type==="svg").length,0),k=t.pdfPages.reduce((S,D)=>S+D.elements.filter(I=>I.type==="text").length,0),B=t.pdfPages.reduce((S,D)=>S+D.elements.filter(I=>I.type==="image").length,0);return b?(t.debugLogger.warn("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F504} Canvas Fallback \uBAA8\uB4DC \uC644\uB8CC - \uD398\uC774\uC9C0: ${t.pdfPages.length}, SVG\uB9CC \uD3EC\uD568 (\uD14D\uC2A4\uD2B8/\uC774\uBBF8\uC9C0 \uC81C\uC678)`),this.snackbar.showWarning(`\u26A0\uFE0F Canvas Fallback \uBAA8\uB4DC: SVG\uB9CC \uD3EC\uD568 (${t.pdfPages.length}\uCABD, \uD14D\uC2A4\uD2B8/\uC774\uBBF8\uC9C0 \uC81C\uC678)`)):(t.debugLogger.success("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u{1F389} \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC - \uD398\uC774\uC9C0: ${t.pdfPages.length}, SVG: ${v}, \uD14D\uC2A4\uD2B8: ${k}, \uC774\uBBF8\uC9C0: ${B}`),this.snackbar.showSuccess(`\u2705 \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC! (${t.pdfPages.length}\uCABD, SVG ${v}\uAC1C + \uD14D\uC2A4\uD2B8 ${k}\uAC1C)`)),t.closeAllModals(),{success:!0,pdfPages:t.pdfPages,totalPages:t.pdfPages.length,currentPage:1}}catch(e){return t.debugLogger.error("\uD63C\uD569\uBB38\uC11C\uC0DD\uC131",`\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328: ${e}`),this.snackbar.showError("\u274C \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),{success:!1}}})}loadImagePdfToEditor(t){return P(this,null,function*(){try{console.log("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC2DC\uC791...",t.pdfBlob);let e=t.pdfDocBuilder.validateImagePdfData(t.pdfBlob);if(!e.valid)return this.snackbar.showError(e.message||"PDF \uB370\uC774\uD130 \uAC80\uC99D \uC2E4\uD328"),{success:!1};this.snackbar.showInfo("\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 PDF\uB97C \uD3B8\uC9D1\uAE30\uC5D0 \uB85C\uB4DC \uC911..."),t.initializeNewDocument();let n=yield t.pdfBlob.arrayBuffer(),i=window["pdfjs-dist/build/pdf"];if(!i)throw new Error("PDF.js \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");i.VerbosityLevel&&(i.GlobalWorkerOptions.verbosity=0);let l=yield i.getDocument({data:n}).promise;console.log(`\u{1F4C4} PDF \uB85C\uB4DC \uC644\uB8CC: ${l.numPages} \uD398\uC774\uC9C0`);for(let _=1;_<=l.numPages;_++){let C=yield l.getPage(_),b=C.getViewport({scale:1});console.log(`\u{1F50D} \uD398\uC774\uC9C0 ${_} \uB85C\uB4DC (${b.width.toFixed(0)}x${b.height.toFixed(0)}pt)`);let x=yield C.getOperatorList(),v=[];for(let D=0;D<x.fnArray.length;D++){let I=x.fnArray[D];if(I===85||I===86){let H=null,j=[];for(let W=D-1;W>=0&&W>=D-20;W--){let X=x.fnArray[W],q=x.argsArray[W];if((X===12||X===74||X===75)&&j.unshift({fn:X,args:q}),X===11)break}if(j.length>0){let W=(q,me)=>[q[0]*me[0]+q[2]*me[1],q[1]*me[0]+q[3]*me[1],q[0]*me[2]+q[2]*me[3],q[1]*me[2]+q[3]*me[3],q[0]*me[4]+q[2]*me[5]+q[4],q[1]*me[4]+q[3]*me[5]+q[5]],X=j[0].args;for(let q=1;q<j.length;q++)X=W(X,j[q].args);H=X}v.push({name:x.argsArray[D][0],transform:H,index:D})}}console.log(`  \u{1F4E6} ${v.length}\uAC1C \uC774\uBBF8\uC9C0 \uBC1C\uACAC`);let k=document.createElement("canvas");k.width=b.width,k.height=b.height;let B=k.getContext("2d");if(!B)continue;yield C.render({canvasContext:B,viewport:b}).promise;let S={id:`page-${_}-${Date.now()}`,pageNumber:_,width:b.width/2,height:b.height/2,elements:[]};if(v.length>0)for(let D of v){if(!D.transform)continue;let[I,,,H,j,W]=D.transform.map(Math.abs),X=b.height/2,q=X-W-H,me=(X-W-H)*2,_e=document.createElement("canvas");_e.width=I*2,_e.height=H*2;let rt=_e.getContext("2d");rt&&(rt.drawImage(k,j*2,me,I*2,H*2,0,0,I*2,H*2),S.elements.push({id:`image-${_}-${D.index}-${Date.now()}`,type:"image",x:j,y:q,width:I,height:H,src:_e.toDataURL("image/png"),coordinateSystem:"svg"}))}else S.elements.push({id:`image-${_}-${Date.now()}`,type:"image",x:0,y:0,width:b.width/2,height:b.height/2,src:k.toDataURL("image/png"),coordinateSystem:"svg"});t.pdfPages.push(S)}let u=0;return t.cdr.detectChanges(),this.snackbar.showSuccess(`\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC! (${l.numPages} \uD398\uC774\uC9C0)`),console.log(`\u2705 \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC644\uB8CC: ${t.pdfPages.length} \uD398\uC774\uC9C0, ${t.pdfPages.reduce((_,C)=>_+C.elements.length,0)} \uC774\uBBF8\uC9C0`),{success:!0,pdfPages:t.pdfPages,currentPageIndex:u}}catch(e){return console.error("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("\u274C \uC774\uBBF8\uC9C0 PDF \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),{success:!1}}})}static \u0275fac=function(e){return new(e||a)(xe(ze))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var wn=class a{debugLogger=T(ft);snackbar=T(ze);constructor(){this.debugLogger.info("PDF\uBE4C\uB354","\u{1F3D7}\uFE0F PdfDocumentBuilderService \uCD08\uAE30\uD654")}validateVectorSvgData(t){if(!t)return{valid:!1,message:"\uC774\uBCA4\uD2B8 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."};let{vectorData:e,analysisData:n}=t;return e?n?n.hasVectorGraphics?{valid:!0,vectorData:e,analysisData:n}:{valid:!1,message:"\uBCA1\uD130 \uADF8\uB798\uD53D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."}:{valid:!1,message:"\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}:{valid:!1,message:"\uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}}validateTextStructureData(t){return t?!t.textStreamData&&!t.textAnalysis?{valid:!1,message:"\uD14D\uC2A4\uD2B8 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}:{valid:!0}:{valid:!1,message:"\uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}}validateCombinedDocumentData(t){let{vectorData:e,textStreamData:n,pdfAnalysisData:i}=t,o=!!(e&&i?.hasVectorGraphics),l=!!(n&&n.pageCount>0),u=!!(i?.hasImages&&i.imageInfo?.totalImages&&i.imageInfo.totalImages>0);return!o&&!l&&!u?{valid:!1,message:"\uBCA1\uD130, \uD14D\uC2A4\uD2B8, \uC774\uBBF8\uC9C0 \uC911 \uD558\uB098 \uC774\uC0C1 \uD544\uC694\uD569\uB2C8\uB2E4.",hasVector:!1,hasText:!1,hasImages:!1}:{valid:!0,hasVector:o,hasText:l,hasImages:u}}validateImagePdfData(t){return t?t.size===0?{valid:!1,message:"PDF \uD30C\uC77C\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4."}:t.type!=="application/pdf"?{valid:!1,message:"\uC62C\uBC14\uB978 PDF \uD30C\uC77C\uC774 \uC544\uB2D9\uB2C8\uB2E4."}:{valid:!0}:{valid:!1,message:"PDF Blob\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."}}validateOriginalPdfData(t){let e=t.pdfSrc||t.sources?.pdfSrc;return e?{valid:!0,pdfSrc:e}:{valid:!1,message:"\uC6D0\uBCF8 PDF \uC18C\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}}calculatePageSize(t){let e={width:595.28,height:841.89};if(!t?.pageSize&&!t?.metadata?.pageSize)return e;let n=t.pageSize||t.metadata?.pageSize;return{width:n.width||e.width,height:n.height||e.height}}generateFileName(t,e){let n=new Date().toISOString().slice(0,19).replace(/[:-]/g,"");return`${e?.replace(".pdf","")||"document"}${{"vector-svg":"_vector_svg","text-structure":"_text_structure",combined:"_combined","image-based":"_image_based","original-export":"_original"}[t]}_${n}.pdf`}formatErrorMessage(t,e){let i={"vector-svg":"\uBCA1\uD130 SVG PDF \uC0DD\uC131","text-structure":"\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uBB38\uC11C \uC0DD\uC131",combined:"\uD63C\uD569 \uBB38\uC11C \uC0DD\uC131","image-based":"\uC774\uBBF8\uC9C0 PDF \uC0DD\uC131","original-export":"\uC6D0\uBCF8 PDF \uB0B4\uBCF4\uB0B4\uAE30"}[t]||"PDF \uC0DD\uC131";return e?.message?`${i} \uC2E4\uD328: ${e.message}`:`${i}\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.`}formatSuccessMessage(t,e){let i={"vector-svg":"\uBCA1\uD130 SVG PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4","text-structure":"\uD14D\uC2A4\uD2B8 \uAD6C\uC870 \uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4",combined:"\uD63C\uD569 \uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4","image-based":"\uC774\uBBF8\uC9C0 PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4","original-export":"\uC6D0\uBCF8 PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uB0B4\uBCF4\uB0B4\uC84C\uC2B5\uB2C8\uB2E4"}[t]||"PDF\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4";return e?.pageCount&&(i+=` (${e.pageCount}\uD398\uC774\uC9C0)`),e?.elementCount&&(i+=` [${e.elementCount}\uAC1C \uC694\uC18C]`),i}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var bt=class a{debugLogs=[];constructor(){console.log("\u{1F3A8} VectorElementConverterService \uCD08\uAE30\uD654")}integrateVectorGraphicsIntoPages(t,e,n){return P(this,null,function*(){let i=e?.pageDetails||e?.pages;if(!e||!i||i.length===0){console.warn("\u26A0\uFE0F \uD1B5\uD569\uD560 \uBCA1\uD130 \uADF8\uB798\uD53D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F3A8} \uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC2DC\uC791:",{totalPages:t.length,vectorPages:i.length}),n("VECTOR_INTEGRATION","\uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC2DC\uC791",{totalPages:t.length,vectorPages:i.length});for(let o=0;o<t.length;o++){let l=t[o],u=o+1;if(o<i.length){let _=i[o];console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${u} \uBCA1\uD130 \uB370\uC774\uD130:`,{operations:_.operations?.length||0,hasOriginalSvg:!!_.originalSvg,dimensions:_.dimensions});let C=this.convertVectorOperationsToElements(_,u,n);C.length>0?(console.log(`\u2705 \uD398\uC774\uC9C0 ${u}\uC5D0 ${C.length}\uAC1C \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00`),l.elements.push(...C),n("VECTOR_ELEMENTS_ADDED",`\uD398\uC774\uC9C0 ${u}\uC5D0 \uBCA1\uD130 \uC694\uC18C \uCD94\uAC00`,{pageNumber:u,elementCount:C.length,totalElements:l.elements.length})):console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${u}\uC5D0 \uC0DD\uC131\uB41C \uBCA1\uD130 \uC694\uC18C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`)}}console.log("\u2705 \uBCA1\uD130 \uADF8\uB798\uD53D \uD1B5\uD569 \uC644\uB8CC")})}convertVectorOperationsToElements(t,e,n){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${e} \uBCA1\uD130 SVG \uBCC0\uD658 \uC2DC\uC791`);let i=[];if(t.svgContent||t.fullPageSvg){let o=t.svgContent||t.fullPageSvg,l=t.dimensions?.width||595,u=t.dimensions?.height||842,_={id:`pdf-svg-${e}`,type:"svg",x:0,y:0,width:l,height:u,svgContent:o,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-svg-content",pageNumber:e}};i.push(_),console.log(`\u2705 \uD398\uC774\uC9C0 ${e} SVG \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC`),n("VECTOR_SVG_ELEMENT",`\uD398\uC774\uC9C0 ${e} SVG \uC694\uC18C \uC0DD\uC131`,{pageNumber:e,svgLength:o.length})}else console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${e}\uC5D0 SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.`);return i}convertVectorOperationsToElements_DEPRECATED(t,e,n){console.log(`\u{1F504} \uD398\uC774\uC9C0 ${e} \uBCA1\uD130 \uC5F0\uC0B0 \uBCC0\uD658 \uC2DC\uC791:`,{operationCount:t.operations?.length||0,operations:(t.operations||[]).slice(0,10).map(k=>({type:k.type,argsCount:k.args?.length||0,hasCoordinates:!!k.coordinates}))});let i=[],o="",l=0,u=0,_=!1,C=0,b=[],x=null,v=null;return(t.operations||[]).forEach((k,B)=>{let S=k.args||[],D=k.coordinates;switch(n("VECTOR_OPERATION",`Operation ${B}: ${k.type}`,{type:k.type,args:S,coordinates:D,isVectorGraphic:k.isVectorGraphic}),k.type){case"moveTo":_&&o&&b.length>0&&(this.createVectorElementFromPath(i,o,b,e,C++),b.length=0),D&&D.x!==void 0&&D.y!==void 0?(l=D.x,u=D.y,o=`M ${l} ${u}`,b.push({x:l,y:u}),_=!0):S.length>=2&&typeof S[0]=="number"&&(l=Number(S[0]),u=Number(S[1]),o=`M ${l} ${u}`,b.push({x:l,y:u}),_=!0);break;case"lineTo":if(_){let I,H;D&&D.x!==void 0&&D.y!==void 0?(I=D.x,H=D.y):S.length>=2&&typeof S[0]=="number"&&(I=Number(S[0]),H=Number(S[1])),I!==void 0&&H!==void 0&&(o+=` L ${I} ${H}`,b.push({x:I,y:H}),l=I,u=H)}break;case"curve":case"bezierCurveTo":if(_&&S.length>=6){let I=Number(S[0]),H=Number(S[1]),j=Number(S[2]),W=Number(S[3]),X=Number(S[4]),q=Number(S[5]);o+=` C ${I} ${H} ${j} ${W} ${X} ${q}`,b.push({x:I,y:H},{x:j,y:W},{x:X,y:q}),l=X,u=q}break;case"closePath":_&&(o+=" Z",b.length>0&&(this.createVectorElementFromPath(i,o,b,e,C++),b.length=0),_=!1,o="");break;case"rectangle":if(S.length>=4){let I=this.createRectangleFromVectorArgs(S,e,C++);I&&i.push(I)}break;case"circle":if(S.length>=3){let I=this.createCircleFromVectorArgs(S,e,C++);I&&i.push(I)}break;case"stroke":case"fill":_&&o&&b.length>0&&(this.createVectorElementFromPath(i,o,b,e,C++),b.length=0,_=!1,o="");break}}),_&&o&&b.length>0&&this.createVectorElementFromPath(i,o,b,e,C++),console.log(`\u2705 \uD398\uC774\uC9C0 ${e} \uBCA1\uD130 \uBCC0\uD658 \uC644\uB8CC: ${i.length}\uAC1C \uC694\uC18C \uC0DD\uC131`),i}createVectorElementFromPath(t,e,n,i,o){if(n.length===0)return;let l=this.calculateBoundingBoxFromPoints(n),u={id:`vector-path-${i}-${o}`,type:"vector-path",x:l.x,y:l.y,width:l.width,height:l.height,pathData:e,strokeColor:"#2c3e50",strokeWidth:2,fillColor:"none",rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-vector-operations",pageNumber:i}};t.push(u)}calculateBoundingBoxFromPoints(t){if(t.length===0)return{x:0,y:0,width:100,height:100};let e=t.map(b=>b.x),n=t.map(b=>b.y),i=Math.min(...e),o=Math.max(...e),l=Math.min(...n),u=Math.max(...n),_=o-i,C=u-l;return{x:i,y:l,width:_>0?_:100,height:C>0?C:100}}createRectangleFromVectorArgs(t,e,n){if(t.length<4)return null;let i=Number(t[0]),o=Number(t[1]),l=Number(t[2]),u=Number(t[3]);return{id:`vector-rect-${e}-${n}`,type:"shape",shapeType:"rectangle",x:i,y:o,width:Math.abs(l),height:Math.abs(u),fillColor:"#e3f2fd",strokeColor:"#2196f3",strokeWidth:2,rotation:0,opacity:.8,metadata:{isVectorGraphic:!0,source:"pdf-rectangle",pageNumber:e}}}createCircleFromVectorArgs(t,e,n){if(t.length<3)return null;let i=Number(t[0]),o=Number(t[1]),l=Number(t[2]);return{id:`vector-circle-${e}-${n}`,type:"shape",shapeType:"circle",x:i-l,y:o-l,width:l*2,height:l*2,fillColor:"#fff3e0",strokeColor:"#ff9800",strokeWidth:2,rotation:0,opacity:.8,metadata:{isVectorGraphic:!0,source:"pdf-circle",pageNumber:e}}}createPagesFromOriginalPdfSvg(t,e,n,i,o,l){return P(this,null,function*(){console.log("\u{1F3A8} \uC6D0\uBCF8 PDF SVG\uB85C\uBD80\uD130 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC2DC\uC791"),l("VectorService","\u{1F3A8} createPagesFromOriginalPdfSvg \uC2DC\uC791"),l("VectorService",`vectorData \uC874\uC7AC: ${!!t}`),l("VectorService",`pdfPages \uCD08\uAE30 \uAE38\uC774: ${n.length}`);let u=t?.pageDetails||t?.pages;if(l("VectorService",`pages \uCD94\uCD9C \uACB0\uACFC: ${!!u}, \uAE38\uC774: ${u?.length||0}`),!t||!u||u.length===0){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),l("VectorService","\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130 \uC5C6\uC74C - \uC870\uAE30 \uC885\uB8CC");return}l("CREATE_PAGES_SVG","\uC6D0\uBCF8 PDF SVG \uD398\uC774\uC9C0 \uC0DD\uC131",{totalPages:u.length});for(let b=0;b<u.length;b++){let x=u[b],v=b+1;console.log(`\u{1F4C4} \uD398\uC774\uC9C0 ${v} SVG \uC0DD\uC131 \uC911...`),l("VectorService",`\u{1F4C4} \uD398\uC774\uC9C0 ${v} \uCC98\uB9AC \uC2DC\uC791`),console.log("\u{1F50D} pageData \uAD6C\uC870:",{hasOriginalSvg:!!x.originalSvg,hasOperations:!!x.operations,operationsLength:x.operations?.length||0,keys:Object.keys(x)}),l("VectorService",`\uD398\uC774\uC9C0 ${v} \uB370\uC774\uD130 - originalSvg: ${!!x.originalSvg}, operations: ${x.operations?.length||0}\uAC1C`),l("VectorService",`\uD398\uC774\uC9C0 ${v} \uD0A4: ${Object.keys(x).join(", ")}`);let k={id:`page-${v}`,pageNumber:v,width:i,height:o,elements:[],thumbnail:void 0};if(x.svgContent&&x.svgContent.length>100){l("VectorService",`\uD398\uC774\uC9C0 ${v}: svgContent \uACBD\uB85C \uC120\uD0DD (${x.svgContent.length} bytes)`);let B={id:`pdf-svg-${v}`,type:"svg",x:0,y:0,width:i,height:o,svgContent:x.svgContent,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-svg-content",pageNumber:v}};k.elements.push(B),console.log(`\u2705 \uD398\uC774\uC9C0 ${v}: svgContent SVG \uCD94\uAC00`),l("VectorService",`\u2705 \uD398\uC774\uC9C0 ${v}: svgContent \uCD94\uAC00 \uC644\uB8CC`)}else if(x.fullPageSvg&&x.fullPageSvg.length>100){l("VectorService",`\uD398\uC774\uC9C0 ${v}: fullPageSvg \uACBD\uB85C \uC120\uD0DD (${x.fullPageSvg.length} bytes)`);let B={id:`pdf-svg-${v}`,type:"svg",x:0,y:0,width:i,height:o,svgContent:x.fullPageSvg,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-fullpage-svg",pageNumber:v}};k.elements.push(B),console.log(`\u2705 \uD398\uC774\uC9C0 ${v}: fullPageSvg SVG \uCD94\uAC00`),l("VectorService",`\u2705 \uD398\uC774\uC9C0 ${v}: fullPageSvg \uCD94\uAC00 \uC644\uB8CC`)}else if(x.originalSvg){l("VectorService",`\uD398\uC774\uC9C0 ${v}: originalSvg \uACBD\uB85C \uC120\uD0DD`);let B={id:`pdf-svg-${v}`,type:"svg",x:0,y:0,width:i,height:o,svgContent:x.originalSvg,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-original-svg",pageNumber:v}};k.elements.push(B),console.log(`\u2705 \uD398\uC774\uC9C0 ${v}: \uC6D0\uBCF8 SVG \uCD94\uAC00`),l("VectorService",`\u2705 \uD398\uC774\uC9C0 ${v}: originalSvg \uCD94\uAC00 \uC644\uB8CC`)}else if(x.svgContent&&x.svgContent.length>100){l("VectorService",`\uD398\uC774\uC9C0 ${v}: svgContent \uACBD\uB85C \uC120\uD0DD (${x.svgContent.length} bytes)`);let B={id:`pdf-svg-${v}`,type:"svg",x:0,y:0,width:i,height:o,svgContent:x.svgContent,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-svg-content",pageNumber:v}};k.elements.push(B),console.log(`\u2705 \uD398\uC774\uC9C0 ${v}: svgContent SVG \uCD94\uAC00`),l("VectorService",`\u2705 \uD398\uC774\uC9C0 ${v}: svgContent \uCD94\uAC00 \uC644\uB8CC`)}else console.warn(`\u26A0\uFE0F \uD398\uC774\uC9C0 ${v}: SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4 (svgContent, fullPageSvg, originalSvg \uBAA8\uB450 \uC5C6\uC74C)`),l("VectorService",`\u26A0\uFE0F \uD398\uC774\uC9C0 ${v}: SVG \uCF58\uD150\uCE20 \uC5C6\uC74C`);n.push(k),console.log(`\u{1F4CA} \uD398\uC774\uC9C0 ${v} \uC0DD\uC131 \uC644\uB8CC: ${k.elements.length}\uAC1C \uC694\uC18C (svg: ${k.elements.filter(B=>B.type==="svg").length})`),l("VectorService",`\uD398\uC774\uC9C0 ${v}: pdfPages\uC5D0 \uCD94\uAC00, \uC694\uC18C=${k.elements.length}\uAC1C, \uD604\uC7AC \uCD1D ${n.length}\uD398\uC774\uC9C0`)}let _=n.reduce((b,x)=>b+x.elements.length,0),C=n.reduce((b,x)=>b+x.elements.filter(v=>v.type==="svg").length,0);console.log(`\u2705 ${n.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC (\uC6D0\uBCF8 SVG): \uCD1D ${_}\uAC1C \uC694\uC18C, svg=${C}\uAC1C`),l("VectorService",`\u2705 \uC804\uCCB4 \uC644\uB8CC: ${n.length}\uAC1C \uD398\uC774\uC9C0, ${_}\uAC1C \uC694\uC18C, svg=${C}\uAC1C`)})}createPagesFromVectorSvg(t,e,n,i,o,l,u){return P(this,null,function*(){console.log("\u{1F3A8} \uBCA1\uD130 SVG\uB85C\uBD80\uD130 \uD398\uC774\uC9C0 \uC0DD\uC131 \uC2DC\uC791");let _=t?.pageDetails||t?.pages;if(!t||!_||_.length===0){console.warn("\u26A0\uFE0F \uBCA1\uD130 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}for(let C=0;C<_.length;C++){let b=_[C],x=C+1,v={id:`page-${x}`,pageNumber:x,width:i,height:o,elements:[],thumbnail:void 0},k=l(b,x);if(k&&k.length>100){let B={id:`vector-svg-${x}`,type:"svg",x:0,y:0,width:i,height:o,svgContent:k,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"generated-svg",pageNumber:x}};v.elements.push(B),console.log(`\u2705 \uD398\uC774\uC9C0 ${x}: \uC0DD\uC131\uB41C SVG \uCD94\uAC00 (${k.length} bytes)`)}n.push(v)}console.log(`\u2705 ${n.length}\uAC1C \uD398\uC774\uC9C0 \uC0DD\uC131 \uC644\uB8CC (\uBCA1\uD130 SVG)`)})}createRectangleElementsFromOperations(t,e,n,i,o){let l=[],u=null,_=null,C=[];for(let b=0;b<t.length;b++){let x=t[b];if(x.fnCode===31){C.push({fill:u,stroke:_});continue}if(x.fnCode===32){let v=C.pop();v&&(u=v.fill,_=v.stroke);continue}if(x.fnCode===59&&x.args){let v=x.args,k=v[0]||v.r||0,B=v[1]||v.g||0,S=v[2]||v.b||0,D=k<=1?Math.round(k*255):Math.round(k),I=B<=1?Math.round(B*255):Math.round(B),H=S<=1?Math.round(S*255):Math.round(S);u=`rgb(${D}, ${I}, ${H})`}if(x.fnCode===60&&x.args){let v=x.args,k=v[0]||v.r||0,B=v[1]||v.g||0,S=v[2]||v.b||0,D=k<=1?Math.round(k*255):Math.round(k),I=B<=1?Math.round(B*255):Math.round(B),H=S<=1?Math.round(S*255):Math.round(S);_=`rgb(${D}, ${I}, ${H})`}if(x.fnCode===91&&x.args&&Array.isArray(x.args[0])&&x.args[0].includes(19)){let k=x.args[1];if(k&&k.length>=4){let B=k[0],S=k[1],D=k[2],I=k[3],H=i-S-I,j=`<svg xmlns="http://www.w3.org/2000/svg" width="${n}" height="${i}" viewBox="0 0 ${n} ${i}">
  <rect x="${B}" y="${H}" width="${D}" height="${I}" fill="${u||"transparent"}" stroke="${_||"none"}" stroke-width="${_?1:0}"/>
</svg>`,W={id:`rect-${e}-${l.length+1}`,type:"svg",x:0,y:0,width:n,height:i,svgContent:j,rotation:0,opacity:1,metadata:{isVectorGraphic:!0,source:"pdf-rectangle-operation",pageNumber:e,rectangleIndex:l.length+1,fillColor:u,strokeColor:_,coordinates:{x:B,y:H,width:D,height:I}}};l.push(W),o("VectorService",`Rectangle \uC0DD\uC131: x=${B}, y=${S}->${H}, w=${D}, h=${I}, fill=${u}`)}}}return console.log(`\u{1F3A8} \uD398\uC774\uC9C0 ${e}: ${l.length}\uAC1C rectangle \uC694\uC18C \uC0DD\uC131`),l}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var yn=class a{constructor(){}saveCurrentDocument(t,e){if(!t){e.showWarning("\uC800\uC7A5\uD560 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4");return}e.showInfo("\uBB38\uC11C \uC800\uC7A5 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4")}updateRecentDocsCache(t,e,n){return P(this,null,function*(){try{let i=yield t.getRecentDocuments(5);console.log("\uCD5C\uADFC \uBB38\uC11C \uC870\uD68C \uACB0\uACFC:",i.length,"\uAC1C",i.map(l=>({title:l.title,type:l.documentType,pdfSrc:!!l.pdfSrc})));let o=i.map(l=>{let u=l.documentType||(l.pdfSrc?"viewer":"editor"),_=u==="viewer",C=_?"\u{1F4D6}":"\u{1F4DD}",b=_?"\uBDF0\uC5B4":"\uC0DD\uC131",x=_?"PDF \uBDF0\uC5B4\uB85C \uC5F4\uB9B0 \uBB38\uC11C":"\uD3B8\uC9D1\uAE30\uB85C \uC0DD\uC131\uD55C \uBB38\uC11C";return{id:l.id,title:l.title,description:`${x} | \uC800\uC7A5\uC77C: ${new Date(l.updatedAt).toLocaleDateString()} | ${l.elementCount||0}\uAC1C \uC694\uC18C`,date:l.updatedAt,data:l,typeIcon:C,typeLabel:b,documentType:u}});console.log("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC:",o.length,"\uAC1C"),e(o)}catch(i){console.error("\uCD5C\uADFC \uBB38\uC11C \uCE90\uC2DC \uC5C5\uB370\uC774\uD2B8 \uC624\uB958:",i),n&&n()}})}loadAsViewerMode(t,e,n,i){let o="",l="";if(t.pdfBase64)try{let x=t.pdfBase64.split(",")[1]||t.pdfBase64,v=atob(x),k=new Uint8Array(v.length);for(let D=0;D<v.length;D++)k[D]=v.charCodeAt(D);let B=new Blob([k],{type:"application/pdf"}),S=URL.createObjectURL(B);o=S,l=t.pdfBase64,console.log("Base64 \uB370\uC774\uD130\uB85C\uBD80\uD130 PDF URL \uC0DD\uC131\uB428:",S)}catch(x){if(console.error("Base64 \uB370\uC774\uD130 \uBCC0\uD658 \uC2E4\uD328:",x),t.pdfSrc)o=t.pdfSrc;else{i.showError("PDF \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),n(!0,t);return}}else if(t.pdfSrc)o=t.pdfSrc,console.log("\uAE30\uC874 pdfSrc \uC0AC\uC6A9:",t.pdfSrc);else{console.warn("PDF \uBDF0\uC5B4 \uBB38\uC11C\uC778\uB370 PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uD569\uB2C8\uB2E4."),n(!0,t);return}let u=t.fileName||t.title,_=t.pages||[],C=_.length,b=1;console.log("PDF \uBDF0\uC5B4 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:","\uD398\uC774\uC9C0 \uC218:",C),e({pdfSrc:o,pdfBase64Data:l,loadedFileName:u,pdfPages:_,totalPages:C,currentPage:b})}loadAsEditorMode(t,e,n,i){let o=t.pages||[{id:"page-1",pageNumber:1,elements:[],width:e,height:n}],l=o.length;console.log("\uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC\uB428:",o.length,"\uD398\uC774\uC9C0"),i({pdfSrc:null,loadedFileName:"",pdfBase64Data:"",pdfPages:o,selectedElement:null,editingElement:null,currentPage:1,totalPages:l})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var Ct={textLayer:!0,handTool:!1,showBorders:!1,sidebarVisible:!1,displayLanguage:"ko",renderQuality:"high",defaultZoom:"page-fit",mobileAutoZoom:!0,touchGestures:!0,enablePrefetch:!0,maxCachePages:20,disableStream:!1,highContrastMode:!1,fontSize:"medium"},Do=[{value:"ko",label:"\uD55C\uAD6D\uC5B4",nativeLabel:"Korean"},{value:"en",label:"English",nativeLabel:"\uC601\uC5B4"},{value:"ja",label:"\u65E5\u672C\u8A9E",nativeLabel:"\uC77C\uBCF8\uC5B4"},{value:"zh",label:"\u4E2D\u6587",nativeLabel:"\uC911\uAD6D\uC5B4"},{value:"es",label:"Espa\xF1ol",nativeLabel:"\uC2A4\uD398\uC778\uC5B4"},{value:"fr",label:"Fran\xE7ais",nativeLabel:"\uD504\uB791\uC2A4\uC5B4"},{value:"de",label:"Deutsch",nativeLabel:"\uB3C5\uC77C\uC5B4"}],To=[{value:"page-fit",label:"\uD398\uC774\uC9C0 \uB9DE\uCDA4"},{value:"page-width",label:"\uB108\uBE44 \uB9DE\uCDA4"},{value:50,label:"50%"},{value:75,label:"75%"},{value:100,label:"100%"},{value:125,label:"125%"},{value:150,label:"150%"}];var Mn=class a{STORAGE_KEY="ezreader_pdf_settings";settings$=new et(Ct);constructor(){this.loadSettings()}getSettings(){return this.settings$.asObservable()}getCurrentSettings(){return this.settings$.value}updateSettings(t){let e=ae(ae({},this.settings$.value),t);this.settings$.next(e),this.saveSettings(e)}updateSetting(t,e){let n=Le(ae({},this.settings$.value),{[t]:e});this.settings$.next(n),this.saveSettings(n)}resetToDefaults(){this.settings$.next(Ct),this.saveSettings(Ct)}getViewerConfig(){let t=this.getCurrentSettings();return{textLayer:t.textLayer,handTool:t.handTool,showBorders:t.showBorders,sidebarVisible:t.sidebarVisible,zoom:t.defaultZoom}}loadSettings(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t){let e=JSON.parse(t),n=ae(ae({},Ct),e);this.settings$.next(n)}}catch(t){console.error("[PdfSettings] \uC124\uC815 \uB85C\uB4DC \uC2E4\uD328:",t),this.settings$.next(Ct)}}saveSettings(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(e){console.error("[PdfSettings] \uC124\uC815 \uC800\uC7A5 \uC2E4\uD328:",e)}}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var Re=class a{constructor(t){this.router=t;setTimeout(()=>{this.isAuthenticatedSubject.next(this.checkAuth()),this.checkSessionExpiry()},0)}STORAGE_KEY="ez_reader_auth_token";SESSION_KEY="ez_reader_session_timestamp";SESSION_DURATION=480*60*1e3;isAuthenticatedSubject=new et(!1);isAuthenticated$=this.isAuthenticatedSubject.asObservable();AUTH_HASH=this.simpleHash("admin1017");EZ_AUTH_HASH=this.simpleHash("admin1234");login(t,e){let n=this.simpleHash(t+e),i=Ni.ezMode?this.EZ_AUTH_HASH:this.AUTH_HASH;if(n===i){let o=Date.now().toString();return sessionStorage.setItem(this.STORAGE_KEY,"authenticated"),sessionStorage.setItem(this.SESSION_KEY,o),this.isAuthenticatedSubject.next(!0),!0}return!1}logout(){console.log("[EzReaderAuth] \uB85C\uADF8\uC544\uC6C3");try{sessionStorage.removeItem(this.STORAGE_KEY),sessionStorage.removeItem(this.SESSION_KEY),this.isAuthenticatedSubject.next(!1)}catch(t){console.error("[EzReaderAuth] \uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958:",t)}}isAuthenticated(){return this.checkAuth()}checkAuth(){let t=sessionStorage.getItem(this.STORAGE_KEY),e=sessionStorage.getItem(this.SESSION_KEY);if(!t||!e)return!1;let n=parseInt(e,10);return Date.now()-n>this.SESSION_DURATION?(sessionStorage.removeItem(this.STORAGE_KEY),sessionStorage.removeItem(this.SESSION_KEY),!1):t==="authenticated"}checkSessionExpiry(){setInterval(()=>{!this.checkAuth()&&this.isAuthenticatedSubject.value&&this.logout()},6e4)}simpleHash(t){let e=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);e=(e<<5)-e+i,e=e&e}return Math.abs(e).toString(16).padStart(16,"0")}static \u0275fac=function(e){return new(e||a)(xe(we))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function Qo(a,t){if(a&1&&(r(0,"option",23),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),rn(" ",e.label," (",e.nativeLabel,") ")}}function qo(a,t){if(a&1&&(r(0,"option",23),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),N(" ",e.label," ")}}function Yo(a,t){if(a&1){let e=M();r(0,"div",17)(1,"div",18)(2,"h3"),d(3,"\u{1F310} UI \uD45C\uC2DC \uC5B8\uC5B4"),s(),r(4,"select",19),h("change",function(i){g(e);let o=p();return m(o.updateSetting("displayLanguage",i.target.value))}),w(5,Qo,2,3,"option",20),s()(),r(6,"div",18)(7,"h3"),d(8,"\u{1F3A8} \uB80C\uB354\uB9C1 \uD488\uC9C8"),s(),r(9,"label",21)(10,"input",22),h("change",function(){g(e);let i=p();return m(i.updateSetting("renderQuality","high"))}),s(),r(11,"span"),d(12,"\uACE0\uD488\uC9C8 (\uAD8C\uC7A5)"),s(),r(13,"small"),d(14,"\uC120\uBA85\uD55C \uD14D\uC2A4\uD2B8 \uBC0F \uC774\uBBF8\uC9C0"),s()(),r(15,"label",21)(16,"input",22),h("change",function(){g(e);let i=p();return m(i.updateSetting("renderQuality","standard"))}),s(),r(17,"span"),d(18,"\uD45C\uC900"),s(),r(19,"small"),d(20,"\uADE0\uD615\uC7A1\uD78C \uD488\uC9C8"),s()(),r(21,"label",21)(22,"input",22),h("change",function(){g(e);let i=p();return m(i.updateSetting("renderQuality","low"))}),s(),r(23,"span"),d(24,"\uC800\uD488\uC9C8 (\uBE60\uB978 \uB85C\uB529)"),s(),r(25,"small"),d(26,"\uBE60\uB978 \uB85C\uB529, \uB0AE\uC740 \uD488\uC9C8"),s()()(),r(27,"div",18)(28,"h3"),d(29,"\u{1F4CF} \uAE30\uBCF8 \uC90C \uB808\uBCA8"),s(),r(30,"select",19),h("change",function(i){g(e);let o=p();return m(o.updateSetting("defaultZoom",i.target.value==="page-fit"||i.target.value==="page-width"||i.target.value==="auto"?i.target.value:+i.target.value))}),w(31,qo,2,2,"option",20),s()()()}if(a&2){let e=p();c(4),f("value",e.settings.displayLanguage),c(),f("ngForOf",e.languageOptions),c(5),f("checked",e.settings.renderQuality==="high"),c(6),f("checked",e.settings.renderQuality==="standard"),c(6),f("checked",e.settings.renderQuality==="low"),c(8),f("value",e.settings.defaultZoom),c(),f("ngForOf",e.zoomOptions)}}function Ko(a,t){if(a&1){let e=M();r(0,"div",17)(1,"div",18)(2,"h3"),d(3,"\u26A1 \uD398\uC774\uC9C0 \uB85C\uB529"),s(),r(4,"label",24)(5,"input",25),h("change",function(){g(e);let i=p();return m(i.updateSetting("enablePrefetch",!i.settings.enablePrefetch))}),s(),r(6,"span"),d(7,"\uD398\uC774\uC9C0 \uBBF8\uB9AC \uAC00\uC838\uC624\uAE30"),s(),r(8,"small"),d(9,"\uB2E4\uC74C \uD398\uC774\uC9C0\uB97C \uBBF8\uB9AC \uB85C\uB529"),s()(),r(10,"label",24)(11,"input",25),h("change",function(){g(e);let i=p();return m(i.updateSetting("disableStream",i.settings.disableStream))}),s(),r(12,"span"),d(13,"\uC2A4\uD2B8\uB9AC\uBC0D \uBAA8\uB4DC"),s(),r(14,"small"),d(15,"\uD070 PDF \uD30C\uC77C \uCCAD\uD06C \uB85C\uB529"),s()()(),r(16,"div",18)(17,"h3"),d(18,"\u{1F4BE} \uCE90\uC2DC \uC124\uC815"),s(),r(19,"label",26)(20,"span"),d(21),s(),r(22,"input",27),h("input",function(i){g(e);let o=p();return m(o.updateSetting("maxCachePages",+i.target.value))}),s(),r(23,"small"),d(24,"\uBA54\uBAA8\uB9AC\uC5D0 \uC800\uC7A5\uD560 \uD398\uC774\uC9C0 \uC218 (5-50)"),s()()()()}if(a&2){let e=p();c(5),f("checked",e.settings.enablePrefetch),c(6),f("checked",!e.settings.disableStream),c(10),N("\uCD5C\uB300 \uCE90\uC2DC \uD398\uC774\uC9C0: ",e.settings.maxCachePages,"\uAC1C"),c(),f("value",e.settings.maxCachePages)}}function Zo(a,t){if(a&1){let e=M();r(0,"div",17)(1,"div",18)(2,"h3"),d(3,"\u{1F4F1} \uBAA8\uBC14\uC77C \uCD5C\uC801\uD654"),s(),r(4,"label",24)(5,"input",25),h("change",function(){g(e);let i=p();return m(i.updateSetting("mobileAutoZoom",!i.settings.mobileAutoZoom))}),s(),r(6,"span"),d(7,"\uBAA8\uBC14\uC77C \uC790\uB3D9 \uC90C"),s(),r(8,"small"),d(9,"\uBAA8\uBC14\uC77C\uC5D0\uC11C \uCD5C\uC801 \uC90C \uC790\uB3D9 \uC801\uC6A9"),s()(),r(10,"label",24)(11,"input",25),h("change",function(){g(e);let i=p();return m(i.updateSetting("touchGestures",!i.settings.touchGestures))}),s(),r(12,"span"),d(13,"\uD130\uCE58 \uC81C\uC2A4\uCC98 \uD65C\uC131\uD654"),s(),r(14,"small"),d(15,"\uD540\uCE58 \uC90C, \uC2A4\uC640\uC774\uD504 \uB4F1"),s()()()()}if(a&2){let e=p();c(5),f("checked",e.settings.mobileAutoZoom),c(6),f("checked",e.settings.touchGestures)}}function Xo(a,t){if(a&1){let e=M();r(0,"div",17)(1,"div",18)(2,"h3"),d(3,"\u267F \uC811\uADFC\uC131"),s(),r(4,"label",24)(5,"input",25),h("change",function(){g(e);let i=p();return m(i.updateSetting("highContrastMode",!i.settings.highContrastMode))}),s(),r(6,"span"),d(7,"\uACE0\uB300\uBE44 \uBAA8\uB4DC"),s(),r(8,"small"),d(9,"\uD14D\uC2A4\uD2B8 \uAC00\uB3C5\uC131 \uD5A5\uC0C1"),s()()(),r(10,"div",18)(11,"h3"),d(12,"\u{1F524} \uAE30\uBCF8 \uD3F0\uD2B8 \uD06C\uAE30"),s(),r(13,"label",21)(14,"input",28),h("change",function(){g(e);let i=p();return m(i.updateSetting("fontSize","small"))}),s(),r(15,"span"),d(16,"\uC791\uAC8C"),s()(),r(17,"label",21)(18,"input",28),h("change",function(){g(e);let i=p();return m(i.updateSetting("fontSize","medium"))}),s(),r(19,"span"),d(20,"\uBCF4\uD1B5 (\uAD8C\uC7A5)"),s()(),r(21,"label",21)(22,"input",28),h("change",function(){g(e);let i=p();return m(i.updateSetting("fontSize","large"))}),s(),r(23,"span"),d(24,"\uD06C\uAC8C"),s()()()()}if(a&2){let e=p();c(5),f("checked",e.settings.highContrastMode),c(9),f("checked",e.settings.fontSize==="small"),c(4),f("checked",e.settings.fontSize==="medium"),c(4),f("checked",e.settings.fontSize==="large")}}function Jo(a,t){if(a&1){let e=M();r(0,"div",18)(1,"h3"),d(2,"\u{1F464} \uB85C\uADF8\uC778"),s(),r(3,"p",30),d(4,"\uB85C\uADF8\uC778\uD558\uC5EC \uC124\uC815\uC744 \uB3D9\uAE30\uD654\uD558\uACE0 \uB354 \uB9CE\uC740 \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD558\uC138\uC694."),s(),r(5,"div",31)(6,"div",32)(7,"label",33),d(8,"\uC544\uC774\uB514"),s(),r(9,"input",34),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.loginUsername,i)||(o.loginUsername=i),m(i)}),h("keyup.enter",function(){g(e);let i=p(2);return m(i.onLogin())}),s()(),r(10,"div",32)(11,"label",35),d(12,"\uBE44\uBC00\uBC88\uD638"),s(),r(13,"input",36),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.loginPassword,i)||(o.loginPassword=i),m(i)}),h("keyup.enter",function(){g(e);let i=p(2);return m(i.onLogin())}),s()(),r(14,"button",37),h("click",function(){g(e);let i=p(2);return m(i.onLogin())}),z(),r(15,"svg",38),y(16,"path",39)(17,"polyline",40)(18,"line",41),s(),oe(),r(19,"span"),d(20,"\uB85C\uADF8\uC778"),s()()()()}if(a&2){let e=p(2);c(9),A("ngModel",e.loginUsername),c(4),A("ngModel",e.loginPassword)}}function ea(a,t){if(a&1){let e=M();r(0,"div",18)(1,"h3"),d(2,"\u{1F464} \uB0B4 \uC815\uBCF4"),s(),r(3,"div",42)(4,"div",43),z(),r(5,"svg",44),y(6,"path",45)(7,"circle",46),s()(),oe(),r(8,"div",47)(9,"p",48),d(10),s(),r(11,"p",49),d(12,"\uB85C\uADF8\uC778 \uC0C1\uD0DC"),s()()(),r(13,"button",50),h("click",function(){g(e);let i=p(2);return m(i.onLogout())}),z(),r(14,"svg",38),y(15,"path",51)(16,"polyline",52)(17,"line",53),s(),oe(),r(18,"span"),d(19,"\uB85C\uADF8\uC544\uC6C3"),s()()()}if(a&2){let e=p(2);c(10),R(e.currentUserId)}}function ta(a,t){if(a&1&&(r(0,"div",17),w(1,Jo,21,2,"div",29)(2,ea,20,1,"div",29),s()),a&2){let e=p();c(),f("ngIf",!e.isLoggedIn),c(),f("ngIf",e.isLoggedIn)}}var vt=class a{constructor(t,e,n,i){this.pdfSettingsService=t;this.authService=e;this.router=n;this.dialogRef=i;this.settings=this.pdfSettingsService.getCurrentSettings()}close=new E;settings;languageOptions=Do;zoomOptions=To;activeTab="display";isLoggedIn=!1;currentUserId="";loginUsername="";loginPassword="";destroy$=new Ce;ngOnInit(){this.pdfSettingsService.getSettings().pipe(De(this.destroy$)).subscribe(t=>{this.settings=t}),this.authService.isAuthenticated$.pipe(De(this.destroy$)).subscribe(t=>{this.isLoggedIn=t,t&&(this.currentUserId="admin",this.loginUsername="",this.loginPassword="")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setActiveTab(t){this.activeTab=t}updateSetting(t,e){this.pdfSettingsService.updateSetting(t,e)}resetToDefaults(){confirm("\uBAA8\uB4E0 \uC124\uC815\uC744 \uAE30\uBCF8\uAC12\uC73C\uB85C \uBCF5\uC6D0\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&this.pdfSettingsService.resetToDefaults()}onClose(){this.dialogRef.close()}onBackdropClick(t){t.target===t.currentTarget&&this.onClose()}onKeyDown(t){t.key==="Escape"&&this.onClose()}onLogin(){return P(this,null,function*(){if(!this.loginUsername||!this.loginPassword){alert("\uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694.");return}this.authService.login(this.loginUsername,this.loginPassword)?(this.isLoggedIn=!0,this.currentUserId=this.loginUsername,this.loginUsername="",this.loginPassword=""):alert("\uB85C\uADF8\uC778\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4. \uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638\uB97C \uD655\uC778\uD558\uC138\uC694.")})}onLogout(){return P(this,null,function*(){(yield qe("\uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"))&&(this.authService.logout(),this.isLoggedIn=!1,this.currentUserId="")})}static \u0275fac=function(e){return new(e||a)(G(Mn),G(Re),G(we),G(oo))};static \u0275cmp=L({type:a,selectors:[["app-pdf-settings-modal"]],outputs:{close:"close"},decls:35,vars:15,consts:[["tabindex","0",1,"modal-overlay",3,"click","keydown"],[1,"modal-container"],[1,"modal-header"],[1,"header-title"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],["title","\uB2EB\uAE30",1,"close-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"tab-navigation"],[1,"tab-btn",3,"click"],[1,"modal-body"],["class","tab-content",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"tab-content"],[1,"setting-section"],[1,"select-input",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"radio-label"],["type","radio","name","renderQuality",3,"change","checked"],[3,"value"],[1,"checkbox-label"],["type","checkbox",3,"change","checked"],[1,"range-label"],["type","range","min","5","max","50","step","5",3,"input","value"],["type","radio","name","fontSize",3,"change","checked"],["class","setting-section",4,"ngIf"],[1,"info-text"],[1,"login-form"],[1,"form-group"],["for","username"],["type","text","id","username","placeholder","\uC544\uC774\uB514\uB97C \uC785\uB825\uD558\uC138\uC694",1,"text-input",3,"ngModelChange","keyup.enter","ngModel"],["for","password"],["type","password","id","password","placeholder","\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694",1,"text-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"login-button",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"],["points","10 17 15 12 10 7"],["x1","15","y1","12","x2","3","y2","12"],[1,"user-info"],[1,"user-avatar"],["width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"user-details"],[1,"user-id"],[1,"user-status"],[1,"logout-button",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"]],template:function(e,n){e&1&&(r(0,"div",0),h("click",function(o){return n.onBackdropClick(o)})("keydown",function(o){return n.onKeyDown(o)}),r(1,"div",1)(2,"div",2)(3,"div",3),z(),r(4,"svg",4),y(5,"circle",5)(6,"path",6),s(),oe(),r(7,"h2"),d(8,"PDF \uBDF0\uC5B4 \uC124\uC815"),s()(),r(9,"button",7),h("click",function(){return n.onClose()}),z(),r(10,"svg",4),y(11,"line",8)(12,"line",9),s()()(),oe(),r(13,"div",10)(14,"button",11),h("click",function(){return n.setActiveTab("display")}),d(15," \uD45C\uC2DC \uC124\uC815 "),s(),r(16,"button",11),h("click",function(){return n.setActiveTab("performance")}),d(17," \uC131\uB2A5 \uC124\uC815 "),s(),r(18,"button",11),h("click",function(){return n.setActiveTab("mobile")}),d(19," \uBAA8\uBC14\uC77C "),s(),r(20,"button",11),h("click",function(){return n.setActiveTab("accessibility")}),d(21," \uC811\uADFC\uC131 "),s(),r(22,"button",11),h("click",function(){return n.setActiveTab("account")}),d(23," \uACC4\uC815 "),s()(),r(24,"div",12),w(25,Yo,32,7,"div",13)(26,Ko,25,4,"div",13)(27,Zo,16,2,"div",13)(28,Xo,25,4,"div",13)(29,ta,3,2,"div",13),s(),r(30,"div",14)(31,"button",15),h("click",function(){return n.resetToDefaults()}),d(32," \uAE30\uBCF8\uAC12\uC73C\uB85C \uBCF5\uC6D0 "),s(),r(33,"button",16),h("click",function(){return n.onClose()}),d(34," \uC644\uB8CC "),s()()()()),e&2&&(c(14),O("active",n.activeTab==="display"),c(2),O("active",n.activeTab==="performance"),c(2),O("active",n.activeTab==="mobile"),c(2),O("active",n.activeTab==="accessibility"),c(2),O("active",n.activeTab==="account"),c(3),f("ngIf",n.activeTab==="display"),c(),f("ngIf",n.activeTab==="performance"),c(),f("ngIf",n.activeTab==="mobile"),c(),f("ngIf",n.activeTab==="accessibility"),c(),f("ngIf",n.activeTab==="account"))},dependencies:[Pe,re,Q,Ie,Ae,Ve,le,ce,de],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out;outline:none}.modal-container[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:12px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:600px;max-height:90vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border-color)}.modal-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.modal-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--accent-primary);animation:_ngcontent-%COMP%_rotate 2s linear infinite}.modal-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--text-primary)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center;color:var(--text-secondary)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);color:var(--text-primary)}.tab-navigation[_ngcontent-%COMP%]{display:flex;gap:4px;padding:12px 24px 0;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.tab-btn[_ngcontent-%COMP%]{background:none;border:none;padding:12px 20px;font-size:14px;font-weight:500;color:var(--text-secondary);cursor:pointer;border-radius:8px 8px 0 0;transition:all .2s;position:relative}.tab-btn[_ngcontent-%COMP%]:hover{background:var(--bg-primary);color:var(--text-primary)}.tab-btn.active[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--accent-primary);font-weight:600}.tab-btn.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:3px;background:var(--accent-primary);border-radius:3px 3px 0 0}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1;min-height:400px}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease}.setting-section[_ngcontent-%COMP%]{margin-bottom:32px}.setting-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.setting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-primary);margin:0 0 16px;display:flex;align-items:center;gap:8px}.checkbox-label[_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;margin-bottom:8px;border-radius:8px;cursor:pointer;transition:all .2s}.checkbox-label[_ngcontent-%COMP%]:hover, .radio-label[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .checkbox-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-top:2px;width:18px;height:18px;cursor:pointer;accent-color:var(--accent-primary)}.checkbox-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.checkbox-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .radio-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.select-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);font-size:14px;cursor:pointer;transition:all .2s}.select-input[_ngcontent-%COMP%]:hover{border-color:var(--accent-primary)}.select-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #007bff1a}.range-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.range-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary)}.range-label[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;height:6px;border-radius:3px;background:var(--bg-tertiary);outline:none;cursor:pointer;accent-color:var(--accent-primary)}.range-label[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent-primary);cursor:pointer;transition:all .2s}.range-label[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2)}.range-label[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent-primary);cursor:pointer;border:none;transition:all .2s}.range-label[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb:hover{transform:scale(1.2)}.range-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.logout-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 20px;background:#dc3545;color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s;width:100%;justify-content:center;margin-bottom:8px}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.logout-button[_ngcontent-%COMP%]:hover{background:#c82333;box-shadow:0 4px 12px #dc35454d;transform:translateY(-1px)}.logout-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:16px 24px;border-top:1px solid var(--border-color)}.btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);border-color:var(--accent-primary)}.btn.btn-primary[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#005a9e;box-shadow:0 4px 12px #007bff4d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:100%;height:100%;max-width:100%;max-height:100%;border-radius:0}.tab-navigation[_ngcontent-%COMP%]{overflow-x:auto;gap:2px;padding:8px 16px 0}.tab-navigation[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px;white-space:nowrap}.modal-body[_ngcontent-%COMP%]{padding:16px}.setting-section[_ngcontent-%COMP%]{margin-bottom:24px}.setting-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.modal-footer[_ngcontent-%COMP%]{padding:12px 16px}}.info-text[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:14px;line-height:1.5}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.text-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:all .2s;box-sizing:border-box}.text-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007acc;box-shadow:0 0 0 3px #007acc1a}.text-input[_ngcontent-%COMP%]::placeholder{color:#999}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:#007acc;color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px;margin-top:8px}.login-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.login-button[_ngcontent-%COMP%]:hover{background:#005a9e;transform:translateY(-1px);box-shadow:0 4px 12px #007acc4d}.login-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:#f8f9fa;border-radius:12px;margin-bottom:20px}.user-avatar[_ngcontent-%COMP%]{width:64px;height:64px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#007acc;flex-shrink:0}.user-details[_ngcontent-%COMP%]{flex:1}.user-details[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#333}.user-details[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#28a745}body.dark-theme[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{background:#000000b3}body.dark-theme[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover, body.dark-theme[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]:hover{background:#ffffff0d}body.dark-theme[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#3b82f6}body.dark-theme[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover, body.dark-mode[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover, [data-theme=dark][_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}']})};var kn=class a{constructor(t,e){this.snackbar=t;this.debugLogger=e;console.log("\u{1F4C4} PdfExportFullService \uCD08\uAE30\uD654")}exportToPdf(i){return P(this,arguments,function*(t,e={},n){try{let o=e.fileName||"\uBB38\uC11C";if(t.length===0){n?.detectChanges(),this.snackbar.showWarning("\uB0B4\uBCF4\uB0BC \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uBB38\uC11C\uB97C \uC0DD\uC131\uD558\uC138\uC694.");return}t.slice(0,5).forEach((Y,$)=>{let ge=Y.elements.filter(Oe=>Oe.type==="text").length,ue=Y.elements.filter(Oe=>Oe.type==="image").length,ke=Y.elements.filter(Oe=>Oe.type==="svg").length;ge>0&&Y.elements.filter(Oe=>Oe.type==="text").slice(0,2).forEach((Oe,Gn)=>{let He=/[-|-|-]/.test(Oe.text||"")})});let l=t.reduce((Y,$)=>Y+$.elements.filter(ge=>ge.type==="text").length,0),u=t.reduce((Y,$)=>Y+$.elements.filter(ge=>ge.type==="image").length,0),_=t.reduce((Y,$)=>Y+$.elements.filter(ge=>ge.type==="svg").length,0),b=t.flatMap(Y=>Y.elements.filter($=>$.type==="text").map($=>$.text||"")).filter(Y=>/[-|-|-]/.test(Y)),x=new Set(t.flatMap(Y=>Y.elements.filter($=>$.type==="text"&&$.color).map($=>$.color)));console.log("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791..."),console.log("\uD604\uC7AC \uD398\uC774\uC9C0 \uC218:",t.length),console.log(`\uC694\uC18C \uD1B5\uACC4 - \uD14D\uC2A4\uD2B8: ${l}, \uC774\uBBF8\uC9C0: ${u}, SVG: ${_}`),console.log("PDF \uD398\uC774\uC9C0 \uB370\uC774\uD130:",t);let v=yield this.waitForPDFLib(),{PDFDocument:k,rgb:B,StandardFonts:S}=v,D=yield k.create(),I=new Map,H,j="Helvetica (\uAE30\uBCF8)",W=new Set,X=t.flatMap(Y=>Y.elements.filter($=>$.type==="text")),q=0;X.forEach((Y,$)=>{if(!Y.fontFamily){let ge=/[-|-|-]/.test(Y.text||"");Y.fontFamily=ge?"Noto Sans KR, sans-serif":"Arial",q++}Y.fontFamily&&W.add(Y.fontFamily)});let me=t.some(Y=>Y.elements.some($=>$.type==="text"&&/[-|-|-]/.test($.text||"")));if(me||W.size>0)try{window.fontkit?n?.detectChanges():(n?.detectChanges(),yield new Promise(($,ge)=>{let ue=document.createElement("script");ue.src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js",ue.onload=()=>{n?.detectChanges(),$(!0)},ue.onerror=()=>{n?.detectChanges(),ge(new Error("fontkit \uB85C\uB529 \uC2E4\uD328"))},document.head.appendChild(ue)})),n?.detectChanges(),D.registerFontkit(window.fontkit),n?.detectChanges();let Y={"Noto Sans KR":"fonts/NotoSansKR-Regular.ttf",NanumGothic:"fonts/NanumGothic-Regular.ttf",NanumBarunGothic:"fonts/NanumBarunGothic-Regular.ttf","IBM Plex Sans KR":"fonts/IBMPlexSansKR-Regular.ttf",NanumSquare:"fonts/NanumSquare-Regular.ttf","Black Han Sans":"fonts/BlackHanSans-Regular.ttf","Noto Serif KR":"fonts/NotoSerifKR-Regular.ttf",NanumMyeongjo:"fonts/NanumMyeongjo-Regular.ttf",NanumPen:"fonts/NanumPen-Regular.ttf",NanumBrush:"fonts/NanumBrush-Regular.ttf",DoHyeon:"fonts/DoHyeon-Regular.ttf",Jua:"fonts/Jua-Regular.ttf",Gaegu:"fonts/Gaegu-Regular.ttf",GamjaFlower:"fonts/GamjaFlower-Regular.ttf",Sunflower:"fonts/Sunflower-Medium.ttf",EastSeaDokdo:"fonts/EastSeaDokdo-Regular.ttf",HiMelody:"fonts/HiMelody-Regular.ttf",Roboto:"fonts/Roboto-Regular.ttf","Open Sans":"fonts/OpenSans-Regular.ttf",Lato:"fonts/Lato-Regular.ttf",Montserrat:"fonts/Montserrat-Regular.ttf",Poppins:"fonts/Poppins-Regular.ttf",Inter:"fonts/Inter-Regular.ttf",Ubuntu:"fonts/Ubuntu-Regular.ttf"};for(let $ of W)try{let ge=this.extractFontName($);if(n?.detectChanges(),Y[ge]){let ue=Y[ge],ke=yield fetch(ue);if(ke.ok){let Oe=yield ke.arrayBuffer(),Gn=yield D.embedFont(new Uint8Array(Oe));I.set($,Gn),n?.detectChanges()}}}catch{n?.detectChanges()}if(me){let $=null,ge=["fonts/NanumGothic-Regular.ttf","fonts/NanumGothic.ttf"];for(let ue of ge)try{let ke=yield fetch(ue);if(ke.ok){$=yield ke.arrayBuffer();break}}catch{continue}if(!$)try{let ue=yield fetch("https://cdn.jsdelivr.net/gh/google/fonts@main/ofl/nanumgothic/NanumGothic-Regular.ttf");ue.ok&&($=yield ue.arrayBuffer())}catch{}if($&&$.byteLength>0)H=yield D.embedFont(new Uint8Array($)),j="NanumGothic (\uD55C\uAE00 \uC9C0\uC6D0)",I.set("Noto Sans KR, sans-serif",H),I.set("NanumGothic",H),I.set("default-korean",H),n?.detectChanges();else throw new Error("\uD55C\uAE00 \uD3F0\uD2B8 \uB85C\uB4DC \uC2E4\uD328")}else H=yield D.embedFont(S.Helvetica),j="Helvetica (\uAE30\uBCF8)"}catch{n?.detectChanges(),H=yield D.embedFont(S.Helvetica),j="Helvetica (\uAE30\uBCF8)"}else H=yield D.embedFont(S.Helvetica),j="Helvetica (\uAE30\uBCF8)";let rt=Y=>{if(!Y)return H;if(I.has(Y))return I.get(Y);let $=this.extractFontName(Y);for(let[ge,ue]of I.entries())if(this.extractFontName(ge)===$)return ue;return H},Yt={text:0,image:0,svg:0,failed:0};for(let Y=0;Y<t.length;Y++){let $=t[Y];console.log(`\uD398\uC774\uC9C0 ${$.pageNumber} \uCC98\uB9AC \uC911... \uC694\uC18C \uAC1C\uC218: ${$.elements.length}`),console.log("\uD398\uC774\uC9C0 \uC694\uC18C\uB4E4:",$.elements);let ge=595,ue=842;if($.width&&$.height){ge=$.width,ue=$.height;let Ee=ge>ue;console.log(`\u{1F4D0} \uD398\uC774\uC9C0 ${$.pageNumber}: ${Ee?"\uAC00\uB85C":"\uC138\uB85C"} \uBC29\uD5A5 (${ge.toFixed(2)} x ${ue.toFixed(2)} pt)`)}else console.log(`\u{1F4D0} \uD398\uC774\uC9C0 ${$.pageNumber}: \uAE30\uBCF8 \uD06C\uAE30 \uC0AC\uC6A9 (${ge} x ${ue} pt)`);let ke=D.addPage([ge,ue]),{width:Oe,height:Gn}=ke.getSize(),He={text:0,image:0,svg:0,failed:0};for(let Ee of $.elements)try{if(Ee.type==="text"){let Lt=rt(Ee.fontFamily);console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1:",{text:Ee.text?.substring(0,20),fontFamily:Ee.fontFamily,fontSelected:Lt===H?"\uAE30\uBCF8\uD3F0\uD2B8":"\uCEE4\uC2A4\uD140\uD3F0\uD2B8",hasFont:!!Lt}),yield this.addTextToPdfPage(ke,Ee,v,Lt),He.text++}else Ee.type==="image"?(yield this.addImageToPdfPage(ke,Ee,v,D),He.image++):Ee.type==="svg"&&(yield this.addSvgToPdfPage(ke,Ee,v,n),He.svg++)}catch(Lt){He.failed++,console.error("\uC694\uC18C \uCD94\uAC00 \uC2E4\uD328:",Ee,Lt)}Yt.text+=He.text,Yt.image+=He.image,Yt.svg+=He.svg,Yt.failed+=He.failed}let Ho=yield D.save(),$o=new Blob([Ho],{type:"application/pdf"}),ui=URL.createObjectURL($o),Rt=document.createElement("a");Rt.href=ui,Rt.download=`${o}.pdf`,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),URL.revokeObjectURL(ui),console.log("PDF \uC0DD\uC131 \uC644\uB8CC!"),this.snackbar.showSuccess("PDF\uAC00 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(o){console.error("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",o),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}waitForPDFLib(){return P(this,null,function*(){return new Promise((t,e)=>{if(window.PDFLib){t(window.PDFLib);return}let n=50,i=0,o=setInterval(()=>{i++,window.PDFLib?(clearInterval(o),t(window.PDFLib)):i>=n&&(clearInterval(o),e(new Error("PDF-lib \uB85C\uB529 \uD0C0\uC784\uC544\uC6C3")))},100)})})}addTextToPdfPage(t,e,n,i){return P(this,null,function*(){try{let{rgb:o}=n,{width:l,height:u}=t.getSize(),_=this.parseColor(e.color||"#000000"),C=e.x||0,b=e.fontSize||16,x=u-(e.y||0)-b,k=(e.text||"").trim()||"\uD14D\uC2A4\uD2B8";console.log(`\u{1F4DD} \uD14D\uC2A4\uD2B8 \uBC30\uCE58: HTML(${e.x}, ${e.y}) \u2192 PDF(${C.toFixed(1)}, ${x.toFixed(1)}), \uD398\uC774\uC9C0\uB192\uC774=${u}`);let B={x:C,y:x,size:b,color:o(_.r,_.g,_.b)};i&&(B.font=i),t.drawText(k,B)}catch(o){console.error("\uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uC2E4\uD328:",o)}})}addImageToPdfPage(t,e,n,i){return P(this,null,function*(){try{if(!e.src){console.error("\uC774\uBBF8\uC9C0 src\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let{width:o,height:l}=t.getSize(),u=e.x||0,_=e.width||100,C=e.height||100,b=l-(e.y||0)-C;console.log(`\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uBC30\uCE58: HTML(${e.x}, ${e.y}) \u2192 PDF(${u.toFixed(1)}, ${b.toFixed(1)}), \uD398\uC774\uC9C0\uB192\uC774=${l}`);let x="jpeg";e.src.startsWith("data:image/png")?x="png":(e.src.startsWith("data:image/jpeg")||e.src.startsWith("data:image/jpg"))&&(x="jpeg");let v=e.src.split(",")[1];if(!v){console.error("\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 Base64 \uB370\uC774\uD130");return}let k=Uint8Array.from(atob(v),S=>S.charCodeAt(0)),B;x==="png"?B=yield(i||t.doc).embedPng(k):B=yield(i||t.doc).embedJpg(k),t.drawImage(B,{x:u,y:b,width:_,height:C})}catch(o){console.error("\uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC2E4\uD328:",o)}})}addSvgToPdfPage(t,e,n,i){return P(this,null,function*(){try{if(this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F3A8} SVG \uC694\uC18C\uB97C PDF\uB85C \uB80C\uB354\uB9C1 \uC2DC\uC791"),!e.svgContent){this.debugLogger.warn("SVG\uB80C\uB354\uB9C1","\u26A0\uFE0F SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4");return}try{this.debugLogger.info("SVG\uB80C\uB354\uB9C1","\u{1F504} SVG\u2192PNG \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2DC\uB3C4"),yield this.addSvgAsImageToPdf(t,e,n,i),this.debugLogger.success("SVG\uB80C\uB354\uB9C1","\u2705 SVG\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658\uD558\uC5EC PDF\uC5D0 \uC0BD\uC785 \uC644\uB8CC");return}catch(o){this.debugLogger.warn("SVG\uB80C\uB354\uB9C1",`\u26A0\uFE0F SVG \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328: ${o}`)}}catch(o){console.error("SVG \uCD94\uAC00 \uC2E4\uD328:",o)}})}addSvgAsImageToPdf(t,e,n,i){return P(this,null,function*(){return new Promise((o,l)=>{try{if(!e.svgContent){l(new Error("SVG \uCF58\uD150\uCE20\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));return}let u=e.svgContent.replace(/<svg:/g,"<").replace(/<\/svg:/g,"</").replace(/xmlns:svg="[^"]*"/g,"").replace(/svg:xlink=/g,"xlink="),_=new Blob([u],{type:"image/svg+xml;charset=utf-8"}),C=URL.createObjectURL(_),b=new Image;b.crossOrigin="anonymous";let x=setTimeout(()=>{URL.revokeObjectURL(C),l(new Error("SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uD0C0\uC784\uC544\uC6C3"))},1e4);b.onerror=v=>{clearTimeout(x),URL.revokeObjectURL(C),l(new Error("SVG \uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2E4\uD328"))},b.onload=()=>P(null,null,function*(){clearTimeout(x);try{let v=document.createElement("canvas"),k=2,B=e.width||b.naturalWidth||b.width||595,S=e.height||b.naturalHeight||b.height||842;v.width=B*k,v.height=S*k;let D=v.getContext("2d");if(!D)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");D.clearRect(0,0,v.width,v.height),D.scale(k,k),D.drawImage(b,0,0,B,S),v.toBlob(I=>P(null,null,function*(){try{if(!I)throw new Error("Canvas\uB97C Blob\uC73C\uB85C \uBCC0\uD658\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let H=yield I.arrayBuffer(),j=new Uint8Array(H),W=t.doc;if(!W)throw new Error("PDF \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let X=yield W.embedPng(j),q=t.getSize().height,me=e.x||0,_e=q-(e.y||0)-S;console.log(`\u{1F3A8} SVG \uBC30\uCE58: HTML(${e.x}, ${e.y}) \u2192 PDF(${me.toFixed(1)}, ${_e.toFixed(1)})`),t.drawImage(X,{x:me,y:_e,width:B,height:S}),URL.revokeObjectURL(C),o()}catch(H){URL.revokeObjectURL(C),l(H)}}),"image/png",.95)}catch(v){URL.revokeObjectURL(C),l(v)}}),b.src=C}catch(u){l(u)}})})}parseColor(t){let e=0,n=0,i=0;try{if(t.startsWith("#")){let o=t.slice(1);o.length===3?(e=parseInt(o[0]+o[0],16)/255,n=parseInt(o[1]+o[1],16)/255,i=parseInt(o[2]+o[2],16)/255):o.length===6&&(e=parseInt(o.slice(0,2),16)/255,n=parseInt(o.slice(2,4),16)/255,i=parseInt(o.slice(4,6),16)/255)}else if(t.startsWith("rgb")){let o=t.match(/\d+/g);o&&o.length>=3&&(e=parseInt(o[0])/255,n=parseInt(o[1])/255,i=parseInt(o[2])/255)}}catch(o){console.error("\uC0C9\uC0C1 \uD30C\uC2F1 \uC2E4\uD328:",o)}return{r:e,g:n,b:i}}extractFontName(t){return t?t.split(",")[0].trim().replace(/['"]/g,""):"Helvetica"}generatePdfBytes(i){return P(this,arguments,function*(t,e={},n){try{let o=e.fileName||"\uBB38\uC11C";if(t.length===0)return n?.detectChanges(),this.snackbar.showWarning("\uB0B4\uBCF4\uB0BC \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),null;let l=yield this.waitForPDFLib(),{PDFDocument:u,rgb:_,StandardFonts:C}=l,b=yield u.create(),x=new Map,v,k=new Set;t.flatMap(j=>j.elements.filter(W=>W.type==="text")).forEach(j=>{if(!j.fontFamily){let W=/[-|-|-]/.test(j.text||"");j.fontFamily=W?"Noto Sans KR, sans-serif":"Arial"}j.fontFamily&&k.add(j.fontFamily)});let S=t.some(j=>j.elements.some(W=>W.type==="text"&&/[-|-|-]/.test(W.text||"")));if(S||k.size>0)try{if(window.fontkit||(yield new Promise((j,W)=>{let X=document.createElement("script");X.src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js",X.onload=()=>j(!0),X.onerror=()=>W(new Error("fontkit \uB85C\uB529 \uC2E4\uD328")),document.head.appendChild(X)})),b.registerFontkit(window.fontkit),S){let j=["fonts/NanumGothic-Regular.ttf","fonts/NanumGothic.ttf"],W=null;for(let X of j)try{let q=yield fetch(X);if(q.ok){W=yield q.arrayBuffer();break}}catch{continue}if(!W)try{let X=yield fetch("https://cdn.jsdelivr.net/gh/google/fonts@main/ofl/nanumgothic/NanumGothic-Regular.ttf");X.ok&&(W=yield X.arrayBuffer())}catch{}if(W&&W.byteLength>0)v=yield b.embedFont(new Uint8Array(W)),x.set("Noto Sans KR, sans-serif",v),x.set("NanumGothic",v),x.set("default-korean",v);else throw new Error("\uD55C\uAE00 \uD3F0\uD2B8 \uB85C\uB4DC \uC2E4\uD328")}else v=yield b.embedFont(C.Helvetica)}catch{v=yield b.embedFont(C.Helvetica)}else v=yield b.embedFont(C.Helvetica);let I=j=>{if(!j)return v;if(x.has(j))return x.get(j);let W=this.extractFontName(j);for(let[X,q]of x.entries())if(this.extractFontName(X)===W)return q;return v};for(let j=0;j<t.length;j++){let W=t[j],X=595.28,q=841.89;W.width&&W.height&&(X=W.width,q=W.height);let me=b.addPage([X,q]);for(let _e of W.elements)try{_e.type==="text"?yield this.addTextToPdfPage(me,_e,l,I(_e.fontFamily)):_e.type==="image"?yield this.addImageToPdfPage(me,_e,l,b):_e.type==="svg"&&(yield this.addSvgAsImageToPdf(me,_e,l,n))}catch(rt){console.error("\uC694\uC18C \uB80C\uB354\uB9C1 \uC2E4\uD328:",_e,rt)}}return yield b.save()}catch(o){return console.error("PDF \uBC14\uC774\uD2B8 \uC0DD\uC131 \uC2E4\uD328:",o),this.snackbar.showError("PDF \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),null}})}static \u0275fac=function(e){return new(e||a)(xe(ze),xe(ft))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function na(a,t){if(a&1){let e=M();r(0,"div",1)(1,"button",2),h("click",function(){g(e);let i=p();return m(i.action())}),d(2),s()()}if(a&2){let e=p();c(2),N(" ",e.data.action," ")}}var ia=["label"];function oa(a,t){}var aa=Math.pow(2,31)-1,qt=class{_overlayRef;instance;containerInstance;_afterDismissed=new Ce;_afterOpened=new Ce;_onAction=new Ce;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,aa))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Bo=new $e("MatSnackBarData"),Pt=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},ra=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return a})(),sa=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return a})(),la=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return a})(),ca=(()=>{class a{snackBarRef=T(qt);data=T(Bo);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=L({type:a,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(n,i){n&1&&(r(0,"div",0),d(1),s(),ye(2,na,3,1,"div",1)),n&2&&(c(),N(" ",i.data.message,`
`),c(),Me(i.hasAction?2:-1))},dependencies:[so,ra,sa,la],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return a})(),oi="_mat-snack-bar-enter",ai="_mat-snack-bar-exit",da=(()=>{class a extends Hi{_ngZone=T(Ue);_elementRef=T(Qe);_changeDetectorRef=T(Be);_platform=T(Qt);_animationsDisabled=at();snackBarConfig=T(Pt);_document=T(vi);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=T(Ge);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Ce;_onExit=new Ce;_onEnter=new Ce;_animationState="void";_live;_label;_role;_liveElementId=T(pn).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===ai?this._completeExit():e===oi&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?ot(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(oi)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(oi)},200)))}exit(){return this._destroyed?Zt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?ot(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ai)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(ai),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(l=>e.classList.add(l)):e.classList.add(n)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],l=o.getAttribute("aria-owns");this._trackedModals.add(o),l?l.indexOf(e)===-1&&o.setAttribute("aria-owns",l+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let i=n.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),i=e.querySelector("[aria-live]");if(n&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),i.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=L({type:a,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,i){if(n&1&&(te(ut,7),te(ia,7)),n&2){let o;K(o=Z())&&(i._portalOutlet=o.first),K(o=Z())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,i){n&1&&h("animationend",function(l){return i.onAnimationEnd(l.animationName)})("animationcancel",function(l){return i.onAnimationEnd(l.animationName)}),n&2&&O("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[it],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(r(0,"div",1)(1,"div",2,0)(3,"div",3),w(4,oa,0,0,"ng-template",4),s(),y(5,"div"),s()()),n&2&&(c(5),be("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[ut],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return a})();function pa(){return new Pt}var ga=new $e("mat-snack-bar-default-options",{providedIn:"root",factory:pa}),On=(()=>{class a{_live=T(Yi);_injector=T(Ge);_breakpointObserver=T(Qi);_parentSnackBar=T(a,{optional:!0,skipSelf:!0});_defaultConfig=T(ga);_animationsDisabled=at();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=ca;snackBarContainerComponent=da;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",i){let o=ae(ae({},this._defaultConfig),i);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let i=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Ge.create({parent:i||this._injector,providers:[{provide:Pt,useValue:n}]}),l=new Jn(this.snackBarContainerComponent,n.viewContainerRef,o),u=e.attach(l);return u.instance.snackBarConfig=n,u.instance}_attach(e,n){let i=ae(ae(ae({},new Pt),this._defaultConfig),n),o=this._createOverlay(i),l=this._attachSnackBarContainer(o,i),u=new qt(l,o);if(e instanceof lt){let _=new dn(e,null,{$implicit:i.data,snackBarRef:u});u.instance=l.attachTemplatePortal(_)}else{let _=this._createInjector(i,u),C=new Jn(e,void 0,_),b=l.attachComponentPortal(C);u.instance=b.instance}return this._breakpointObserver.observe(no.HandsetPortrait).pipe(De(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),i.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(u,i),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new Ji;n.direction=e.direction;let i=eo(this._injector),o=e.direction==="rtl",l=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,u=!l&&e.horizontalPosition!=="center";return l?i.left("0"):u?i.right("0"):i.centerHorizontally(),e.verticalPosition==="top"?i.top("0"):i.bottom("0"),n.positionStrategy=i,n.disableAnimations=this._animationsDisabled,to(this._injector,n)}_createInjector(e,n){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ge.create({parent:i||this._injector,providers:[{provide:qt,useValue:n},{provide:Bo,useValue:e.data}]})}static \u0275fac=function(n){return new(n||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function ua(a,t){if(a&1){let e=M();r(0,"div",13)(1,"p",14),d(2,"\uBCD1\uD569 \uBC29\uC2DD\uC744 \uC120\uD0DD\uD558\uC138\uC694"),s(),r(3,"div",15)(4,"div",16),h("click",function(){g(e);let i=p(2);return m(i.selectOption("local"))}),r(5,"div",17),z(),r(6,"svg",18),y(7,"path",19)(8,"path",20)(9,"path",21),s()(),oe(),r(10,"h3"),d(11,"\uB85C\uCEEC \uD30C\uC77C \uC120\uD0DD"),s(),r(12,"p"),d(13,"\uCEF4\uD4E8\uD130\uC5D0 \uC800\uC7A5\uB41C PDF \uD30C\uC77C\uC744 \uC120\uD0DD\uD558\uC5EC \uBCD1\uD569\uD569\uB2C8\uB2E4"),s()(),r(14,"div",16),h("click",function(){g(e);let i=p(2);return m(i.selectOption("saved"))}),r(15,"div",17),z(),r(16,"svg",18),y(17,"path",22)(18,"path",23)(19,"path",24),s()(),oe(),r(20,"h3"),d(21,"\uC800\uC7A5\uB41C \uBB38\uC11C \uC120\uD0DD"),s(),r(22,"p"),d(23,"\uC5C5\uB85C\uB4DC\uB41C \uBB38\uC11C \uBAA9\uB85D\uC5D0\uC11C \uC120\uD0DD\uD558\uC5EC \uBCD1\uD569\uD569\uB2C8\uB2E4"),s(),r(24,"span",25),d(25),s()()()()}if(a&2){let e=p(2);c(25),N("",e.savedDocuments.length,"\uAC1C \uBB38\uC11C")}}function fa(a,t){a&1&&(z(),r(0,"svg",29),y(1,"path",44)(2,"path",45),s())}function ha(a,t){a&1&&y(0,"div",46)}function _a(a,t){if(a&1){let e=M();r(0,"div",35),h("click",function(){let i=g(e).$implicit,o=p(4);return m(o.toggleDocSelection(i.id))}),r(1,"div",36),w(2,fa,3,0,"svg",37)(3,ha,1,0,"div",38),s(),r(4,"div",39)(5,"h4"),d(6),s(),r(7,"div",40)(8,"span",41),d(9),s(),r(10,"span",42),d(11,"\u2022"),s(),r(12,"span",43),d(13),s()()()()}if(a&2){let e=t.$implicit,n=p(4);O("selected",n.isDocSelected(e.id)),c(2),f("ngIf",n.isDocSelected(e.id)),c(),f("ngIf",!n.isDocSelected(e.id)),c(3),R(e.title),c(3),N("",e.pages.length,"\uD398\uC774\uC9C0"),c(4),R(n.formatDate(e.updatedAt))}}function ba(a,t){if(a&1&&(r(0,"div",33),w(1,_a,14,7,"div",34),s()),a&2){let e=p(3);c(),f("ngForOf",e.savedDocuments)}}function Ca(a,t){a&1&&(r(0,"div",47),z(),r(1,"svg",48),y(2,"path",49),s(),oe(),r(3,"p"),d(4,"\uC800\uC7A5\uB41C \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s()())}function xa(a,t){if(a&1){let e=M();r(0,"div",26)(1,"div",27)(2,"button",28),h("click",function(){g(e);let i=p(2);return m(i.selectedOption=null)}),z(),r(3,"svg",29),y(4,"path",30),s(),d(5," \uB4A4\uB85C "),s(),oe(),r(6,"p",14),d(7),s()(),w(8,ba,2,1,"div",31)(9,Ca,5,0,"div",32),s()}if(a&2){let e=p(2);c(7),N("\uBCD1\uD569\uD560 \uBB38\uC11C \uC120\uD0DD (",e.selectedDocIds.size,"\uAC1C \uC120\uD0DD\uB428)"),c(),f("ngIf",e.savedDocuments.length>0),c(),f("ngIf",e.savedDocuments.length===0)}}function va(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.closeModal())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"PDF \uBCD1\uD569"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.closeModal())}),z(),r(6,"svg",5),y(7,"path",6),s()()(),oe(),r(8,"div",7),w(9,ua,26,1,"div",8)(10,xa,10,3,"div",9),s(),r(11,"div",10)(12,"button",11),h("click",function(){g(e);let i=p();return m(i.closeModal())}),d(13,"\uCDE8\uC18C"),s(),r(14,"button",12),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(15),s()()()()}if(a&2){let e=p();c(9),f("ngIf",!e.selectedOption),c(),f("ngIf",e.selectedOption==="saved"),c(4),f("disabled",!e.selectedOption||e.selectedOption==="saved"&&e.selectedDocIds.size===0),c(),N(" ",e.selectedOption==="local"?"\uD30C\uC77C \uC120\uD0DD":"\uBCD1\uD569\uD558\uAE30"," ")}}var wt=class a{close=new E;confirm=new E;indexedDbService=T(mn);snackBar=T(On);isVisible=!1;selectedOption=null;savedDocuments=[];selectedDocIds=new Set;ngOnInit(){return P(this,null,function*(){let t=yield this.indexedDbService.getAllDocuments();this.savedDocuments=t.filter(e=>e.pdfBase64)})}open(){this.isVisible=!0,this.selectedOption=null,this.selectedDocIds.clear()}closeModal(){this.isVisible=!1,this.close.emit()}selectOption(t){this.selectedOption=t}toggleDocSelection(t){this.selectedDocIds.has(t)?this.selectedDocIds.delete(t):this.selectedDocIds.add(t)}isDocSelected(t){return this.selectedDocIds.has(t)}onConfirm(){if(this.selectedOption)if(this.selectedOption==="local")this.confirm.emit({type:"local"}),this.closeModal();else{let t=this.savedDocuments.filter(e=>this.selectedDocIds.has(e.id));if(t.length===0){this.snackBar.open("\uBCD1\uD569\uD560 \uBB38\uC11C\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.","\uB2EB\uAE30",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});return}this.confirm.emit({type:"saved",selectedDocs:t}),this.closeModal()}}formatDate(t){let e=new Date(t),i=new Date().getTime()-e.getTime(),o=Math.floor(i/(1e3*60*60*24));return o===0?"\uC624\uB298":o===1?"\uC5B4\uC81C":o<7?`${o}\uC77C \uC804`:o<30?`${Math.floor(o/7)}\uC8FC \uC804`:e.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-merge-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","merge-modal-overlay",3,"click",4,"ngIf"],[1,"merge-modal-overlay",3,"click"],[1,"merge-modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body"],["class","option-section",4,"ngIf"],["class","documents-section",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-confirm",3,"click","disabled"],[1,"option-section"],[1,"section-title"],[1,"option-cards"],[1,"option-card",3,"click"],[1,"card-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","none"],["d","M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M17 8L12 3L7 8","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 3V15","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M17 21V13H7V21","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M7 3V8H15","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"doc-count"],[1,"documents-section"],[1,"section-header"],[1,"back-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none"],["d","M19 12H5M5 12L12 19M5 12L12 5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","documents-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"documents-list"],["class","document-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"document-item",3,"click"],[1,"doc-checkbox"],["width","20","height","20","viewBox","0 0 24 24","fill","none",4,"ngIf"],["class","checkbox-empty",4,"ngIf"],[1,"doc-info"],[1,"doc-meta"],[1,"page-count"],[1,"separator"],[1,"date"],["d","M9 11L12 14L22 4","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"checkbox-empty"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none"],["d","M9 13H15M9 17H15M9 9H10M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H15.8C16.9201 21 17.4802 21 17.908 20.782C18.2843 20.5903 18.5903 20.2843 18.782 19.908C19 19.4802 19 18.9201 19 17.8V9M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(e,n){e&1&&w(0,va,16,4,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[re,Q],styles:[".merge-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.merge-modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 16px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#111827}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#6b7280;border-radius:8px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#111827}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280;margin:0 0 16px}.option-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.option-card[_ngcontent-%COMP%]{background:#f9fafb;border:2px solid #e5e7eb;border-radius:12px;padding:24px;text-align:center;cursor:pointer;transition:all .2s}.option-card[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f61a}.option-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#3b82f6;margin-bottom:16px}.option-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px}.option-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#111827}.option-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:13px;color:#6b7280;line-height:1.5}.option-card[_ngcontent-%COMP%]   .doc-count[_ngcontent-%COMP%]{display:inline-block;background:#3b82f6;color:#fff;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.documents-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.documents-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:#f3f4f6;border:none;padding:8px 12px;border-radius:8px;display:flex;align-items:center;gap:4px;cursor:pointer;font-size:14px;color:#374151;transition:all .2s}.documents-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.documents-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.documents-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:400px;overflow-y:auto;padding:4px}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f9fafb;border:2px solid #e5e7eb;border-radius:12px;cursor:pointer;transition:all .2s}.document-item[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#d1d5db}.document-item.selected[_ngcontent-%COMP%]{background:#eff6ff;border-color:#3b82f6}.document-item.selected[_ngcontent-%COMP%]   .doc-checkbox[_ngcontent-%COMP%]{color:#3b82f6}.document-item[_ngcontent-%COMP%]   .doc-checkbox[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#9ca3af}.document-item[_ngcontent-%COMP%]   .doc-checkbox[_ngcontent-%COMP%]   .checkbox-empty[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px}.document-item[_ngcontent-%COMP%]   .doc-checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]{flex:1;min-width:0}.document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500;color:#111827;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#6b7280}.document-item[_ngcontent-%COMP%]   .doc-info[_ngcontent-%COMP%]   .doc-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d1d5db}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid #e5e7eb}.btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.btn.btn-cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn.btn-cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb}.btn.btn-confirm[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.btn.btn-confirm[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:4px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}.documents-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}"]})};var En=[{id:"general",name:"\uC77C\uBC18 \uBB38\uC11C",description:"\uBCF5\uC0AC\uC640 \uC778\uC1C4\uB97C \uD5C8\uC6A9\uD558\uB294 \uC77C\uBC18 \uBB38\uC11C",config:{permissions:{printing:!0,modifying:!0,copying:!0,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0}}},{id:"confidential",name:"\uAE30\uBC00 \uBB38\uC11C",description:"\uBCF5\uC0AC\uC640 \uC778\uC1C4\uB97C \uAE08\uC9C0\uD558\uB294 \uAE30\uBC00 \uBB38\uC11C",config:{permissions:{printing:!1,modifying:!1,copying:!1,annotating:!1,fillingForms:!1,contentAccessibility:!0,documentAssembly:!1}}},{id:"readonly",name:"\uC5F4\uB78C \uC804\uC6A9",description:"\uBAA8\uB4E0 \uD3B8\uC9D1\uC744 \uAE08\uC9C0\uD558\uB294 \uC77D\uAE30 \uC804\uC6A9 \uBB38\uC11C",config:{permissions:{printing:!0,modifying:!1,copying:!1,annotating:!1,fillingForms:!1,contentAccessibility:!0,documentAssembly:!1}}},{id:"print-only",name:"\uC778\uC1C4 \uC804\uC6A9",description:"\uC778\uC1C4\uB9CC \uD5C8\uC6A9\uD558\uACE0 \uBAA8\uB4E0 \uD3B8\uC9D1\uC744 \uAE08\uC9C0",config:{permissions:{printing:!0,modifying:!1,copying:!1,annotating:!1,fillingForms:!1,contentAccessibility:!0,documentAssembly:!1}}}],yt={printing:!0,modifying:!0,copying:!0,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0};function wa(a,t){a&1&&(r(0,"span"),d(1,"\u{1F4C4}"),s())}function ya(a,t){a&1&&(r(0,"span"),d(1,"\u{1F512}"),s())}function Ma(a,t){a&1&&(r(0,"span"),d(1,"\u{1F441}\uFE0F"),s())}function Sa(a,t){a&1&&(r(0,"span"),d(1,"\u{1F5A8}\uFE0F"),s())}function ka(a,t){a&1&&(r(0,"div",25),d(1,"\u2713"),s())}function Oa(a,t){if(a&1){let e=M();r(0,"div",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.selectPreset(i.id))}),r(1,"div",19),w(2,wa,2,0,"span",20)(3,ya,2,0,"span",20)(4,Ma,2,0,"span",20)(5,Sa,2,0,"span",20),s(),r(6,"div",21)(7,"div",22),d(8),s(),r(9,"div",23),d(10),s()(),w(11,ka,2,0,"div",24),s()}if(a&2){let e=t.$implicit,n=p(2);O("selected",n.selectedPresetId===e.id),c(2),f("ngIf",e.id==="general"),c(),f("ngIf",e.id==="confidential"),c(),f("ngIf",e.id==="readonly"),c(),f("ngIf",e.id==="print-only"),c(3),R(e.name),c(2),R(e.description),c(),f("ngIf",n.selectedPresetId===e.id)}}function Ea(a,t){if(a&1){let e=M();r(0,"div",26)(1,"div",27)(2,"div",28),d(3),s(),r(4,"div",29),d(5),s()(),r(6,"label",30)(7,"input",31),h("change",function(){let i=g(e).$implicit,o=p(2);return m(o.togglePermission(i))}),s(),y(8,"span",32),s()()}if(a&2){let e=t.$implicit,n=p(2);c(3),R(n.getPermissionLabel(e)),c(2),R(n.getPermissionDescription(e)),c(2),f("checked",n.customPermissions[e])}}function Da(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.onClose())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\uBB38\uC11C \uAD8C\uD55C \uC124\uC815"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"div",6)(9,"h3"),d(10,"\uD504\uB9AC\uC14B \uC120\uD0DD"),s(),r(11,"div",7),w(12,Oa,12,9,"div",8),s()(),r(13,"div",9)(14,"h3"),d(15,"\uC0C1\uC138 \uAD8C\uD55C \uC124\uC815"),s(),r(16,"div",10),w(17,Ea,9,3,"div",11),s()(),r(18,"div",12)(19,"span",13),d(20,"\u2139\uFE0F"),s(),r(21,"div",14)(22,"strong"),d(23,"\uC8FC\uC758:"),s(),d(24," \uC774 \uC124\uC815\uC740 \uBA54\uD0C0\uB370\uC774\uD130\uB85C\uB9CC \uC800\uC7A5\uB429\uB2C8\uB2E4. \uC2E4\uC81C PDF \uC554\uD638\uD654\uB294 \uC11C\uBC84 \uC0AC\uC774\uB4DC\uC5D0\uC11C \uCC98\uB9AC\uB429\uB2C8\uB2E4. "),s()()(),r(25,"div",15)(26,"button",16),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(27,"\uCDE8\uC18C"),s(),r(28,"button",17),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(29,"\uC801\uC6A9"),s()()()()}if(a&2){let e=p();c(12),f("ngForOf",e.presets),c(5),f("ngForOf",e.getPermissionKeys())}}var Mt=class a{close=new E;confirm=new E;isVisible=!1;selectedPresetId=null;customPermissions=ae({},yt);presets=En;open(){this.isVisible=!0,this.selectedPresetId=null,this.customPermissions=ae({},yt)}selectPreset(t){this.selectedPresetId=t;let e=this.presets.find(n=>n.id===t);e&&(this.customPermissions=ae({},e.config.permissions))}togglePermission(t){this.customPermissions[t]=!this.customPermissions[t],this.selectedPresetId=null}onConfirm(){if(!Object.values(this.customPermissions).some(e=>e)){alert("\uCD5C\uC18C \uD558\uB098\uC758 \uAD8C\uD55C\uC740 \uD5C8\uC6A9\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.");return}this.confirm.emit(ae({},this.customPermissions)),this.isVisible=!1}onClose(){this.close.emit(),this.isVisible=!1}getPermissionLabel(t){return{printing:"\uC778\uC1C4",modifying:"\uC218\uC815",copying:"\uBCF5\uC0AC",annotating:"\uC8FC\uC11D \uCD94\uAC00",fillingForms:"\uC591\uC2DD \uC791\uC131",contentAccessibility:"\uC811\uADFC\uC131",documentAssembly:"\uBB38\uC11C \uC870\uB9BD"}[t]}getPermissionDescription(t){return{printing:"PDF \uC778\uC1C4 \uD5C8\uC6A9",modifying:"PDF \uB0B4\uC6A9 \uC218\uC815 \uD5C8\uC6A9",copying:"\uD14D\uC2A4\uD2B8 \uBC0F \uC774\uBBF8\uC9C0 \uBCF5\uC0AC \uD5C8\uC6A9",annotating:"\uC8FC\uC11D \uBC0F \uB9C8\uD06C\uC5C5 \uCD94\uAC00 \uD5C8\uC6A9",fillingForms:"\uC591\uC2DD \uD544\uB4DC \uC791\uC131 \uD5C8\uC6A9",contentAccessibility:"\uD654\uBA74 \uC77D\uAE30 \uD504\uB85C\uADF8\uB7A8 \uC811\uADFC \uD5C8\uC6A9",documentAssembly:"\uD398\uC774\uC9C0 \uC0BD\uC785, \uC0AD\uC81C, \uD68C\uC804 \uD5C8\uC6A9"}[t]}getPermissionKeys(){return["printing","copying","modifying","annotating","fillingForms","documentAssembly","contentAccessibility"]}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-pdf-lock-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"presets-section"],[1,"preset-cards"],["class","preset-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"permissions-section"],[1,"permission-list"],["class","permission-item",4,"ngFor","ngForOf"],[1,"info-box"],[1,"info-icon"],[1,"info-text"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"],[1,"preset-card",3,"click"],[1,"preset-icon"],[4,"ngIf"],[1,"preset-info"],[1,"preset-name"],[1,"preset-description"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"permission-item"],[1,"permission-info"],[1,"permission-label"],[1,"permission-description"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"]],template:function(e,n){e&1&&w(0,Da,30,2,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[re,Q],styles:['@charset "UTF-8";.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:700px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:600;color:#1a1a1a}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f5f5f5;border-radius:50%;font-size:24px;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333}.modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 28px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:silver;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}.presets-section[_ngcontent-%COMP%]{margin-bottom:32px}.presets-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#333}.preset-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.preset-card[_ngcontent-%COMP%]{padding:16px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;position:relative;background:#fff}.preset-card[_ngcontent-%COMP%]:hover{border-color:#4caf50;box-shadow:0 2px 8px #4caf5026}.preset-card.selected[_ngcontent-%COMP%]{border-color:#4caf50;background:#f1f8f4;box-shadow:0 2px 8px #4caf5033}.preset-card[_ngcontent-%COMP%]   .preset-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]{flex:1}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]   .preset-name[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#1a1a1a;margin-bottom:4px}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]   .preset-description[_ngcontent-%COMP%]{font-size:13px;color:#666;line-height:1.4}.preset-card[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:24px;height:24px;background:#4caf50;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700}.permissions-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#333}.permission-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.permission-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:#f8f9fa;border-radius:8px;transition:background .2s}.permission-item[_ngcontent-%COMP%]:hover{background:#f0f2f5}.permission-item[_ngcontent-%COMP%]   .permission-info[_ngcontent-%COMP%]{flex:1}.permission-item[_ngcontent-%COMP%]   .permission-info[_ngcontent-%COMP%]   .permission-label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1a1a1a;margin-bottom:4px}.permission-item[_ngcontent-%COMP%]   .permission-info[_ngcontent-%COMP%]   .permission-description[_ngcontent-%COMP%]{font-size:12px;color:#666}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:26px;flex-shrink:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#4caf50}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:26px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.info-box[_ngcontent-%COMP%]{margin-top:20px;padding:14px 16px;background:#fff3cd;border:1px solid #ffc107;border-radius:8px;display:flex;align-items:flex-start;gap:12px}.info-box[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.info-box[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{flex:1;font-size:13px;color:#856404;line-height:1.5}.info-box[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]:hover{background:#45a049;box-shadow:0 4px 12px #4caf504d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.preset-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{width:95%;max-height:90vh}}']})};function Fa(a,t){a&1&&(r(0,"span",27),d(1,"\u2713"),s())}function Aa(a,t){a&1&&(r(0,"span",28),d(1,"\u2717"),s())}function Va(a,t){if(a&1&&(r(0,"span",24),w(1,Fa,2,0,"span",25)(2,Aa,2,0,"span",26),s()),a&2){let e=p(3);c(),f("ngIf",e.userPassword===e.userPasswordConfirm),c(),f("ngIf",e.userPassword!==e.userPasswordConfirm)}}function Ia(a,t){if(a&1){let e=M();r(0,"div",11)(1,"input",22),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.userPasswordConfirm,i)||(o.userPasswordConfirm=i),m(i)}),s(),w(2,Va,3,2,"span",23),s()}if(a&2){let e=p(2);c(),O("error",e.userPasswordConfirm&&e.userPassword!==e.userPasswordConfirm),f("type",e.showUserPassword?"text":"password"),A("ngModel",e.userPasswordConfirm),c(),f("ngIf",e.userPasswordConfirm)}}function za(a,t){if(a&1&&(r(0,"div",29)(1,"div",30),y(2,"div",31),s(),r(3,"div",32)(4,"span",33),d(5),s(),r(6,"span",34),d(7),s()()()),a&2){let e=p(2);c(2),he("width",e.userPasswordStrength.score,"%")("background-color",e.getStrengthColor(e.userPasswordStrength.strength)),c(2),he("color",e.getStrengthColor(e.userPasswordStrength.strength)),c(),N(" ",e.getStrengthLabel(e.userPasswordStrength.strength)," "),c(2),R(e.userPasswordStrength.message)}}function Ra(a,t){a&1&&(r(0,"span",27),d(1,"\u2713"),s())}function La(a,t){a&1&&(r(0,"span",28),d(1,"\u2717"),s())}function Na(a,t){if(a&1&&(r(0,"span",24),w(1,Ra,2,0,"span",25)(2,La,2,0,"span",26),s()),a&2){let e=p(3);c(),f("ngIf",e.ownerPassword===e.ownerPasswordConfirm),c(),f("ngIf",e.ownerPassword!==e.ownerPasswordConfirm)}}function ja(a,t){if(a&1){let e=M();r(0,"div",11)(1,"input",22),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.ownerPasswordConfirm,i)||(o.ownerPasswordConfirm=i),m(i)}),s(),w(2,Na,3,2,"span",23),s()}if(a&2){let e=p(2);c(),O("error",e.ownerPasswordConfirm&&e.ownerPassword!==e.ownerPasswordConfirm),f("type",e.showOwnerPassword?"text":"password"),A("ngModel",e.ownerPasswordConfirm),c(),f("ngIf",e.ownerPasswordConfirm)}}function Wa(a,t){if(a&1&&(r(0,"div",29)(1,"div",30),y(2,"div",31),s(),r(3,"div",32)(4,"span",33),d(5),s(),r(6,"span",34),d(7),s()()()),a&2){let e=p(2);c(2),he("width",e.ownerPasswordStrength.score,"%")("background-color",e.getStrengthColor(e.ownerPasswordStrength.strength)),c(2),he("color",e.getStrengthColor(e.ownerPasswordStrength.strength)),c(),N(" ",e.getStrengthLabel(e.ownerPasswordStrength.strength)," "),c(2),R(e.ownerPasswordStrength.message)}}function Ha(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.onClose())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\uBE44\uBC00\uBC88\uD638 \uC124\uC815"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"div",6)(9,"div",7),d(10,"\u{1F510}"),s(),r(11,"div",8)(12,"p")(13,"strong"),d(14,"\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638:"),s(),d(15," PDF\uB97C \uC5F4 \uB54C \uD544\uC694\uD55C \uBE44\uBC00\uBC88\uD638"),s(),r(16,"p")(17,"strong"),d(18,"\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638:"),s(),d(19," \uAD8C\uD55C \uC124\uC815\uC744 \uBCC0\uACBD\uD560 \uB54C \uD544\uC694\uD55C \uBE44\uBC00\uBC88\uD638"),s()()(),r(20,"div",9)(21,"h3"),d(22,"\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638 (\uC120\uD0DD)"),s(),r(23,"div",10)(24,"div",11)(25,"input",12),V("ngModelChange",function(i){g(e);let o=p();return F(o.userPassword,i)||(o.userPassword=i),m(i)}),h("input",function(){g(e);let i=p();return m(i.onUserPasswordChange())}),s(),r(26,"button",13),h("click",function(){g(e);let i=p();return m(i.toggleUserPasswordVisibility())}),d(27),s()(),w(28,Ia,3,5,"div",14),s(),w(29,za,8,8,"div",15),s(),r(30,"div",9)(31,"h3"),d(32,"\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638 (\uC120\uD0DD)"),s(),r(33,"div",10)(34,"div",11)(35,"input",12),V("ngModelChange",function(i){g(e);let o=p();return F(o.ownerPassword,i)||(o.ownerPassword=i),m(i)}),h("input",function(){g(e);let i=p();return m(i.onOwnerPasswordChange())}),s(),r(36,"button",13),h("click",function(){g(e);let i=p();return m(i.toggleOwnerPasswordVisibility())}),d(37),s()(),w(38,ja,3,5,"div",14),s(),w(39,Wa,8,8,"div",15),s(),r(40,"div",16)(41,"span",17),d(42,"\u26A0\uFE0F"),s(),r(43,"div",18),d(44," \uBE44\uBC00\uBC88\uD638\uB97C \uBD84\uC2E4\uD558\uBA74 \uBB38\uC11C\uB97C \uBCF5\uAD6C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC548\uC804\uD55C \uACF3\uC5D0 \uBE44\uBC00\uBC88\uD638\uB97C \uBCF4\uAD00\uD558\uC138\uC694. "),s()()(),r(45,"div",19)(46,"button",20),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(47,"\uCDE8\uC18C"),s(),r(48,"button",21),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(49,"\uC124\uC815"),s()()()()}if(a&2){let e=p();c(25),f("type",e.showUserPassword?"text":"password"),A("ngModel",e.userPassword),c(2),N(" ",e.showUserPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),c(),f("ngIf",e.userPassword),c(),f("ngIf",e.userPasswordStrength),c(6),f("type",e.showOwnerPassword?"text":"password"),A("ngModel",e.ownerPassword),c(2),N(" ",e.showOwnerPassword?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),c(),f("ngIf",e.ownerPassword),c(),f("ngIf",e.ownerPasswordStrength)}}var St=class a{constructor(t){this.securityService=t}close=new E;confirm=new E;isVisible=!1;userPassword="";userPasswordConfirm="";ownerPassword="";ownerPasswordConfirm="";showUserPassword=!1;showOwnerPassword=!1;userPasswordStrength=null;ownerPasswordStrength=null;open(){this.isVisible=!0,this.reset()}reset(){this.userPassword="",this.userPasswordConfirm="",this.ownerPassword="",this.ownerPasswordConfirm="",this.showUserPassword=!1,this.showOwnerPassword=!1,this.userPasswordStrength=null,this.ownerPasswordStrength=null}onUserPasswordChange(){this.userPassword?this.userPasswordStrength=this.securityService.validatePasswordStrength(this.userPassword):this.userPasswordStrength=null}onOwnerPasswordChange(){this.ownerPassword?this.ownerPasswordStrength=this.securityService.validatePasswordStrength(this.ownerPassword):this.ownerPasswordStrength=null}toggleUserPasswordVisibility(){this.showUserPassword=!this.showUserPassword}toggleOwnerPasswordVisibility(){this.showOwnerPassword=!this.showOwnerPassword}getStrengthColor(t){switch(t){case"strong":return"#4CAF50";case"medium":return"#FF9800";case"weak":return"#f44336";default:return"#ccc"}}getStrengthLabel(t){switch(t){case"strong":return"\uAC15\uD568";case"medium":return"\uBCF4\uD1B5";case"weak":return"\uC57D\uD568";default:return""}}validateForm(){if(!this.userPassword&&!this.ownerPassword)return{isValid:!1,error:"\uCD5C\uC18C \uD558\uB098\uC758 \uBE44\uBC00\uBC88\uD638\uB97C \uC124\uC815\uD574\uC8FC\uC138\uC694."};if(this.userPassword){if(!this.userPasswordStrength||!this.userPasswordStrength.isValid)return{isValid:!1,error:`\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638: ${this.userPasswordStrength?.message||"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uBE44\uBC00\uBC88\uD638"}`};if(this.userPassword!==this.userPasswordConfirm)return{isValid:!1,error:"\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."}}if(this.ownerPassword){if(!this.ownerPasswordStrength||!this.ownerPasswordStrength.isValid)return{isValid:!1,error:`\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638: ${this.ownerPasswordStrength?.message||"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uBE44\uBC00\uBC88\uD638"}`};if(this.ownerPassword!==this.ownerPasswordConfirm)return{isValid:!1,error:"\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."}}return{isValid:!0}}onConfirm(){let t=this.validateForm();if(!t.isValid){alert(t.error);return}let e={};this.userPassword&&(e.userPassword=this.userPassword),this.ownerPassword&&(e.ownerPassword=this.ownerPassword),this.confirm.emit(e),this.isVisible=!1}onClose(){this.close.emit(),this.isVisible=!1}static \u0275fac=function(e){return new(e||a)(G(un))};static \u0275cmp=L({type:a,selectors:[["app-pdf-password-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"info-section"],[1,"info-icon"],[1,"info-text"],[1,"password-section"],[1,"password-input-group"],[1,"input-wrapper"],["placeholder","\uBE44\uBC00\uBC88\uD638 \uC785\uB825 (\uCD5C\uC18C 6\uC790)",1,"password-input",3,"ngModelChange","input","type","ngModel"],["type","button",1,"toggle-visibility",3,"click"],["class","input-wrapper",4,"ngIf"],["class","strength-indicator",4,"ngIf"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-text"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"],["placeholder","\uBE44\uBC00\uBC88\uD638 \uD655\uC778",1,"password-input",3,"ngModelChange","type","ngModel"],["class","match-indicator",4,"ngIf"],[1,"match-indicator"],["class","match",4,"ngIf"],["class","mismatch",4,"ngIf"],[1,"match"],[1,"mismatch"],[1,"strength-indicator"],[1,"strength-bar"],[1,"strength-fill"],[1,"strength-info"],[1,"strength-label"],[1,"strength-message"]],template:function(e,n){e&1&&w(0,Ha,50,10,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[Q,le,ce,de],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:600px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:600;color:#1a1a1a}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f5f5f5;border-radius:50%;font-size:24px;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333}.modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 28px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:silver;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}.info-section[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;background:#e3f2fd;border-radius:12px;margin-bottom:24px}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.info-section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:13px;color:#1565c0;line-height:1.5}.info-section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.password-section[_ngcontent-%COMP%]{margin-bottom:28px}.password-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;font-weight:600;color:#333}.password-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{flex:1;padding:12px 40px 12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .2s}.input-wrapper[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 3px #2196f31a}.input-wrapper[_ngcontent-%COMP%]   .password-input.error[_ngcontent-%COMP%]{border-color:#f44336}.input-wrapper[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]::placeholder{color:#999}.input-wrapper[_ngcontent-%COMP%]   .toggle-visibility[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;font-size:18px;cursor:pointer;padding:4px;opacity:.6;transition:opacity .2s}.input-wrapper[_ngcontent-%COMP%]   .toggle-visibility[_ngcontent-%COMP%]:hover{opacity:1}.input-wrapper[_ngcontent-%COMP%]   .match-indicator[_ngcontent-%COMP%]{position:absolute;right:12px;font-size:16px}.input-wrapper[_ngcontent-%COMP%]   .match-indicator[_ngcontent-%COMP%]   .match[_ngcontent-%COMP%]{color:#4caf50}.input-wrapper[_ngcontent-%COMP%]   .match-indicator[_ngcontent-%COMP%]   .mismatch[_ngcontent-%COMP%]{color:#f44336}.strength-indicator[_ngcontent-%COMP%]{margin-top:8px}.strength-indicator[_ngcontent-%COMP%]   .strength-bar[_ngcontent-%COMP%]{height:6px;background:#e0e0e0;border-radius:3px;overflow:hidden;margin-bottom:8px}.strength-indicator[_ngcontent-%COMP%]   .strength-bar[_ngcontent-%COMP%]   .strength-fill[_ngcontent-%COMP%]{height:100%;transition:all .3s ease;border-radius:3px}.strength-indicator[_ngcontent-%COMP%]   .strength-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.strength-indicator[_ngcontent-%COMP%]   .strength-info[_ngcontent-%COMP%]   .strength-label[_ngcontent-%COMP%]{font-weight:600}.strength-indicator[_ngcontent-%COMP%]   .strength-info[_ngcontent-%COMP%]   .strength-message[_ngcontent-%COMP%]{color:#666}.warning-box[_ngcontent-%COMP%]{margin-top:20px;padding:14px 16px;background:#fff3cd;border:1px solid #ffc107;border-radius:8px;display:flex;align-items:flex-start;gap:12px}.warning-box[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.warning-box[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{flex:1;font-size:13px;color:#856404;line-height:1.5}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]:hover{background:#1976d2;box-shadow:0 4px 12px #2196f34d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:95%;max-height:90vh}}"]})};var Ua=()=>["RC4","AES-128","AES-256"];function Ga(a,t){a&1&&(r(0,"span"),d(1,"\u{1F4C4}"),s())}function Qa(a,t){a&1&&(r(0,"span"),d(1,"\u{1F512}"),s())}function qa(a,t){a&1&&(r(0,"span"),d(1,"\u{1F441}\uFE0F"),s())}function Ya(a,t){a&1&&(r(0,"span"),d(1,"\u{1F5A8}\uFE0F"),s())}function Ka(a,t){a&1&&(r(0,"div",25),d(1,"\u2713"),s())}function Za(a,t){if(a&1){let e=M();r(0,"div",18),h("click",function(){let i=g(e).$implicit,o=p(3);return m(o.selectPreset(i.id))}),r(1,"div",19),w(2,Ga,2,0,"span",20)(3,Qa,2,0,"span",20)(4,qa,2,0,"span",20)(5,Ya,2,0,"span",20),s(),r(6,"div",21)(7,"div",22),d(8),s(),r(9,"div",23),d(10),s()(),w(11,Ka,2,0,"div",24),s()}if(a&2){let e=t.$implicit,n=p(3);O("selected",n.selectedPresetId===e.id),c(2),f("ngIf",e.id==="general"),c(),f("ngIf",e.id==="confidential"),c(),f("ngIf",e.id==="readonly"),c(),f("ngIf",e.id==="print-only"),c(3),R(e.name),c(2),R(e.description),c(),f("ngIf",n.selectedPresetId===e.id)}}function Xa(a,t){if(a&1&&(r(0,"div",15)(1,"div",16),w(2,Za,12,9,"div",17),s()()),a&2){let e=p(2);c(2),f("ngForOf",e.presets)}}function Ja(a,t){if(a&1){let e=M();r(0,"div",28)(1,"div",29),d(2),s(),r(3,"label",30)(4,"input",31),h("change",function(){let i=g(e).$implicit,o=p(3);return m(o.togglePermission(i))}),s(),y(5,"span",32),s()()}if(a&2){let e=t.$implicit,n=p(3);c(2),R(n.getPermissionLabel(e)),c(2),f("checked",n.permissions[e])}}function er(a,t){if(a&1&&(r(0,"div",15)(1,"div",26),w(2,Ja,6,2,"div",27),s()()),a&2){let e=p(2);c(2),f("ngForOf",e.getPermissionKeys())}}function tr(a,t){if(a&1){let e=M();r(0,"label",40)(1,"input",41),V("ngModelChange",function(i){g(e);let o=p(3);return F(o.encryptionAlgorithm,i)||(o.encryptionAlgorithm=i),m(i)}),s(),r(2,"span",42),d(3),s()()}if(a&2){let e=t.$implicit,n=p(3);O("selected",n.encryptionAlgorithm===e),c(),f("value",e),A("ngModel",n.encryptionAlgorithm),c(2),R(n.getAlgorithmLabel(e))}}function nr(a,t){if(a&1){let e=M();r(0,"div",15)(1,"div",33)(2,"div",34)(3,"label"),d(4,"\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638 (\uC5F4\uB78C)"),s(),r(5,"input",35),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.userPassword,i)||(o.userPassword=i),m(i)}),s()(),r(6,"div",34)(7,"label"),d(8,"\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638 (\uAD8C\uD55C)"),s(),r(9,"input",36),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.ownerPassword,i)||(o.ownerPassword=i),m(i)}),s()(),r(10,"div",37)(11,"label"),d(12,"\uC554\uD638\uD654 \uC54C\uACE0\uB9AC\uC998"),s(),r(13,"div",38),w(14,tr,4,5,"label",39),s()()()()}if(a&2){let e=p(2);c(5),A("ngModel",e.userPassword),c(4),A("ngModel",e.ownerPassword),c(5),f("ngForOf",$t(3,Ua))}}function ir(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.onClose())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\uBCF4\uC548 \uC124\uC815"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"button",6),h("click",function(){g(e);let i=p();return m(i.selectTab("preset"))}),d(9," \u{1F4CB} \uD504\uB9AC\uC14B "),s(),r(10,"button",6),h("click",function(){g(e);let i=p();return m(i.selectTab("permissions"))}),d(11," \u{1F510} \uAD8C\uD55C "),s(),r(12,"button",6),h("click",function(){g(e);let i=p();return m(i.selectTab("password"))}),d(13," \u{1F511} \uBE44\uBC00\uBC88\uD638 "),s()(),r(14,"div",7),w(15,Xa,3,1,"div",8)(16,er,3,1,"div",8)(17,nr,15,4,"div",8),r(18,"div",9)(19,"div",10),d(20,"\uD604\uC7AC \uC124\uC815"),s(),r(21,"div",11),d(22),s()()(),r(23,"div",12)(24,"button",13),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(25,"\uCDE8\uC18C"),s(),r(26,"button",14),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(27,"\uC801\uC6A9"),s()()()()}if(a&2){let e=p();c(8),O("active",e.activeTab==="preset"),c(2),O("active",e.activeTab==="permissions"),c(2),O("active",e.activeTab==="password"),c(3),f("ngIf",e.activeTab==="preset"),c(),f("ngIf",e.activeTab==="permissions"),c(),f("ngIf",e.activeTab==="password"),c(5),R(e.getSummary())}}var kt=class a{close=new E;confirm=new E;isVisible=!1;activeTab="preset";selectedPresetId=null;presets=En;permissions=ae({},yt);userPassword="";ownerPassword="";encryptionAlgorithm="AES-256";open(){this.isVisible=!0,this.reset()}reset(){this.activeTab="preset",this.selectedPresetId=null,this.permissions=ae({},yt),this.userPassword="",this.ownerPassword="",this.encryptionAlgorithm="AES-256"}selectTab(t){this.activeTab=t}selectPreset(t){this.selectedPresetId=t;let e=this.presets.find(n=>n.id===t);e&&(this.permissions=ae({},e.config.permissions))}togglePermission(t){this.permissions[t]=!this.permissions[t],this.selectedPresetId=null}getPermissionKeys(){return["printing","copying","modifying","annotating","fillingForms","documentAssembly","contentAccessibility"]}onConfirm(){if(!Object.values(this.permissions).some(n=>n)){alert("\uCD5C\uC18C \uD558\uB098\uC758 \uAD8C\uD55C\uC740 \uD5C8\uC6A9\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.");return}let e={permissions:ae({},this.permissions),encryptionAlgorithm:this.encryptionAlgorithm};(this.userPassword||this.ownerPassword)&&(e.passwords={},this.userPassword&&(e.passwords.userPassword=this.userPassword),this.ownerPassword&&(e.passwords.ownerPassword=this.ownerPassword)),this.confirm.emit(e),this.isVisible=!1}onClose(){this.close.emit(),this.isVisible=!1}getPermissionLabel(t){return{printing:"\uC778\uC1C4",modifying:"\uC218\uC815",copying:"\uBCF5\uC0AC",annotating:"\uC8FC\uC11D \uCD94\uAC00",fillingForms:"\uC591\uC2DD \uC791\uC131",contentAccessibility:"\uC811\uADFC\uC131",documentAssembly:"\uBB38\uC11C \uC870\uB9BD"}[t]||t}getAlgorithmLabel(t){return{RC4:"RC4 (40-bit, \uB0AE\uC740 \uBCF4\uC548)","AES-128":"AES-128 (\uC911\uAC04 \uBCF4\uC548)","AES-256":"AES-256 (\uB192\uC740 \uBCF4\uC548, \uAD8C\uC7A5)"}[t]||t}getSummary(){let t=[];if(this.selectedPresetId){let e=this.presets.find(n=>n.id===this.selectedPresetId);e&&t.push(`\uD504\uB9AC\uC14B: ${e.name}`)}return(this.userPassword||this.ownerPassword)&&(this.userPassword&&t.push("\uC0AC\uC6A9\uC790 \uBE44\uBC00\uBC88\uD638 \uC124\uC815\uB428"),this.ownerPassword&&t.push("\uC18C\uC720\uC790 \uBE44\uBC00\uBC88\uD638 \uC124\uC815\uB428")),t.push(`\uC554\uD638\uD654: ${this.encryptionAlgorithm}`),t.join(" \xB7 ")}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-pdf-security-settings"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"tabs"],[1,"tab",3,"click"],[1,"modal-content"],["class","tab-content",4,"ngIf"],[1,"summary-box"],[1,"summary-title"],[1,"summary-content"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"],[1,"tab-content"],[1,"preset-cards"],["class","preset-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"preset-card",3,"click"],[1,"preset-icon"],[4,"ngIf"],[1,"preset-info"],[1,"preset-name"],[1,"preset-description"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"permission-list"],["class","permission-item",4,"ngFor","ngForOf"],[1,"permission-item"],[1,"permission-label"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"],[1,"password-section"],[1,"password-group"],["type","password","placeholder","\uBB38\uC11C \uC5F4\uB78C \uC2DC \uD544\uC694\uD55C \uBE44\uBC00\uBC88\uD638",1,"password-input",3,"ngModelChange","ngModel"],["type","password","placeholder","\uAD8C\uD55C \uBCC0\uACBD \uC2DC \uD544\uC694\uD55C \uBE44\uBC00\uBC88\uD638",1,"password-input",3,"ngModelChange","ngModel"],[1,"encryption-group"],[1,"algorithm-options"],["class","radio-option",3,"selected",4,"ngFor","ngForOf"],[1,"radio-option"],["type","radio","name","algorithm",3,"ngModelChange","value","ngModel"],[1,"radio-label"]],template:function(e,n){e&1&&w(0,ir,28,10,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[re,Q,le,ln,ce,de],styles:['@charset "UTF-8";.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:800px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:600;color:#1a1a1a}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f5f5f5;border-radius:50%;font-size:24px;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333}.tabs[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid #f0f0f0;background:#fafafa}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;padding:16px 20px;border:none;background:none;font-size:14px;font-weight:500;color:#666;cursor:pointer;transition:all .2s;border-bottom:3px solid transparent;position:relative;top:2px}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#2196f3;background:#fff;border-bottom-color:#2196f3}.modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 28px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:silver;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.preset-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.preset-card[_ngcontent-%COMP%]{padding:16px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;position:relative;background:#fff}.preset-card[_ngcontent-%COMP%]:hover{border-color:#2196f3;box-shadow:0 2px 8px #2196f326}.preset-card.selected[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd;box-shadow:0 2px 8px #2196f333}.preset-card[_ngcontent-%COMP%]   .preset-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]{flex:1}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]   .preset-name[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#1a1a1a;margin-bottom:4px}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]   .preset-description[_ngcontent-%COMP%]{font-size:13px;color:#666;line-height:1.4}.preset-card[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:24px;height:24px;background:#2196f3;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700}.permission-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.permission-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:#f8f9fa;border-radius:8px;transition:background .2s}.permission-item[_ngcontent-%COMP%]:hover{background:#f0f2f5}.permission-item[_ngcontent-%COMP%]   .permission-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1a1a1a}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:26px;flex-shrink:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:26px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.password-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.password-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .encryption-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#333}.password-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%], .encryption-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .2s}.password-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]:focus, .encryption-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 3px #2196f31a}.password-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]::placeholder, .encryption-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]::placeholder{color:#999}.algorithm-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s}.radio-option[_ngcontent-%COMP%]:hover{border-color:#2196f3;background:#f8f9fa}.radio-option.selected[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:12px;width:18px;height:18px;cursor:pointer}.radio-option[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-size:14px;color:#333}.summary-box[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f0f7ff;border:2px solid #2196F3;border-radius:8px}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1565c0;margin-bottom:8px}.summary-box[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{font-size:14px;color:#1976d2;line-height:1.5}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]:hover{background:#1976d2;box-shadow:0 4px 12px #2196f34d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.preset-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-container[_ngcontent-%COMP%]{width:95%;max-height:90vh}}']})};function ar(a,t){if(a&1&&(r(0,"div",15)(1,"div",16),d(2,"\u26A0\uFE0F"),s(),r(3,"div",17)(4,"div",18),d(5,"\uAE30\uC874 \uBB38\uC11C\uAC00 \uC788\uC2B5\uB2C8\uB2E4"),s(),r(6,"div",19)(7,"div",20)(8,"span",21),d(9,"\uC81C\uBAA9:"),s(),r(10,"span",22),d(11),s()(),r(12,"div",20)(13,"span",21),d(14,"\uB9C8\uC9C0\uB9C9 \uC218\uC815:"),s(),r(15,"span",22),d(16),s()(),r(17,"div",20)(18,"span",21),d(19,"\uD398\uC774\uC9C0 \uC218:"),s(),r(20,"span",22),d(21),s()()(),r(22,"div",23),d(23," \uC800\uC7A5\uD558\uBA74 \uAE30\uC874 \uBB38\uC11C\uB97C \uB36E\uC5B4\uC501\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? "),s()()()),a&2){let e=p(2);c(11),R(e.existingDoc.title),c(5),R(e.formatDate(e.existingDoc.updatedAt)),c(5),N("",e.existingDoc.elementCount||0,"\uAC1C")}}function rr(a,t){a&1&&(r(0,"div",24)(1,"div",25),d(2,"\u{1F4BE}"),s(),r(3,"div",26),d(4," \uBB38\uC11C\uAC00 \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uC548\uC804\uD558\uAC8C \uC800\uC7A5\uB429\uB2C8\uB2E4. \uC800\uC7A5\uB41C \uBB38\uC11C\uB294 \uCD5C\uADFC \uD30C\uC77C \uBAA9\uB85D\uC5D0\uC11C \uC5B8\uC81C\uB4E0\uC9C0 \uB2E4\uC2DC \uC5F4 \uC218 \uC788\uC2B5\uB2C8\uB2E4. "),s()())}function sr(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.onClose())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\uBB38\uC11C \uC800\uC7A5"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"div",6)(9,"label",7),d(10,"\uBB38\uC11C \uC81C\uBAA9"),s(),r(11,"input",8),V("ngModelChange",function(i){g(e);let o=p();return F(o.title,i)||(o.title=i),m(i)}),h("keyup.enter",function(){g(e);let i=p();return m(i.onConfirm())}),s(),r(12,"div",9),d(13," \uC81C\uBAA9\uC740 \uB098\uC911\uC5D0 \uAC80\uC0C9\uD558\uACE0 \uCC3E\uC744 \uB54C \uC0AC\uC6A9\uB429\uB2C8\uB2E4. "),s()(),w(14,ar,24,3,"div",10)(15,rr,5,0,"div",11),s(),r(16,"div",12)(17,"button",13),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(18,"\uCDE8\uC18C"),s(),r(19,"button",14),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(20),s()()()()}if(a&2){let e=p();c(11),A("ngModel",e.title),c(3),f("ngIf",e.existingDoc),c(),f("ngIf",!e.existingDoc),c(4),O("overwrite",e.existingDoc),c(),N(" ",e.existingDoc?"\uB36E\uC5B4\uC4F0\uAE30":"\uC800\uC7A5"," ")}}var Ot=class a{close=new E;confirm=new E;isVisible=!1;title="";defaultTitle="";existingDoc=null;open(t,e){this.isVisible=!0,this.defaultTitle=t,this.title=t,this.existingDoc=e||null}onClose(){this.close.emit(),this.isVisible=!1,this.reset()}onConfirm(){if(!this.title.trim()){alert("\uC81C\uBAA9\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694.");return}this.confirm.emit({title:this.title.trim(),overwrite:!!this.existingDoc}),this.isVisible=!1,this.reset()}reset(){this.title="",this.defaultTitle="",this.existingDoc=null}formatDate(t){let e=new Date(t),i=new Date().getTime()-e.getTime(),o=Math.floor(i/(1e3*60*60*24));return o===0?"\uC624\uB298 "+e.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):o===1?"\uC5B4\uC81C "+e.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):o<7?`${o}\uC77C \uC804`:e.toLocaleDateString("ko-KR")}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-save-confirm-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"input-section"],["for","doc-title"],["id","doc-title","type","text","placeholder","\uBB38\uC11C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694","autofocus","",1,"title-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"input-hint"],["class","warning-box",4,"ngIf"],["class","info-box",4,"ngIf"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-content"],[1,"warning-title"],[1,"warning-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"warning-message"],[1,"info-box"],[1,"info-icon"],[1,"info-text"]],template:function(e,n){e&1&&w(0,sr,21,6,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[Q,le,ce,de],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:550px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:24px 28px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:600;color:#1a1a1a}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f5f5f5;border-radius:50%;font-size:24px;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333}.modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 28px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:silver;border-radius:4px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}.input-section[_ngcontent-%COMP%]{margin-bottom:24px}.input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#333}.input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:15px;transition:all .2s}.input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 0 3px #4caf501a}.input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]::placeholder{color:#999}.input-section[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#666}.warning-box[_ngcontent-%COMP%]{padding:16px;background:#fff3cd;border:2px solid #ffc107;border-radius:12px;display:flex;gap:12px;margin-bottom:20px;animation:_ngcontent-%COMP%_shake .5s ease-in-out}.warning-box[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:28px;flex-shrink:0}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]{flex:1}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-title[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#856404;margin-bottom:12px}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-details[_ngcontent-%COMP%]{background:#ffffff80;padding:12px;border-radius:8px;margin-bottom:12px}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:6px}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#856404;min-width:80px}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:13px;color:#664d03}.warning-box[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:13px;color:#856404;line-height:1.5;font-weight:500}.info-box[_ngcontent-%COMP%]{padding:16px;background:#e3f2fd;border:1px solid #2196F3;border-radius:12px;display:flex;gap:12px;align-items:flex-start}.info-box[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.info-box[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{flex:1;font-size:13px;color:#1565c0;line-height:1.5}.modal-footer[_ngcontent-%COMP%]{padding:20px 28px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-footer[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.modal-footer[_ngcontent-%COMP%]   button.confirm-button[_ngcontent-%COMP%]:hover{background:#45a049;box-shadow:0 4px 12px #4caf504d}.modal-footer[_ngcontent-%COMP%]   button.confirm-button.overwrite[_ngcontent-%COMP%]{background:#ff9800}.modal-footer[_ngcontent-%COMP%]   button.confirm-button.overwrite[_ngcontent-%COMP%]:hover{background:#f57c00;box-shadow:0 4px 12px #ff98004d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}75%{transform:translate(4px)}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:95%;max-height:90vh}}"]})};function cr(a,t){a&1&&(r(0,"div",24),z(),r(1,"svg",25),y(2,"path",26),s()())}function dr(a,t){if(a&1){let e=M();r(0,"div",20),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.selectColor(i.value))}),y(1,"div",21),r(2,"span",22),d(3),s(),w(4,cr,3,0,"div",23),s()}if(a&2){let e=t.$implicit,n=p(2);O("selected",n.selectedColor===e.value),c(),he("background-color",e.preview),c(2),R(e.name),c(),f("ngIf",n.selectedColor===e.value)}}function pr(a,t){if(a&1){let e=M();r(0,"button",27),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.selectOpacity(i.value))}),d(1),s()}if(a&2){let e=t.$implicit,n=p(2);O("selected",n.selectedOpacity===e.value),c(),N(" ",e.name," ")}}function gr(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.closeModal())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\uD558\uC774\uB77C\uC774\uD2B8 \uC18D\uC131"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.closeModal())}),z(),r(6,"svg",5),y(7,"path",6),s()()(),oe(),r(8,"div",7)(9,"div",8)(10,"h3",9),d(11,"\uC0C9\uC0C1"),s(),r(12,"div",10),w(13,dr,5,6,"div",11),s()(),r(14,"div",8)(15,"h3",9),d(16,"\uD22C\uBA85\uB3C4"),s(),r(17,"div",12),w(18,pr,2,3,"button",13),s()(),r(19,"div",8)(20,"h3",9),d(21,"\uBBF8\uB9AC\uBCF4\uAE30"),s(),r(22,"div",14)(23,"div",15),d(24," \uC0D8\uD50C \uD14D\uC2A4\uD2B8\uC785\uB2C8\uB2E4. "),r(25,"span",16),d(26,"\uD558\uC774\uB77C\uC774\uD2B8 \uD6A8\uACFC"),s(),d(27," \uB97C \uBBF8\uB9AC \uD655\uC778\uD558\uC138\uC694. "),s()()()(),r(28,"div",17)(29,"button",18),h("click",function(){g(e);let i=p();return m(i.closeModal())}),d(30,"\uCDE8\uC18C"),s(),r(31,"button",19),h("click",function(){g(e);let i=p();return m(i.onConfirm())}),d(32,"\uC801\uC6A9"),s()()()()}if(a&2){let e=p();c(13),f("ngForOf",e.colorOptions),c(5),f("ngForOf",e.opacityOptions),c(7),f("ngStyle",e.previewStyle)}}var Et=class a{close=new E;confirm=new E;isVisible=!1;colorOptions=[{name:"\uB178\uB780\uC0C9",value:"#FFFF00",preview:"#FFFF00"},{name:"\uCD08\uB85D\uC0C9",value:"#00FF00",preview:"#00FF00"},{name:"\uD30C\uB780\uC0C9",value:"#00BFFF",preview:"#00BFFF"},{name:"\uBD84\uD64D\uC0C9",value:"#FF69B4",preview:"#FF69B4"},{name:"\uC8FC\uD669\uC0C9",value:"#FFA500",preview:"#FFA500"},{name:"\uBCF4\uB77C\uC0C9",value:"#DA70D6",preview:"#DA70D6"}];opacityOptions=[{name:"10%",value:.1},{name:"25%",value:.25},{name:"50%",value:.5},{name:"75%",value:.75},{name:"100%",value:1}];selectedColor="#FFFF00";selectedOpacity=.5;open(){this.isVisible=!0,this.selectedColor="#FFFF00",this.selectedOpacity=.5}closeModal(){this.isVisible=!1,this.close.emit()}selectColor(t){this.selectedColor=t}selectOpacity(t){this.selectedOpacity=t}onConfirm(){this.confirm.emit({color:this.selectedColor,opacity:this.selectedOpacity}),this.closeModal()}get previewStyle(){return{"background-color":this.selectedColor,opacity:this.selectedOpacity}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-highlight-properties-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","highlight-modal-overlay",3,"click",4,"ngIf"],[1,"highlight-modal-overlay",3,"click"],[1,"highlight-modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body"],[1,"property-section"],[1,"section-title"],[1,"color-grid"],["class","color-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"opacity-options"],["class","opacity-btn",3,"selected","click",4,"ngFor","ngForOf"],[1,"preview-container"],[1,"preview-text"],[1,"preview-highlight",3,"ngStyle"],[1,"modal-footer"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-confirm",3,"click"],[1,"color-option",3,"click"],[1,"color-preview"],[1,"color-name"],["class","check-mark",4,"ngIf"],[1,"check-mark"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M5 13L9 17L19 7","stroke","white","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"opacity-btn",3,"click"]],template:function(e,n){e&1&&w(0,gr,33,3,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[re,Q,Ti],styles:[".highlight-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.highlight-modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #00000040;width:90%;max-width:380px;max-height:70vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px 12px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:17px;font-weight:600;color:#111827}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#6b7280;border-radius:6px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#111827}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 20px}.property-section[_ngcontent-%COMP%]{margin-bottom:20px}.property-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#374151;margin:0 0 12px}.color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.color-option[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px 8px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s}.color-option[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb}.color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:2px solid rgba(0,0,0,.1);box-shadow:0 1px 4px #0000001a}.color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;font-weight:500}.color-option[_ngcontent-%COMP%]   .check-mark[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:16px;height:16px;background:#3b82f6;border-radius:50%;display:flex;align-items:center;justify-content:center}.color-option[_ngcontent-%COMP%]   .check-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.opacity-options[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.opacity-btn[_ngcontent-%COMP%]{flex:1;min-width:60px;padding:8px 12px;border:2px solid #e5e7eb;border-radius:6px;background:#fff;font-size:13px;font-weight:500;color:#6b7280;cursor:pointer;transition:all .2s}.opacity-btn[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb}.opacity-btn.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff;color:#3b82f6;font-weight:600}.preview-container[_ngcontent-%COMP%]{padding:12px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px}.preview-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#374151}.preview-highlight[_ngcontent-%COMP%]{padding:2px 4px;border-radius:2px}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:10px;padding:12px 20px;border-top:1px solid #e5e7eb}.btn[_ngcontent-%COMP%]{flex:1;padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-cancel[_ngcontent-%COMP%]{background:#fff;color:#6b7280;border:1px solid #d1d5db}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn-confirm[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-confirm[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-confirm[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed}@media (max-width: 480px){.color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.opacity-options[_ngcontent-%COMP%]{flex-direction:column}.opacity-options[_ngcontent-%COMP%]   .opacity-btn[_ngcontent-%COMP%]{width:100%}}"]})};var Ye=class a{search=new E;close=new E;isVisible=!1;searchQuery="";caseSensitive=!1;wholeWords=!1;highlightAll=!0;open(t=""){this.isVisible=!0,this.searchQuery=t}hide(){this.isVisible=!1}onSearch(){this.searchQuery.trim()&&this.search.emit({query:this.searchQuery,caseSensitive:this.caseSensitive,wholeWords:this.wholeWords,highlightAll:this.highlightAll})}onClose(){this.hide(),this.close.emit()}onOverlayClick(t){t.target===t.currentTarget&&this.onClose()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-search-modal"]],outputs:{search:"search",close:"close"},decls:32,vars:7,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["title","\uB2EB\uAE30",1,"close-btn",3,"click"],[1,"material-icons"],[1,"modal-body"],[1,"search-input-group"],["type","text","placeholder","\uAC80\uC0C9\uC5B4\uB97C \uC785\uB825\uD558\uC138\uC694","autofocus","",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["title","\uAC80\uC0C9",1,"search-btn",3,"click"],[1,"search-options"],[1,"option-item"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,n){e&1&&(r(0,"div",0),h("click",function(o){return n.onOverlayClick(o)}),r(1,"div",1),h("click",function(o){return o.stopPropagation()}),r(2,"div",2)(3,"h3",3),d(4,"PDF \uAC80\uC0C9"),s(),r(5,"button",4),h("click",function(){return n.onClose()}),r(6,"span",5),d(7,"close"),s()()(),r(8,"div",6)(9,"div",7)(10,"input",8),V("ngModelChange",function(o){return F(n.searchQuery,o)||(n.searchQuery=o),o}),h("keyup.enter",function(){return n.onSearch()}),s(),r(11,"button",9),h("click",function(){return n.onSearch()}),r(12,"span",5),d(13,"search"),s()()(),r(14,"div",10)(15,"label",11)(16,"input",12),V("ngModelChange",function(o){return F(n.caseSensitive,o)||(n.caseSensitive=o),o}),s(),r(17,"span"),d(18,"\uB300\uC18C\uBB38\uC790 \uAD6C\uBD84"),s()(),r(19,"label",11)(20,"input",12),V("ngModelChange",function(o){return F(n.wholeWords,o)||(n.wholeWords=o),o}),s(),r(21,"span"),d(22,"\uB2E8\uC5B4 \uB2E8\uC704\uB85C \uAC80\uC0C9"),s()(),r(23,"label",11)(24,"input",12),V("ngModelChange",function(o){return F(n.highlightAll,o)||(n.highlightAll=o),o}),s(),r(25,"span"),d(26,"\uBAA8\uB4E0 \uACB0\uACFC \uAC15\uC870"),s()()()(),r(27,"div",13)(28,"button",14),h("click",function(){return n.onClose()}),d(29,"\uCDE8\uC18C"),s(),r(30,"button",15),h("click",function(){return n.onSearch()}),d(31," \uAC80\uC0C9 (Enter) "),s()()()()),e&2&&(O("visible",n.isVisible),c(10),A("ngModel",n.searchQuery),c(6),A("ngModel",n.caseSensitive),c(4),A("ngModel",n.wholeWords),c(4),A("ngModel",n.highlightAll),c(6),f("disabled",!n.searchQuery.trim()))},dependencies:[Pe,Ie,le,dt,ce,de],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease}.modal-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;max-width:500px;width:90%;max-height:90vh;overflow:auto;animation:_ngcontent-%COMP%_slideIn .2s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:#666;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.modal-body[_ngcontent-%COMP%]{padding:20px}.search-input-group[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:20px}.search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;padding:10px 14px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s}.search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 3px #4285f41a}.search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#999}.search-input-group[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4285f4;color:#fff;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.search-input-group[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#3367d6}.search-input-group[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:active{background-color:#2851a3}.search-input-group[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.search-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.search-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;-webkit-user-select:none;user-select:none}.search-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#4285f4}.search-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#333}.search-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#4285f4}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding:16px 20px;border-top:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3367d6}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function fr(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.closeModal())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.closeModal())}),z(),r(6,"svg",5),y(7,"path",6),s()()(),oe(),r(8,"div",7)(9,"div",8)(10,"label",9),d(11),s(),r(12,"input",10),V("ngModelChange",function(i){g(e);let o=p();return F(o.title,i)||(o.title=i),m(i)}),h("keypress",function(i){g(e);let o=p();return m(o.onKeyPress(i))}),s(),r(13,"p",11),d(14),s()()(),r(15,"div",12)(16,"button",13),h("click",function(){g(e);let i=p();return m(i.closeModal())}),d(17," \uCDE8\uC18C "),s(),r(18,"button",14),h("click",function(){g(e);let i=p();return m(i.confirmTitle())}),d(19),s()()()()}if(a&2){let e=p();c(4),R(e.modalTitle),c(7),N(" ",e.actionType==="download"?"\uD30C\uC77C\uBA85\uC744 \uC785\uB825\uD558\uC138\uC694":"\uBB38\uC11C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694"," "),c(),A("ngModel",e.title),f("placeholder",e.actionType==="download"?"\uC608: 2025\uB144_\uBCF4\uACE0\uC11C.pdf":"\uC608: 2025\uB144 \uBCF4\uACE0\uC11C"),c(2),N(" ",e.actionType==="download"?"Enter\uB97C \uB204\uB974\uAC70\uB098 \uB2E4\uC6B4\uB85C\uB4DC \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC138\uC694":"Enter\uB97C \uB204\uB974\uAC70\uB098 \uC800\uC7A5 \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC138\uC694"," "),c(4),f("disabled",!e.title.trim()),c(),N(" ",e.actionType==="download"?"\uB2E4\uC6B4\uB85C\uB4DC":"\uC800\uC7A5"," ")}}var Dt=class a{close=new E;confirm=new E;isVisible=!1;title="";defaultTitle="";modalTitle="\uBB38\uC11C \uC81C\uBAA9 \uC785\uB825";actionType="save";isEditor=!1;open(t="",e="save",n=!1){this.defaultTitle=t,this.title=t,this.actionType=e,this.isEditor=n,e==="download"?this.modalTitle="PDF \uB2E4\uC6B4\uB85C\uB4DC":this.modalTitle=n?"\uD3B8\uC9D1 \uBB38\uC11C \uC800\uC7A5":"\uBB38\uC11C \uC800\uC7A5",this.isVisible=!0}closeModal(){this.isVisible=!1,this.title="",this.defaultTitle="",this.modalTitle="\uBB38\uC11C \uC81C\uBAA9 \uC785\uB825",this.actionType="save",this.isEditor=!1,this.close.emit()}confirmTitle(){let t=this.title.trim();t&&(this.isVisible=!1,this.confirm.emit(t),this.title="",this.defaultTitle="",this.modalTitle="\uBB38\uC11C \uC81C\uBAA9 \uC785\uB825",this.actionType="save",this.isEditor=!1)}onKeyPress(t){t.key==="Enter"?this.confirmTitle():t.key==="Escape"&&this.closeModal()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-title-input-modal"]],outputs:{close:"close",confirm:"confirm"},standalone:!1,decls:1,vars:1,consts:[["class","title-input-modal-overlay",3,"click",4,"ngIf"],[1,"title-input-modal-overlay",3,"click"],[1,"title-input-modal-container",3,"click"],[1,"modal-header"],["type","button",1,"close-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body"],[1,"input-section"],["for","documentTitle"],["id","documentTitle","type","text","autofocus","",1,"title-input",3,"ngModelChange","keypress","ngModel","placeholder"],[1,"input-hint"],[1,"modal-footer"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-confirm",3,"click","disabled"]],template:function(e,n){e&1&&w(0,fr,20,7,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[Q,le,ce,de],styles:[".title-input-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.title-input-modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 40px #0003;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;color:#6b7280;transition:color .2s;display:flex;align-items:center;justify-content:center}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#1f2937}.modal-body[_ngcontent-%COMP%]{padding:24px;flex:1}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e5e7eb;border-radius:8px;font-size:16px;transition:all .2s;outline:none}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.modal-body[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin:0}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid #e5e7eb}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed;opacity:.6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};function _r(a,t){a&1&&(ee(0,"p"),d(1,"\uD604\uC7AC \uC5F4\uB824\uC788\uB294 \uC6D0\uBCF8 PDF \uD30C\uC77C\uC744 \uB2E4\uC6B4\uB85C\uB4DC\uD569\uB2C8\uB2E4"),se())}function br(a,t){a&1&&(ee(0,"p",11),d(1,"\uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),se())}function Cr(a,t){a&1&&(ee(0,"p"),d(1,"\uD3B8\uC9D1\uB41C \uB0B4\uC6A9\uC774 \uBC18\uC601\uB41C PDF \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uC5EC \uB2E4\uC6B4\uB85C\uB4DC\uD569\uB2C8\uB2E4"),se())}function xr(a,t){a&1&&(ee(0,"p",11),d(1,"\uD3B8\uC9D1\uB41C \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),se())}function vr(a,t){if(a&1){let e=M();ee(0,"div",1),Te("click",function(){g(e);let i=p();return m(i.close())}),ee(1,"div",2),Te("click",function(i){return g(e),m(i.stopPropagation())}),ee(2,"div",3)(3,"h2"),d(4,"PDF \uB2E4\uC6B4\uB85C\uB4DC"),se(),ee(5,"button",4),Te("click",function(){g(e);let i=p();return m(i.close())}),ee(6,"span"),d(7,"\xD7"),se()()(),ee(8,"div",5)(9,"p",6),d(10,"\uB2E4\uC6B4\uB85C\uB4DC \uBC29\uC2DD\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694"),se(),ee(11,"div",7)(12,"button",8),Te("click",function(){g(e);let i=p();return m(i.selectDownloadType("original"))}),ee(13,"div",9),d(14,"\u{1F4C4}"),se(),ee(15,"div",10)(16,"h3"),d(17,"\uC6D0\uBCF8 \uB2E4\uC6B4\uB85C\uB4DC"),se(),ye(18,_r,2,0,"p")(19,br,2,0,"p",11),se()(),ee(20,"button",12),Te("click",function(){g(e);let i=p();return m(i.selectDownloadType("edited"))}),ee(21,"div",9),d(22,"\u270F\uFE0F"),se(),ee(23,"div",10)(24,"h3"),d(25,"\uD3B8\uC9D1\uBCF8 \uB2E4\uC6B4\uB85C\uB4DC"),se(),ye(26,Cr,2,0,"p")(27,xr,2,0,"p",11),se()()()()()()}if(a&2){let e=p();c(12),O("disabled",!e.hasOriginalPdf),ct("disabled",!e.hasOriginalPdf),c(6),Me(e.hasOriginalPdf?18:19),c(2),O("disabled",!e.hasEditedPdf),ct("disabled",!e.hasEditedPdf),c(6),Me(e.hasEditedPdf?26:27)}}var Ke=class a{hasOriginalPdf=!1;hasEditedPdf=!1;downloadTypeSelected=new E;modalClosed=new E;isVisible=!1;open(){this.isVisible=!0}close(){this.isVisible=!1,this.modalClosed.emit()}selectDownloadType(t){t==="original"&&!this.hasOriginalPdf||t==="edited"&&!this.hasEditedPdf||(this.downloadTypeSelected.emit(t),this.close())}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-pdf-download-modal"]],inputs:{hasOriginalPdf:"hasOriginalPdf",hasEditedPdf:"hasEditedPdf"},outputs:{downloadTypeSelected:"downloadTypeSelected",modalClosed:"modalClosed"},decls:1,vars:1,consts:[[1,"modal-backdrop"],[1,"modal-backdrop",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-description"],[1,"download-options"],[1,"download-option","original",3,"click","disabled"],[1,"option-icon"],[1,"option-content"],[1,"disabled-text"],[1,"download-option","edited",3,"click","disabled"]],template:function(e,n){e&1&&ye(0,vr,28,8,"div",0),e&2&&Me(n.isVisible?0:-1)},dependencies:[Pe],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:0;width:90%;max-width:500px;box-shadow:0 10px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-body[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{margin:0 0 20px;font-size:14px;color:#666;text-align:center}.download-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.download-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left}.download-option[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#1976d2;background:#f5f9ff;transform:translate(4px)}.download-option[_ngcontent-%COMP%]:active:not(.disabled){transform:translate(4px) scale(.98)}.download-option.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background:#f5f5f5}.download-option.disabled[_ngcontent-%COMP%]:hover{border-color:#e0e0e0;background:#f5f5f5;transform:none}.download-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.download-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{flex:1}.download-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600;color:#333}.download-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#666;line-height:1.4}.download-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   p.disabled-text[_ngcontent-%COMP%]{color:#999;font-style:italic}.download-option.original[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#4caf50;background:#f1f8f4}.download-option.edited[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#ff9800;background:#fff8f0}"]})};function wr(a,t){a&1&&(ee(0,"p"),d(1,"\uD604\uC7AC \uC5F4\uB824\uC788\uB294 \uC6D0\uBCF8 PDF \uD30C\uC77C\uC744 \uC778\uC1C4\uD569\uB2C8\uB2E4"),se())}function yr(a,t){a&1&&(ee(0,"p",11),d(1,"\uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),se())}function Mr(a,t){a&1&&(ee(0,"p"),d(1,"\uD3B8\uC9D1\uB41C \uB0B4\uC6A9\uC774 \uBC18\uC601\uB41C PDF\uB97C \uC0DD\uC131\uD558\uC5EC \uC778\uC1C4\uD569\uB2C8\uB2E4"),se())}function Sr(a,t){a&1&&(ee(0,"p",11),d(1,"\uD3B8\uC9D1\uB41C \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),se())}function kr(a,t){if(a&1){let e=M();ee(0,"div",1),Te("click",function(){g(e);let i=p();return m(i.close())}),ee(1,"div",2),Te("click",function(i){return g(e),m(i.stopPropagation())}),ee(2,"div",3)(3,"h2"),d(4,"PDF \uC778\uC1C4"),se(),ee(5,"button",4),Te("click",function(){g(e);let i=p();return m(i.close())}),ee(6,"span"),d(7,"\xD7"),se()()(),ee(8,"div",5)(9,"p",6),d(10,"\uC778\uC1C4 \uBC29\uC2DD\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694"),se(),ee(11,"div",7)(12,"button",8),Te("click",function(){g(e);let i=p();return m(i.selectPrintType("original"))}),ee(13,"div",9),d(14,"\u{1F5A8}\uFE0F"),se(),ee(15,"div",10)(16,"h3"),d(17,"\uC6D0\uBCF8 \uC778\uC1C4"),se(),ye(18,wr,2,0,"p")(19,yr,2,0,"p",11),se()(),ee(20,"button",12),Te("click",function(){g(e);let i=p();return m(i.selectPrintType("edited"))}),ee(21,"div",9),d(22,"\u270F\uFE0F"),se(),ee(23,"div",10)(24,"h3"),d(25,"\uD3B8\uC9D1\uBCF8 \uC778\uC1C4"),se(),ye(26,Mr,2,0,"p")(27,Sr,2,0,"p",11),se()()()()()()}if(a&2){let e=p();c(12),O("disabled",!e.hasOriginalPdf),ct("disabled",!e.hasOriginalPdf),c(6),Me(e.hasOriginalPdf?18:19),c(2),O("disabled",!e.hasEditedPdf),ct("disabled",!e.hasEditedPdf),c(6),Me(e.hasEditedPdf?26:27)}}var Tt=class a{hasOriginalPdf=!1;hasEditedPdf=!1;printTypeSelected=new E;modalClosed=new E;isVisible=!1;open(){this.isVisible=!0}close(){this.isVisible=!1,this.modalClosed.emit()}selectPrintType(t){t==="original"&&!this.hasOriginalPdf||t==="edited"&&!this.hasEditedPdf||(this.printTypeSelected.emit(t),this.close())}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-pdf-print-modal"]],inputs:{hasOriginalPdf:"hasOriginalPdf",hasEditedPdf:"hasEditedPdf"},outputs:{printTypeSelected:"printTypeSelected",modalClosed:"modalClosed"},decls:1,vars:1,consts:[[1,"modal-backdrop"],[1,"modal-backdrop",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-description"],[1,"print-options"],[1,"print-option","original",3,"click","disabled"],[1,"option-icon"],[1,"option-content"],[1,"disabled-text"],[1,"print-option","edited",3,"click","disabled"]],template:function(e,n){e&1&&ye(0,kr,28,8,"div",0),e&2&&Me(n.isVisible?0:-1)},styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-description[_ngcontent-%COMP%]{margin:0 0 20px;color:#666;font-size:14px;text-align:center}.print-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.print-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:left}.print-option[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#007acc;background-color:#f0f8ff;transform:translateY(-2px);box-shadow:0 4px 12px #007acc26}.print-option.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#f9f9f9}.print-option.original[_ngcontent-%COMP%]:not(.disabled):hover{border-color:#4caf50;background-color:#f1f8f4;box-shadow:0 4px 12px #4caf5026}.print-option.edited[_ngcontent-%COMP%]:not(.disabled):hover{border-color:#ff9800;background-color:#fff8f0;box-shadow:0 4px 12px #ff980026}.option-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.option-content[_ngcontent-%COMP%]{flex:1}.option-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#333}.option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#666;line-height:1.4}.option-content[_ngcontent-%COMP%]   p.disabled-text[_ngcontent-%COMP%]{color:#999;font-style:italic}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:95%;max-width:none}.modal-header[_ngcontent-%COMP%]{padding:16px 20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.modal-body[_ngcontent-%COMP%]{padding:20px}.print-option[_ngcontent-%COMP%]{padding:16px}.print-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{font-size:28px}.print-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.print-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}"]})};var Bt=class a{constructor(){}deletePages(t,e){return P(this,null,function*(){try{let i=yield(yield fetch(t)).arrayBuffer(),o=yield PDFLib.PDFDocument.load(i),l=o.getPageCount();console.log(`\uC0AD\uC81C\uD560 \uD398\uC774\uC9C0: ${e.join(", ")}`);let u=[...e].sort((x,v)=>v-x);for(let x of u)if(x<1||x>l)throw new Error(`\uD398\uC774\uC9C0 ${x}\uB294 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. (\uCD1D ${l}\uD398\uC774\uC9C0)`);for(let x of u){let v=x-1;o.removePage(v)}let _=yield o.save(),C=new Blob([_],{type:"application/pdf"}),b=URL.createObjectURL(C);return console.log(`\uD398\uC774\uC9C0 \uC0AD\uC81C \uC644\uB8CC. \uB0A8\uC740 \uD398\uC774\uC9C0 \uC218: ${o.getPageCount()}`),b}catch(n){throw n}})}getPageCount(t){return P(this,null,function*(){try{let n=yield(yield fetch(t)).arrayBuffer();return(yield PDFLib.PDFDocument.load(n)).getPageCount()}catch(e){throw e}})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var Ft=class a{db=null;config={dbName:"EzReader_TabStorage_v1_2025",version:2,storeName:"recent_files",maxRecentFiles:20,maxFileSize:50,autoCleanupDays:30};dbInitPromise=null;constructor(){this.dbInitPromise=this.initDB()}initDB(){return P(this,null,function*(){return new Promise((t,e)=>{if(!window.indexedDB){console.error("IndexedDB not supported"),e(new Error("IndexedDB not supported"));return}let n=indexedDB.open(this.config.dbName,this.config.version);n.onerror=()=>{console.error("IndexedDB open error:",n.error),e(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("IndexedDB (Recent Files) initialized successfully"),t()},n.onupgradeneeded=i=>{let o=i.target.result;if(!o.objectStoreNames.contains(this.config.storeName)){let l=o.createObjectStore(this.config.storeName,{keyPath:"id"});l.createIndex("name","name",{unique:!1}),l.createIndex("date","date",{unique:!1}),l.createIndex("addedAt","addedAt",{unique:!1}),l.createIndex("lastAccessedAt","lastAccessedAt",{unique:!1}),l.createIndex("accessCount","accessCount",{unique:!1}),console.log("Recent files object store created")}}})})}ensureDB(){return P(this,null,function*(){if(this.dbInitPromise&&(yield this.dbInitPromise),!this.db)throw new Error("Database not initialized")})}addRecentFile(t,e,n,i){return P(this,null,function*(){yield this.ensureDB();let o=n/(1024*1024);if(o>this.config.maxFileSize){console.warn(`File too large for recent files: ${t} (${o.toFixed(2)}MB)`);return}let l=yield this.blobToArrayBuffer(e),u=this.generateFileId(t),_=Date.now(),C={id:u,name:t,date:new Date().toISOString(),size:i,sizeBytes:n,pdfData:l,pdfType:e.type,addedAt:_,lastAccessedAt:_,accessCount:1},b=this.db.transaction([this.config.storeName],"readwrite"),x=b.objectStore(this.config.storeName),v=x.get(u);return new Promise((k,B)=>{v.onsuccess=()=>{let S=v.result;S&&(C.accessCount=S.accessCount+1,C.addedAt=S.addedAt),x.put(C)},b.oncomplete=()=>P(this,null,function*(){console.log(`\u2705 Added/Updated recent file: ${t}`),yield this.cleanupOldFiles(),k()}),b.onerror=()=>B(b.error)})})}loadRecentFiles(){return P(this,null,function*(){try{yield this.ensureDB();let n=this.db.transaction([this.config.storeName],"readonly").objectStore(this.config.storeName).getAll();return new Promise((i,o)=>{n.onsuccess=()=>{let l=n.result;l.sort((u,_)=>_.lastAccessedAt-u.lastAccessedAt),l=l.slice(0,this.config.maxRecentFiles),console.log(`\u{1F4C2} Loaded ${l.length} recent files from IndexedDB`),i({success:!0,files:l})},n.onerror=()=>{o(n.error)}})}catch(t){return console.error("Error loading recent files:",t),{success:!1,files:[],errors:[t instanceof Error?t.message:"Unknown error"]}}})}deleteRecentFile(t){return P(this,null,function*(){yield this.ensureDB();let e=this.db.transaction([this.config.storeName],"readwrite");return e.objectStore(this.config.storeName).delete(t),new Promise((i,o)=>{e.oncomplete=()=>{console.log(`\u{1F5D1}\uFE0F Deleted recent file: ${t}`),i()},e.onerror=()=>o(e.error)})})}deleteRecentFileByName(t){return P(this,null,function*(){let e=this.generateFileId(t);yield this.deleteRecentFile(e)})}clearAllRecentFiles(){return P(this,null,function*(){yield this.ensureDB();let t=this.db.transaction([this.config.storeName],"readwrite");return t.objectStore(this.config.storeName).clear(),new Promise((n,i)=>{t.oncomplete=()=>{console.log("\u{1F9F9} Cleared all recent files from IndexedDB"),n()},t.onerror=()=>i(t.error)})})}cleanupOldFiles(){return P(this,null,function*(){yield this.ensureDB();let e=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName),n=yield this.getAllFilesSync(e);n.sort((_,C)=>C.lastAccessedAt-_.lastAccessedAt);let i=n.slice(this.config.maxRecentFiles),o=Date.now()-this.config.autoCleanupDays*24*60*60*1e3,l=n.filter(_=>_.lastAccessedAt<o),u=new Set([...i,...l]);u.forEach(_=>{e.delete(_.id)}),u.size>0&&console.log(`\u{1F9F9} Cleaned up ${u.size} old recent files`)})}getAllFilesSync(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=t.getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>n(i.error)})})}generateFileId(t){return`recent_${t.toLowerCase().replace(/[^a-z0-9]/g,"_")}`}blobToArrayBuffer(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=new FileReader;i.onload=()=>e(i.result),i.onerror=()=>n(i.error),i.readAsArrayBuffer(t)})})}arrayBufferToBlob(t,e){return new Blob([t],{type:e})}getRecentFileCount(){return P(this,null,function*(){yield this.ensureDB();let n=this.db.transaction([this.config.storeName],"readonly").objectStore(this.config.storeName).count();return new Promise((i,o)=>{n.onsuccess=()=>i(n.result),n.onerror=()=>o(n.error)})})}getStorageSize(){return P(this,null,function*(){let t=yield this.loadRecentFiles();return t.success?t.files.reduce((n,i)=>n+i.sizeBytes,0)/(1024*1024):0})}closeDB(){this.db&&(this.db.close(),this.db=null,console.log("Recent Files Database closed"))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var At=class a{constructor(t,e){this.router=t;this.recentFileStorage=e;this.initializeRecentFiles()}RECENT_FILES_KEY="ezReaderRecentFiles";recentFilesSubject=new et([]);recentFiles$=this.recentFilesSubject.asObservable();config={maxRecentFiles:20,supportedImageFormats:["image/jpeg","image/png","image/gif","image/webp"],supportedDocumentFormats:["application/pdf",".doc",".docx",".txt"],maxFileSize:50*1024*1024};initializeRecentFiles(){return P(this,null,function*(){yield this.loadRecentFiles(),yield this.migrateFromLocalStorage()})}migrateFromLocalStorage(){return P(this,null,function*(){let t=localStorage.getItem(this.RECENT_FILES_KEY);if(t)try{let e=JSON.parse(t);if(e.length>0){console.log(`\u{1F504} Migrating ${e.length} files from localStorage to IndexedDB...`);for(let n of e)if(n.data&&n.data.startsWith("data:"))try{let i=yield this.base64ToBlob(n.data),o=i.size;yield this.recentFileStorage.addRecentFile(n.name,i,o,n.size)}catch(i){console.warn(`Failed to migrate file: ${n.name}`,i)}localStorage.removeItem(this.RECENT_FILES_KEY),console.log("\u2705 Migration completed, localStorage cleared"),yield this.loadRecentFiles()}}catch(e){console.error("Migration error:",e)}})}base64ToBlob(t){return P(this,null,function*(){return yield(yield fetch(t)).blob()})}loadRecentFiles(){return P(this,null,function*(){let t=yield this.recentFileStorage.loadRecentFiles();if(t.success){let e=t.files.map(n=>({name:n.name,date:n.date,data:"",size:n.size}));return this.recentFilesSubject.next(e),e}return[]})}getRecentFileWithBlob(t){return P(this,null,function*(){let e=yield this.recentFileStorage.loadRecentFiles();if(e.success){let n=e.files.find(i=>i.name===t);if(n&&n.pdfData)return this.recentFileStorage.arrayBufferToBlob(n.pdfData,n.pdfType)}return null})}saveRecentFiles(t){this.recentFilesSubject.next(t)}addRecentFile(t,e,n){return P(this,null,function*(){let i;if(e.startsWith("blob:"))i=yield(yield fetch(e)).blob();else if(e.startsWith("data:"))i=yield this.base64ToBlob(e);else{console.warn("Unknown data format for recent file");return}let o=i.size;yield this.recentFileStorage.addRecentFile(t,i,o,n),yield this.loadRecentFiles()})}deleteRecentFile(t){return P(this,null,function*(){yield this.recentFileStorage.deleteRecentFileByName(t.name),yield this.loadRecentFiles()})}handleFileUpload(t,e=!1){return new Promise(n=>{let i=document.createElement("input");i.type="file",i.multiple=e,i.accept=t.join(","),i.onchange=o=>{n(o.target.files)},i.onclick=()=>{setTimeout(()=>{i.files||n(null)},1e3)},i.click()})}processPdfFile(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=new FileReader;i.onload=()=>{let o=i.result;this.addRecentFile(t.name,o,this.formatFileSize(t.size)),e(o)},i.onerror=()=>n(i.error),i.readAsDataURL(t)})})}openInViewer(t,e,n="desktop"){let i=n==="mobile"?"/docs_mobile/viewer":"/viewer";this.router.navigate([i],{state:{pdfData:t,name:e}})}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+n[i]}handleFileDrop(t){t.preventDefault();let e=t.dataTransfer?.files;if(e&&e.length>0){let n=e[0];return n.type==="application/pdf"||n.name.toLowerCase().endsWith(".pdf")?n:null}return null}handleFileAction(t,e){return P(this,null,function*(){switch(t){case"open":e.length>0&&e[0].data&&this.openInViewer(e[0].data,e[0].name);break;case"share":break;case"rename":break;case"copy":break;case"delete":break;default:}})}static \u0275fac=function(e){return new(e||a)(xe(we),xe(Ft))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function Br(a,t){a&1&&(r(0,"div",7)(1,"p"),d(2,"\uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s()())}function Fr(a,t){if(a&1&&y(0,"img",14),a&2){let e=p().$implicit;f("src",e.icon,st)("alt","\uD398\uC774\uC9C0 "+e.pageNumber)}}function Ar(a,t){if(a&1&&(r(0,"div",15),d(1),s()),a&2){let e=p().$implicit;c(),N(" ",e.icon||"\u{1F4C4}"," ")}}function Vr(a,t){if(a&1&&(r(0,"div",16),d(1),s()),a&2){let e=p().$implicit;c(),R(e.title)}}function Ir(a,t){if(a&1){let e=M();r(0,"div",8),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onThumbnailClick(i))}),r(1,"div",9),w(2,Fr,1,2,"img",10)(3,Ar,2,1,"div",11),r(4,"div",12),d(5),s()(),w(6,Vr,2,1,"div",13),s()}if(a&2){let e=t.$implicit;O("active",e.active),f("title","\uD398\uC774\uC9C0 "+e.pageNumber+(e.title?": "+e.title:"")),c(2),f("ngIf",e.icon&&e.icon.startsWith("data:")),c(),f("ngIf",!e.icon||!e.icon.startsWith("data:")),c(2),R(e.pageNumber),c(),f("ngIf",e.title)}}var Dn=class a{constructor(t){this.cdr=t}isVisible=!1;thumbnails=[];close=new E;thumbnailClick=new E;ngOnChanges(t){t.thumbnails&&(console.log("\u{1F4F8} \uC88C\uCE21 \uD328\uB110 \uC378\uB124\uC77C \uC5C5\uB370\uC774\uD2B8:",this.thumbnails.length),this.cdr.detectChanges())}onThumbnailClick(t){this.thumbnails.forEach(e=>e.active=!1),t.active=!0,this.thumbnailClick.emit(t)}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||a)(G(Be))};static \u0275cmp=L({type:a,selectors:[["app-shared-pdf-left-panel"]],inputs:{isVisible:"isVisible",thumbnails:"thumbnails"},outputs:{close:"close",thumbnailClick:"thumbnailClick"},standalone:!1,features:[ve],decls:9,vars:2,consts:[[1,"left-panel"],[1,"panel-header"],[1,"panel-title"],["title","\uB2EB\uAE30",1,"close-panel-btn",3,"click"],[1,"thumbnail-container"],["class","empty-state",4,"ngIf"],["class","thumbnail",3,"active","title","click",4,"ngFor","ngForOf"],[1,"empty-state"],[1,"thumbnail",3,"click","title"],[1,"thumbnail-image"],["class","thumbnail-img",3,"src","alt",4,"ngIf"],["class","page-icon",4,"ngIf"],[1,"page-number"],["class","page-title",4,"ngIf"],[1,"thumbnail-img",3,"src","alt"],[1,"page-icon"],[1,"page-title"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h3",2),d(3,"\uD398\uC774\uC9C0"),s(),r(4,"button",3),h("click",function(){return n.onClose()}),d(5," \xD7 "),s()(),r(6,"div",4),w(7,Br,3,0,"div",5)(8,Ir,7,7,"div",6),s()()),e&2&&(c(7),f("ngIf",!n.thumbnails||n.thumbnails.length===0),c(),f("ngForOf",n.thumbnails))},dependencies:[re,Q],styles:['@charset "UTF-8";.left-panel[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:240px;background:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;z-index:900;box-shadow:2px 0 8px #0000001a}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #e0e0e0}.panel-title[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#333}.close-panel-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;width:28px;height:28px;line-height:1;display:flex;align-items:center;justify-content:center;color:#888;border-radius:4px;transition:background .15s;padding:0}.close-panel-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.thumbnail-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;color:#999;font-size:14px;text-align:center}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:20px}.thumbnail[_ngcontent-%COMP%]{width:100%;margin-bottom:12px;border:2px solid transparent;border-radius:6px;cursor:pointer;transition:all .2s;position:relative}.thumbnail[_ngcontent-%COMP%]:hover{border-color:#ccc;box-shadow:0 2px 4px #0000001a}.thumbnail.active[_ngcontent-%COMP%]{border-color:#007acc;box-shadow:0 2px 8px #007acc33}.thumbnail-image[_ngcontent-%COMP%]{width:100%;height:140px;background:linear-gradient(135deg,#f9f9f9,#f0f0f0);border:1px solid #ddd;border-radius:4px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.thumbnail-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;background:#fff}.page-icon[_ngcontent-%COMP%]{font-size:52px;opacity:.6;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.4}50%{opacity:.7}}.page-number[_ngcontent-%COMP%]{position:absolute;bottom:6px;left:6px;background:#000000bf;color:#fff;padding:3px 8px;border-radius:3px;font-size:12px;font-weight:500}.page-title[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;text-align:center;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 4px}.thumbnail-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.thumbnail-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.thumbnail-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.thumbnail-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}']})};var Ze=class a{constructor(t){this.snackBar=t}defaultConfig={duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"};show(t,e){this.snackBar.open(t,"\uD655\uC778",Le(ae({},this.defaultConfig),{duration:e||this.defaultConfig.duration,panelClass:["snackbar-info"]}))}success(t,e){this.snackBar.open(t,"\uD655\uC778",Le(ae({},this.defaultConfig),{duration:e||this.defaultConfig.duration,panelClass:["snackbar-success"]}))}warning(t,e){this.snackBar.open(t,"\uD655\uC778",Le(ae({},this.defaultConfig),{duration:e||this.defaultConfig.duration,panelClass:["snackbar-warning"]}))}error(t,e){this.snackBar.open(t,"\uD655\uC778",Le(ae({},this.defaultConfig),{duration:e||this.defaultConfig.duration,panelClass:["snackbar-error"]}))}showLong(t,e){this.snackBar.open(t,"\uD655\uC778",Le(ae({},this.defaultConfig),{duration:e||5e3,panelClass:["snackbar-long"]}))}static \u0275fac=function(e){return new(e||a)(xe(On))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function Rr(a,t){if(a&1&&(r(0,"span"),d(1),s()),a&2){let e=p();c(),N("",e.selectedPages.size,"\uAC1C \uC120\uD0DD\uB428")}}function Lr(a,t){a&1&&(r(0,"span"),d(1,"\uD398\uC774\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694"),s())}function Nr(a,t){a&1&&(r(0,"span"),d(1,"\u2713"),s())}function jr(a,t){if(a&1&&y(0,"img",18),a&2){let e=p().$implicit;f("src",e.thumbnail,st)("alt","\uD398\uC774\uC9C0 "+e.pageNumber+" \uC378\uB124\uC77C")}}function Wr(a,t){if(a&1&&(r(0,"div",19)(1,"div",20),d(2),s()()),a&2){let e=p().$implicit;c(2),R(e.pageNumber)}}function Hr(a,t){if(a&1){let e=M();r(0,"div",11),h("dragstart",function(i){let o=g(e).index,l=p();return m(l.onDragStart(i,o))})("dragover",function(i){g(e);let o=p();return m(o.onDragOver(i))})("drop",function(i){let o=g(e).index,l=p();return m(l.onDrop(i,o))})("dragend",function(){g(e);let i=p();return m(i.onDragEnd())})("click",function(i){let o=g(e).$implicit,l=p();return m(l.togglePageSelection(o.pageNumber,i))}),r(1,"div",12),h("click",function(i){let o=g(e).$implicit,l=p();return i.stopPropagation(),m(l.togglePageSelection(o.pageNumber,i))}),w(2,Nr,2,0,"span",3),s(),r(3,"div",13)(4,"div",14),w(5,jr,1,2,"img",15)(6,Wr,3,1,"div",16),s()(),r(7,"div",17),d(8),s()()}if(a&2){let e=t.$implicit,n=t.index,i=p();O("selected",i.isPageSelected(e.pageNumber))("dragging",i.draggedIndex===n),c(),O("checked",i.isPageSelected(e.pageNumber)),c(),f("ngIf",i.isPageSelected(e.pageNumber)),c(3),f("ngIf",e.thumbnail),c(),f("ngIf",!e.thumbnail),c(2),R(e.pageNumber)}}var Tn=class a{constructor(t){this.notification=t}isVisible=!1;pages=[];currentPageCount=0;pdfSrc=null;close=new E;pageOrderChanged=new E;deletePages=new E;confirmDelete=new E;pageSelected=new E;pageList=[];selectedPages=new Set;draggedIndex=null;dragOverIndex=null;ngOnInit(){this.initializePages()}ngOnChanges(t){t.currentPageCount&&t.currentPageCount.currentValue!==t.currentPageCount.previousValue&&(console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uC218 \uBCC0\uACBD \uAC10\uC9C0:",t.currentPageCount.previousValue,"\u2192",t.currentPageCount.currentValue),this.initializePages()),t.pdfSrc&&t.pdfSrc.currentValue&&this.pageList.length>0&&this.generateThumbnails()}initializePages(){this.currentPageCount>0?(console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uBAA9\uB85D \uCD08\uAE30\uD654:",this.currentPageCount,"\uAC1C"),this.selectedPages.clear(),this.pageList=Array.from({length:this.currentPageCount},(t,e)=>({pageNumber:e+1,title:`\uD398\uC774\uC9C0 ${e+1}`})),this.pdfSrc&&this.generateThumbnails()):this.pages.length>0&&(this.pageList=[...this.pages])}trackByPageNumber(t,e){return e.pageNumber}onDragStart(t,e){this.draggedIndex=e,t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",""))}onDragOver(t){t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")}onDrop(t,e){if(t.preventDefault(),this.draggedIndex!==null&&this.draggedIndex!==e){let n=this.pageList[this.draggedIndex];this.pageList.splice(this.draggedIndex,1),this.pageList.splice(e,0,n),this.pageList.forEach((i,o)=>{i.pageNumber=o+1}),this.pageOrderChanged.emit([...this.pageList])}this.draggedIndex=null,this.dragOverIndex=null}onDragEnd(){this.draggedIndex=null,this.dragOverIndex=null}togglePageSelection(t,e){this.selectedPages.has(t)?this.selectedPages.delete(t):this.selectedPages.add(t),this.pageSelected.emit(Array.from(this.selectedPages))}isPageSelected(t){return this.selectedPages.has(t)}selectAllPages(){this.pageList.forEach(t=>this.selectedPages.add(t.pageNumber)),this.pageSelected.emit(Array.from(this.selectedPages))}deselectAllPages(){this.selectedPages.clear(),this.pageSelected.emit([])}onDeleteSelected(){if(this.selectedPages.size===0){this.notification.show("\uC0AD\uC81C\uD560 \uD398\uC774\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}let t=Array.from(this.selectedPages);this.confirmDelete.emit({pages:t,callback:()=>{console.log("\u{1F5D1}\uFE0F \uCF5C\uBC31 \uC2E4\uD589: \uC120\uD0DD\uB41C \uD398\uC774\uC9C0 \uC0AD\uC81C"),this.deletePages.emit(t)}})}generateThumbnails(){return P(this,null,function*(){if(!(!this.pdfSrc||!pdfjsLib))try{let e=yield pdfjsLib.getDocument(this.pdfSrc).promise;for(let n=0;n<this.pageList.length;n++){let i=yield e.getPage(n+1),o=yield this.generatePageThumbnail(i,n+1),l=this.pageList.findIndex(u=>u.pageNumber===n+1);l!==-1&&(this.pageList[l].thumbnail=o)}}catch{}})}generatePageThumbnail(t,e){return P(this,null,function*(){let i=t.getViewport({scale:.3}),o=document.createElement("canvas"),l=o.getContext("2d");if(!l)throw new Error("Canvas context\uB97C \uC0DD\uC131\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");o.height=i.height,o.width=i.width;let u={canvasContext:l,viewport:i};return yield t.render(u).promise,o.toDataURL("image/png")})}static \u0275fac=function(e){return new(e||a)(G(Ze))};static \u0275cmp=L({type:a,selectors:[["app-shared-page-reorder"]],inputs:{isVisible:"isVisible",pages:"pages",currentPageCount:"currentPageCount",pdfSrc:"pdfSrc"},outputs:{close:"close",pageOrderChanged:"pageOrderChanged",deletePages:"deletePages",confirmDelete:"confirmDelete",pageSelected:"pageSelected"},standalone:!1,features:[ve],decls:15,vars:10,consts:[[1,"page-reorder-panel"],[1,"reorder-header"],[1,"selection-info"],[4,"ngIf"],[1,"header-buttons"],["title","\uC804\uCCB4 \uC120\uD0DD",1,"btn-select-all",3,"click"],["title","\uC120\uD0DD \uD574\uC81C",1,"btn-deselect-all",3,"click"],["title","\uC120\uD0DD \uC0AD\uC81C",1,"btn-delete-selected",3,"click","disabled"],[1,"page-list-container"],[1,"page-grid"],["class","page-card","draggable","true",3,"selected","dragging","dragstart","dragover","drop","dragend","click",4,"ngFor","ngForOf","ngForTrackBy"],["draggable","true",1,"page-card",3,"dragstart","dragover","drop","dragend","click"],[1,"selection-checkbox",3,"click"],[1,"page-thumbnail"],[1,"thumbnail-content"],["class","thumbnail-image",3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"page-number"],[1,"thumbnail-image",3,"src","alt"],[1,"thumbnail-placeholder"],[1,"page-number-overlay"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),w(3,Rr,2,1,"span",3)(4,Lr,2,0,"span",3),s(),r(5,"div",4)(6,"button",5),h("click",function(){return n.selectAllPages()}),d(7," \uC804\uCCB4 \uC120\uD0DD "),s(),r(8,"button",6),h("click",function(){return n.deselectAllPages()}),d(9," \uC120\uD0DD \uD574\uC81C "),s(),r(10,"button",7),h("click",function(){return n.onDeleteSelected()}),d(11),s()()(),r(12,"div",8)(13,"div",9),w(14,Hr,9,10,"div",10),s()()()),e&2&&(he("display",n.isVisible?"":"none"),O("closed",!n.isVisible),c(3),f("ngIf",n.selectedPages.size>0),c(),f("ngIf",n.selectedPages.size===0),c(6),f("disabled",n.selectedPages.size===0),c(),N(" \uC120\uD0DD \uC0AD\uC81C (",n.selectedPages.size,") "),c(3),f("ngForOf",n.pageList)("ngForTrackBy",n.trackByPageNumber))},dependencies:[re,Q],styles:['@charset "UTF-8";.page-reorder-panel[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 150px);background:#fff;display:flex;flex-direction:column;overflow:hidden;position:relative}@media (max-height: 800px){.page-reorder-panel[_ngcontent-%COMP%]{height:calc(100vh - 120px)}}@media (max-height: 600px){.page-reorder-panel[_ngcontent-%COMP%]{height:calc(100vh - 100px)}}.page-reorder-panel.closed[_ngcontent-%COMP%]{transform:translate(100%);opacity:0;pointer-events:none}.reorder-header[_ngcontent-%COMP%]{padding:16px 40px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.reorder-header[_ngcontent-%COMP%]   .selection-info[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f5f5f5;border-color:#bbb}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button.btn-select-all[_ngcontent-%COMP%]{color:#2196f3;border-color:#2196f3}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button.btn-select-all[_ngcontent-%COMP%]:hover{background:#e3f2fd}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button.btn-deselect-all[_ngcontent-%COMP%]{color:#666}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button.btn-delete-selected[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}.reorder-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button.btn-delete-selected[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffebee}.page-list-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 40px 40px;background:#f8f9fa;display:flex;justify-content:center;align-items:flex-start;min-height:0}.page-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;max-width:1200px;margin:0 auto;width:100%;justify-items:center;padding-bottom:20px}.page-card[_ngcontent-%COMP%]{position:relative;background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:16px;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #0000001a}.page-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026;border-color:#ccc}.page-card.selected[_ngcontent-%COMP%]{border-color:#2196f3;border-width:3px;box-shadow:0 4px 16px #2196f34d;background:#e3f2fd}.page-card.dragging[_ngcontent-%COMP%]{opacity:.5;transform:rotate(5deg)}.selection-checkbox[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;width:24px;height:24px;border:2px solid #2196F3;border-radius:4px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:all .2s}.selection-checkbox[_ngcontent-%COMP%]:hover{background:#e3f2fd;transform:scale(1.1)}.selection-checkbox.checked[_ngcontent-%COMP%]{background:#2196f3;color:#fff;font-weight:700;font-size:16px}.selection-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.page-thumbnail[_ngcontent-%COMP%]{width:100%;height:200px;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden;background:#f9f9f9;display:flex;align-items:center;justify-content:center;margin-bottom:12px}.thumbnail-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.thumbnail-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:4px}.thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:4px;display:flex;align-items:center;justify-content:center;position:relative}.page-number-overlay[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#6c757d;background:#fffc;padding:8px 16px;border-radius:20px;border:2px solid #dee2e6}.page-preview[_ngcontent-%COMP%]{width:80%;height:80%;background:#fff;border:1px solid #ddd;border-radius:2px;box-shadow:0 2px 4px #0000001a}.page-number[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:500;color:#333}.page-list-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;justify-content:center;align-items:flex-start;padding:40px 20px;background:#f8f9fa}.page-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px;max-width:95%;width:100%;justify-content:center;align-items:flex-start;background:#fff;border-radius:12px;box-shadow:0 4px 16px #0000001a;min-height:400px}.page-item[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;gap:12px;padding:16px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;-webkit-user-select:none;user-select:none;width:160px;min-height:220px}.page-item[_ngcontent-%COMP%]:hover{border-color:#007acc;background:#f8f9ff}.page-item.selected[_ngcontent-%COMP%]{border-color:#007acc;background:#e3f2fd}.page-item.dragging[_ngcontent-%COMP%]{opacity:.7;transform:rotate(3deg) scale(1.05);box-shadow:0 8px 24px #0003;z-index:1000}.drag-handle[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#666;cursor:grab;font-size:16px;line-height:1;position:absolute;top:8px;right:8px;background:#ffffffe6;border-radius:50%;border:1px solid #ddd;transition:all .2s ease}.drag-handle[_ngcontent-%COMP%]:hover{background:#007acc;color:#fff;border-color:#007acc}.drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.page-thumbnail[_ngcontent-%COMP%]{width:90px;height:120px;flex-shrink:0}.thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px;display:flex;align-items:center;justify-content:center;background:#f8f9fa;position:relative}.page-number[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#666}.page-info[_ngcontent-%COMP%]{text-align:center;width:100%}.page-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.page-details[_ngcontent-%COMP%]{font-size:12px;color:#666}.page-checkbox[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.page-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.panel-footer[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e0e0e0;background:#f8f9fa}.page-count[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;margin-bottom:8px}.instructions[_ngcontent-%COMP%]{font-size:12px;color:#666;line-height:1.4}.page-item[draggable=true][_ngcontent-%COMP%]{position:relative}.page-item.drag-over[_ngcontent-%COMP%]{border-color:#007acc;border-style:dashed;background:#e3f2fd}.page-item.drag-target[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-4px;left:0;right:0;height:2px;background:#007acc;border-radius:1px}.action-buttons[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;justify-content:center;gap:12px}.action-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:80px}.rotate-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff}.rotate-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 12px #007bff4d}.rotate-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.delete-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333;transform:translateY(-1px);box-shadow:0 4px 12px #dc35454d}.delete-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;opacity:.6}']})};var Ur=["previewCanvas"];function Gr(a,t){if(a&1&&(r(0,"option",23),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),N(" ",e.label," ")}}function Qr(a,t){if(a&1&&(r(0,"option",23),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),rn(" ",e.label," - ",e.description," ")}}function qr(a,t){if(a&1){let e=M();r(0,"div",15)(1,"div",10)(2,"label"),d(3),s(),r(4,"input",27),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.config.pattern.columns,i)||(o.config.pattern.columns=i),m(i)}),h("ngModelChange",function(){g(e);let i=p(2);return m(i.onPatternChange())}),s()(),r(5,"div",10)(6,"label"),d(7),s(),r(8,"input",27),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.config.pattern.rows,i)||(o.config.pattern.rows=i),m(i)}),h("ngModelChange",function(){g(e);let i=p(2);return m(i.onPatternChange())}),s()()()}if(a&2){let e=p(2);c(3),N("\uAC00\uB85C \uBC18\uBCF5: ",e.config.pattern.columns,"\uAC1C"),c(),A("ngModel",e.config.pattern.columns),c(3),N("\uC138\uB85C \uBC18\uBCF5: ",e.config.pattern.rows,"\uAC1C"),c(),A("ngModel",e.config.pattern.rows)}}function Yr(a,t){if(a&1){let e=M();r(0,"div",24)(1,"h4"),d(2,"\uD328\uD134 \uC124\uC815"),s(),r(3,"div",10)(4,"label"),d(5,"\uD328\uD134 \uD0C0\uC785"),s(),r(6,"select",12),V("ngModelChange",function(i){g(e);let o=p();return F(o.config.pattern.type,i)||(o.config.pattern.type=i),m(i)}),h("ngModelChange",function(){g(e);let i=p();return m(i.onPatternChange())}),w(7,Qr,2,3,"option",13),s()(),w(8,qr,9,4,"div",25),r(9,"div",26)(10,"small")(11,"strong"),d(12),s(),d(13),s()()()}if(a&2){let e=p();c(6),A("ngModel",e.config.pattern.type),c(),f("ngForOf",e.patternTypes),c(),f("ngIf",e.config.pattern.type!=="border"),c(4),R(e.getSelectedPatternLabel()),c(),N(": ",e.getSelectedPatternDescription()," ")}}var Vt=class a{constructor(t){this.watermarkService=t;this.config=this.watermarkService.getDefaultWatermarkConfig(),this.patternTypes=this.watermarkService.getPatternTypes()}canvasRef;watermarkCreated=new E;cancel=new E;config;positionOptions=[{value:"diagonal",label:"\uB300\uAC01\uC120 (\uC911\uC559)"},{value:"center",label:"\uC911\uC559"},{value:"top-left",label:"\uC88C\uCE21 \uC0C1\uB2E8"},{value:"top-right",label:"\uC6B0\uCE21 \uC0C1\uB2E8"},{value:"bottom-left",label:"\uC88C\uCE21 \uD558\uB2E8"},{value:"bottom-right",label:"\uC6B0\uCE21 \uD558\uB2E8"},{value:"pattern",label:"\uD328\uD134 (\uBC18\uBCF5)"}];patternTypes=[];ngAfterViewInit(){this.updatePreview()}ngOnDestroy(){}updatePreview(){this.canvasRef&&this.watermarkService.generateWatermarkPreview(this.config,this.canvasRef.nativeElement)}onConfigChange(){this.config.position==="pattern"&&this.config.pattern?this.config.pattern.enabled=!0:this.config.pattern&&(this.config.pattern.enabled=!1),this.updatePreview()}onPatternChange(){this.updatePreview()}getSelectedPatternLabel(){return this.config.pattern&&this.patternTypes.find(e=>e.value===this.config.pattern?.type)?.label||""}getSelectedPatternDescription(){return this.config.pattern&&this.patternTypes.find(e=>e.value===this.config.pattern?.type)?.description||""}apply(){if(!this.config.text.trim()){alert("\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.");return}this.watermarkCreated.emit(this.config)}onCancel(){this.cancel.emit()}static \u0275fac=function(e){return new(e||a)(G(ht))};static \u0275cmp=L({type:a,selectors:[["app-shared-watermark-config-modal"]],viewQuery:function(e,n){if(e&1&&te(Ur,5),e&2){let i;K(i=Z())&&(n.canvasRef=i.first)}},outputs:{watermarkCreated:"watermarkCreated",cancel:"cancel"},decls:48,vars:11,consts:[["previewCanvas",""],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"preview-section"],[1,"preview-container"],[1,"preview-canvas"],[1,"config-section"],[1,"form-group"],["type","text","placeholder","\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694","maxlength","50",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","pattern-settings",4,"ngIf"],[1,"form-row"],["type","range","min","20","max","100","step","2",3,"ngModelChange","ngModel"],["type","range","min","-180","max","180","step","5",3,"ngModelChange","ngModel"],["type","range","min","0.1","max","1","step","0.05",3,"ngModelChange","ngModel"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"value"],[1,"pattern-settings"],["class","form-row",4,"ngIf"],[1,"pattern-info"],["type","range","min","1","max","5","step","1",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let i=M();r(0,"div",1),h("click",function(){return g(i),m(n.onCancel())}),r(1,"div",2),h("click",function(l){return g(i),m(l.stopPropagation())}),r(2,"div",3)(3,"h3"),d(4,"\uC6CC\uD130\uB9C8\uD06C \uC124\uC815"),s(),r(5,"button",4),h("click",function(){return g(i),m(n.onCancel())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"div",6)(9,"h4"),d(10,"\uBBF8\uB9AC\uBCF4\uAE30"),s(),r(11,"div",7),y(12,"canvas",8,0),s()(),r(14,"div",9)(15,"div",10)(16,"label"),d(17,"\uC6CC\uD130\uB9C8\uD06C \uD14D\uC2A4\uD2B8"),s(),r(18,"input",11),V("ngModelChange",function(l){return g(i),F(n.config.text,l)||(n.config.text=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),s()(),r(19,"div",10)(20,"label"),d(21,"\uC704\uCE58"),s(),r(22,"select",12),V("ngModelChange",function(l){return g(i),F(n.config.position,l)||(n.config.position=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),w(23,Gr,2,2,"option",13),s()(),w(24,Yr,14,5,"div",14),r(25,"div",15)(26,"div",10)(27,"label"),d(28),s(),r(29,"input",16),V("ngModelChange",function(l){return g(i),F(n.config.fontSize,l)||(n.config.fontSize=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),s()(),r(30,"div",10)(31,"label"),d(32),s(),r(33,"input",17),V("ngModelChange",function(l){return g(i),F(n.config.rotation,l)||(n.config.rotation=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),s()()(),r(34,"div",15)(35,"div",10)(36,"label"),d(37),s(),r(38,"input",18),V("ngModelChange",function(l){return g(i),F(n.config.opacity,l)||(n.config.opacity=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),s()(),r(39,"div",10)(40,"label"),d(41,"\uC0C9\uC0C1"),s(),r(42,"input",19),V("ngModelChange",function(l){return g(i),F(n.config.color,l)||(n.config.color=l),m(l)}),h("ngModelChange",function(){return g(i),m(n.onConfigChange())}),s()()()()(),r(43,"div",20)(44,"button",21),h("click",function(){return g(i),m(n.onCancel())}),d(45," \uCDE8\uC18C "),s(),r(46,"button",22),h("click",function(){return g(i),m(n.apply())}),d(47," \uC801\uC6A9 "),s()()()()}e&2&&(c(18),A("ngModel",n.config.text),c(4),A("ngModel",n.config.position),c(),f("ngForOf",n.positionOptions),c(),f("ngIf",n.config.position==="pattern"&&n.config.pattern),c(4),N("\uAE00\uAF34 \uD06C\uAE30: ",n.config.fontSize,"px"),c(),A("ngModel",n.config.fontSize),c(3),N("\uD68C\uC804: ",n.config.rotation,"\xB0"),c(),A("ngModel",n.config.rotation),c(4),N("\uD22C\uBA85\uB3C4: ",(n.config.opacity*100).toFixed(0),"%"),c(),A("ngModel",n.config.opacity),c(4),A("ngModel",n.config.color))},dependencies:[Pe,re,Q,Ie,Ae,Ve,le,gt,We,ce,Li,de],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:700px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px 20px;overflow-y:auto;flex:1}.preview-section[_ngcontent-%COMP%]{margin-bottom:24px}.preview-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:600;color:#666}.preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e0e0e0;border-radius:8px;padding:16px;display:flex;justify-content:center;align-items:center}.preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-canvas[_ngcontent-%COMP%]{max-width:100%;height:auto;box-shadow:0 2px 8px #0000001a;border:1px solid #ddd;border-radius:4px}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:13px;font-weight:500;color:#555}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;height:6px;-webkit-appearance:none;appearance:none;background:#e0e0e0;border-radius:3px;outline:none}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;background:#4285f4;border-radius:50%;cursor:pointer}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background:#3367d6}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:18px;height:18px;background:#4285f4;border-radius:50%;cursor:pointer;border:none}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb:hover{background:#3367d6}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:100%;height:40px;padding:4px;border:1px solid #ddd;border-radius:6px;cursor:pointer}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}.config-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]::-webkit-color-swatch{border:none;border-radius:4px}.config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.pattern-settings[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f9f9f9;border-radius:8px;border:1px solid #e0e0e0}.pattern-settings[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:13px;font-weight:600;color:#4285f4}.pattern-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:12px}.pattern-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pattern-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:13px;background:#fff;cursor:pointer}.pattern-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4}.pattern-settings[_ngcontent-%COMP%]   .pattern-info[_ngcontent-%COMP%]{margin-top:12px;padding:10px;background:#e3f2fd;border-radius:6px}.pattern-settings[_ngcontent-%COMP%]   .pattern-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:#1976d2;line-height:1.5}.pattern-settings[_ngcontent-%COMP%]   .pattern-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#3367d6}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}"]})};var si=class{_box;_destroyed=new Ce;_resizeSubject=new Ce;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Kt(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Jt(e=>e.some(n=>n.target===t)),bi({bufferSize:1,refCount:!0}),De(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Fo=(()=>{class a{_cleanupErrorListener;_observers=new Map;_ngZone=T(Ue);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let i=n?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new si(i)),this._observers.get(i).observe(e)}static \u0275fac=function(n){return new(n||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var gi=["*"];function Jr(a,t){a&1&&on(0)}var es=["tabListContainer"],ts=["tabList"],ns=["tabListInner"],is=["nextPaginator"],os=["previousPaginator"],as=["content"];function rs(a,t){}var ss=["tabBodyWrapper"],ls=["tabHeader"];function cs(a,t){}function ds(a,t){if(a&1&&w(0,cs,0,0,"ng-template",12),a&2){let e=p().$implicit;f("cdkPortalOutlet",e.templateLabel)}}function ps(a,t){if(a&1&&d(0),a&2){let e=p().$implicit;R(e.textLabel)}}function gs(a,t){if(a&1){let e=M();r(0,"div",7,2),h("click",function(){let i=g(e),o=i.$implicit,l=i.$index,u=p(),_=je(1);return m(u._handleClick(o,_,l))})("cdkFocusChange",function(i){let o=g(e).$index,l=p();return m(l._tabFocusChanged(i,o))}),y(2,"span",8)(3,"div",9),r(4,"span",10)(5,"span",11),ye(6,ds,1,1,null,12)(7,ps,1,1),s()()()}if(a&2){let e=t.$implicit,n=t.$index,i=je(1),o=p();an(e.labelClass),O("mdc-tab--active",o.selectedIndex===n),f("id",o._getTabLabelId(e,n))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),be("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),c(3),f("matRippleTrigger",i)("matRippleDisabled",e.disabled||o.disableRipple),c(3),Me(e.templateLabel?6:7)}}function ms(a,t){a&1&&on(0)}function us(a,t){if(a&1){let e=M();r(0,"mat-tab-body",13),h("_onCentered",function(){g(e);let i=p();return m(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){g(e);let o=p();return m(o._setTabBodyWrapperHeight(i))})("_beforeCentering",function(i){g(e);let o=p();return m(o._bodyCentered(i))}),s()}if(a&2){let e=t.$implicit,n=t.$index,i=p();an(e.bodyClass),f("id",i._getTabContentId(n))("content",e.content)("position",e.position)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),be("tabindex",i.contentTabIndex!=null&&i.selectedIndex===n?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(e,n))("aria-hidden",i.selectedIndex!==n)}}var fs=new $e("MatTabContent"),hs=(()=>{class a{template=T(lt);constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,selectors:[["","matTabContent",""]],features:[Ht([{provide:fs,useExisting:a}])]})}return a})(),_s=new $e("MatTabLabel"),zo=new $e("MAT_TAB"),bs=(()=>{class a extends $i{_closestTab=T(zo,{optional:!0});static \u0275fac=(()=>{let e;return function(i){return(e||(e=tn(a)))(i||a)}})();static \u0275dir=Ne({type:a,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ht([{provide:_s,useExisting:a}]),it]})}return a})(),Ro=new $e("MAT_TAB_GROUP"),mi=(()=>{class a{_viewContainerRef=T(wi);_closestTabGroup=T(Ro,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Ce;position=null;origin=null;isActive=!1;constructor(){T(Gi).load(ro)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new dn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=L({type:a,selectors:[["mat-tab"]],contentQueries:function(n,i,o){if(n&1&&(Wt(o,bs,5),Wt(o,hs,7,lt)),n&2){let l;K(l=Z())&&(i.templateLabel=l.first),K(l=Z())&&(i._explicitContent=l.first)}},viewQuery:function(n,i){if(n&1&&te(lt,7),n&2){let o;K(o=Z())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(n,i){n&2&&be("id",null)},inputs:{disabled:[2,"disabled","disabled",Fe],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[Ht([{provide:zo,useExisting:a}]),ve],ngContentSelectors:gi,decls:1,vars:0,template:function(n,i){n&1&&(nn(),yi(0,Jr,1,0,"ng-template"))},encapsulation:2})}return a})(),li="mdc-tab-indicator--active",Ao="mdc-tab-indicator--no-transition",ci=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar()),this._currentItem=void 0}alignToElement(t){let e=this._items.find(i=>i.elementRef.nativeElement===t),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let i=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}},Cs=(()=>{class a{_elementRef=T(Qe);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(li);return}let i=n.getBoundingClientRect(),o=e.width/i.width,l=e.left-i.left;n.classList.add(Ao),this._inkBarContentElement.style.setProperty("transform",`translateX(${l}px) scaleX(${o})`),n.getBoundingClientRect(),n.classList.remove(Ao),n.classList.add(li),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(li)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),i=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Fe]}})}return a})();var Lo=(()=>{class a extends Cs{elementRef=T(Qe);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tn(a)))(i||a)}})();static \u0275dir=Ne({type:a,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,i){n&2&&(be("aria-disabled",!!i.disabled),O("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",Fe]},features:[it]})}return a})(),Vo={passive:!0},xs=650,vs=100,Ps=(()=>{class a{_elementRef=T(Qe);_changeDetectorRef=T(Be);_viewportRuler=T(Xi);_dir=T(ei,{optional:!0});_ngZone=T(Ue);_platform=T(Qt);_sharedResizeObserver=T(Fo);_injector=T(Ge);_renderer=T(jt);_animationsDisabled=at();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Ce;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Ce;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new E;indexFocused=new E;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Vo),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Vo))}ngAfterContentInit(){let e=this._dir?this._dir.change:Zt("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(_i(32),De(this._destroyed)),i=this._viewportRuler.change(150).pipe(De(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new io(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),ot(o,{injector:this._injector}),Xt(e,i,n,this._items.changes,this._itemsResized()).pipe(De(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}_itemsResized(){return typeof ResizeObserver!="function"?fi:this._items.changes.pipe(en(this._items),xi(e=>new Kt(n=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>n.next(o));return e.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),Ci(1),Jt(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Ki(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,i=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:l}=n.elementRef.nativeElement,u,_;this._getLayoutDirection()=="ltr"?(u=o,_=u+l):(_=this._tabListInner.nativeElement.offsetWidth-o,u=_-l);let C=this.scrollDistance,b=this.scrollDistance+i;u<C?this.scrollDistance-=C-u:_>b&&(this.scrollDistance+=Math.min(_-b,u-C))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,i=e-n>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),hi(xs,vs).pipe(De(Xt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(e);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,inputs:{disablePagination:[2,"disablePagination","disablePagination",Fe],selectedIndex:[2,"selectedIndex","selectedIndex",sn]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return a})(),ws=(()=>{class a extends Ps{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new ci(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tn(a)))(i||a)}})();static \u0275cmp=L({type:a,selectors:[["mat-tab-header"]],contentQueries:function(n,i,o){if(n&1&&Wt(o,Lo,4),n&2){let l;K(l=Z())&&(i._items=l)}},viewQuery:function(n,i){if(n&1&&(te(es,7),te(ts,7),te(ns,7),te(is,5),te(os,5)),n&2){let o;K(o=Z())&&(i._tabListContainer=o.first),K(o=Z())&&(i._tabList=o.first),K(o=Z())&&(i._tabListInner=o.first),K(o=Z())&&(i._nextPaginator=o.first),K(o=Z())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,i){n&2&&O("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Fe]},features:[it],ngContentSelectors:gi,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,i){if(n&1){let o=M();nn(),r(0,"div",5,0),h("click",function(){return g(o),m(i._handlePaginatorClick("before"))})("mousedown",function(u){return g(o),m(i._handlePaginatorPress("before",u))})("touchend",function(){return g(o),m(i._stopInterval())}),y(2,"div",6),s(),r(3,"div",7,1),h("keydown",function(u){return g(o),m(i._handleKeydown(u))}),r(5,"div",8,2),h("cdkObserveContent",function(){return g(o),m(i._onContentChanges())}),r(7,"div",9,3),on(9),s()()(),r(10,"div",10,4),h("mousedown",function(u){return g(o),m(i._handlePaginatorPress("after",u))})("click",function(){return g(o),m(i._handlePaginatorClick("after"))})("touchend",function(){return g(o),m(i._stopInterval())}),y(12,"div",6),s()}n&2&&(O("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),f("matRippleDisabled",i._disableScrollBefore||i.disableRipple),c(3),O("_mat-animation-noopable",i._animationsDisabled),c(2),be("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),c(5),O("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),f("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[ni,qi],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return a})(),ys=new $e("MAT_TABS_CONFIG"),Io=(()=>{class a extends ut{_host=T(di);_ngZone=T(Ue);_centeringSub=Je.EMPTY;_leavingSub=Je.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(en(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||a)};static \u0275dir=Ne({type:a,selectors:[["","matTabBodyHost",""]],features:[it]})}return a})(),di=(()=>{class a{_elementRef=T(Qe);_dir=T(ei,{optional:!0});_ngZone=T(Ue);_injector=T(Ge);_renderer=T(jt);_diAnimationsDisabled=at();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=Je.EMPTY;_position;_previousPosition;_onCentering=new E;_beforeCentering=new E;_afterLeavingCenter=new E;_onCentered=new E(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=T(Be);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),ot(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,n=i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),i.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",n),this._renderer.listen(e,"transitioncancel",n)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),ot(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=L({type:a,selectors:[["mat-tab-body"]],viewQuery:function(n,i){if(n&1&&(te(Io,5),te(as,5)),n&2){let o;K(o=Z())&&(i._portalHost=o.first),K(o=Z())&&(i._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(n,i){n&2&&be("inert",i._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,i){n&1&&(r(0,"div",1,0),w(2,rs,0,0,"ng-template",2),s()),n&2&&O("mat-tab-body-content-left",i._position==="left")("mat-tab-body-content-right",i._position==="right")("mat-tab-body-content-can-animate",i._position==="center"||i._previousPosition==="center")},dependencies:[Io,Zi],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return a})(),No=(()=>{class a{_elementRef=T(Qe);_changeDetectorRef=T(Be);_ngZone=T(Ue);_tabsSubscription=Je.EMPTY;_tabLabelSubscription=Je.EMPTY;_tabBodySubscription=Je.EMPTY;_diAnimationsDisabled=at();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Pi;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new E;focusChange=new E;animationDone=new E;selectedTabChange=new E(!0);_groupId;_isServer=!T(Qt).isBrowser;constructor(){let e=T(ys,{optional:!0});this._groupId=T(pn).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,i)=>{n.position=i-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),i;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=n[o];break}!i&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(en(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new pi;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Xt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,n){return e.id||`${this._groupId}-label-${n}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,n,i){n.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}_bodyCentered(e){e&&this._tabBodies?.forEach((n,i)=>n._setActiveClass(i===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=L({type:a,selectors:[["mat-tab-group"]],contentQueries:function(n,i,o){if(n&1&&Wt(o,mi,5),n&2){let l;K(l=Z())&&(i._allTabs=l)}},viewQuery:function(n,i){if(n&1&&(te(ss,5),te(ls,5),te(di,5)),n&2){let o;K(o=Z())&&(i._tabBodyWrapper=o.first),K(o=Z())&&(i._tabHeader=o.first),K(o=Z())&&(i._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,i){n&2&&(be("mat-align-tabs",i.alignTabs),an("mat-"+(i.color||"primary")),he("--mat-tab-animation-duration",i.animationDuration),O("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Fe],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Fe],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Fe],selectedIndex:[2,"selectedIndex","selectedIndex",sn],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",sn],disablePagination:[2,"disablePagination","disablePagination",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],preserveContent:[2,"preserveContent","preserveContent",Fe],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ht([{provide:Ro,useExisting:a}])],ngContentSelectors:gi,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(n,i){if(n&1){let o=M();nn(),r(0,"mat-tab-header",3,0),h("indexFocused",function(u){return g(o),m(i._focusChanged(u))})("selectFocusedIndex",function(u){return g(o),m(i.selectedIndex=u)}),Kn(2,gs,8,17,"div",4,Yn),s(),ye(4,ms,1,0),r(5,"div",5,1),Kn(7,us,1,10,"mat-tab-body",6,Yn),s()}n&2&&(f("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),Mi("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),c(2),Zn(i._tabs),c(2),Me(i._isServer?4:-1),c(),O("_mat-animation-noopable",i._animationsDisabled()),c(2),Zn(i._tabs))},dependencies:[ws,Lo,Ui,ni,ut,di],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return a})(),pi=class{index;tab};var jo=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=nt({type:a});static \u0275inj=tt({imports:[ti,ti]})}return a})();function Ss(a,t){if(a&1){let e=M();r(0,"button",15),h("click",function(){g(e);let i=p();return m(i.clearSearch())}),z(),r(1,"svg",16),y(2,"line",17)(3,"line",18),s()()}}function ks(a,t){a&1&&(r(0,"div",19)(1,"div",20),z(),r(2,"svg",21),y(3,"rect",22),r(4,"text",23),d(5,"PDF"),s()(),oe(),r(6,"p"),d(7,"PDF \uD30C\uC77C\uC744 \uC5EC\uAE30\uC5D0 \uB4DC\uB86D\uD558\uC138\uC694"),s()()())}function Os(a,t){a&1&&(r(0,"span",47),d(1,"\uC5F4\uB9BC"),s())}function Es(a,t){if(a&1){let e=M();r(0,"tr")(1,"td")(2,"span",36)(3,"span",37),z(),r(4,"svg",38),y(5,"rect",39),r(6,"text",40),d(7,"PDF"),s()()(),oe(),r(8,"span",41),h("click",function(){let i=g(e).$implicit,o=p(3);return m(!i.isOpen&&o.onFileNameClick(i))}),d(9),w(10,Os,2,0,"span",42),s()()(),r(11,"td")(12,"span",43),d(13),s()(),r(14,"td"),d(15),s(),r(16,"td"),d(17),s(),r(18,"td")(19,"button",44),h("click",function(){let i=g(e).$implicit,o=p(3);return m(o.deleteFile.emit(i))}),z(),r(20,"svg",45),y(21,"path",46),s()()()()}if(a&2){let e=t.$implicit;O("file-open",e.isOpen),c(5),be("fill",e.documentType==="editor"?"#4CAF50":"#F44336"),c(3),he("cursor",e.isOpen?"default":"pointer")("color",e.isOpen?"#999":"#1976d2"),c(),N(" ",e.name," "),c(),f("ngIf",e.isOpen),c(2),f("ngClass",e.documentType==="editor"?"type-editor":"type-viewer")("title",e.documentType==="editor"?"\uD3B8\uC9D1\uAE30\uB85C \uC0DD\uC131\uB41C \uBB38\uC11C":"PDF \uBDF0\uC5B4\uB85C \uC5F4\uB9B0 \uBB38\uC11C"),c(),N(" ",e.documentType==="editor"?"\uC0C8\uBB38\uC11C":"PDF\uBDF0\uC5B4"," "),c(2),R(e.lastModified),c(2),R(e.size)}}function Ds(a,t){if(a&1&&(r(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),d(4,"\uC774\uB984"),s(),r(5,"th",32),d(6,"\uD0C0\uC785"),s(),r(7,"th",33),d(8,"\uB9C8\uC9C0\uB9C9 \uC218\uC815\uC2DC\uAC04"),s(),r(9,"th",32),d(10,"\uD398\uC774\uC9C0 \uC218"),s(),y(11,"th",34),s()(),r(12,"tbody"),w(13,Es,22,14,"tr",35),s()()),a&2){let e=p(2);c(13),f("ngForOf",e.myFiles)}}function Ts(a,t){a&1&&(r(0,"p"),d(1,"\uAC80\uC0C9 \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Bs(a,t){a&1&&(r(0,"p"),d(1,"\uB0B4\uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Fs(a,t){a&1&&(r(0,"span"),d(1,"PDF \uD30C\uC77C\uC744 \uC5F4\uBA74 \uC5EC\uAE30\uC5D0 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),s())}function As(a,t){if(a&1&&(r(0,"div",48),w(1,Ts,2,0,"p",49)(2,Bs,2,0,"p",49)(3,Fs,2,0,"span",49),s()),a&2){let e=p(2);c(),f("ngIf",e.searchQuery),c(),f("ngIf",!e.searchQuery),c(),f("ngIf",!e.searchQuery)}}function Vs(a,t){a&1&&(r(0,"span",47),d(1,"\uC5F4\uB9BC"),s())}function Is(a,t){if(a&1){let e=M();r(0,"tr")(1,"td")(2,"span",36)(3,"span",37),z(),r(4,"svg",38),y(5,"rect",39),r(6,"text",40),d(7,"PDF"),s()()(),oe(),r(8,"span",41),h("click",function(){let i=g(e).$implicit,o=p(3);return m(!i.isOpen&&o.onFileNameClick(i))}),d(9),w(10,Vs,2,0,"span",42),s()()(),r(11,"td")(12,"span",43),d(13),s()(),r(14,"td"),d(15),s(),r(16,"td"),d(17),s(),r(18,"td")(19,"button",44),h("click",function(){let i=g(e).$implicit,o=p(3);return m(o.deleteFile.emit(i))}),z(),r(20,"svg",45),y(21,"path",46),s()()()()}if(a&2){let e=t.$implicit;O("file-open",e.isOpen),c(5),be("fill",e.documentType==="editor"?"#4CAF50":"#F44336"),c(3),he("cursor",e.isOpen?"default":"pointer")("color",e.isOpen?"#999":"#1976d2"),c(),N(" ",e.name," "),c(),f("ngIf",e.isOpen),c(2),f("ngClass",e.documentType==="editor"?"type-editor":"type-viewer")("title",e.documentType==="editor"?"\uD3B8\uC9D1\uAE30\uB85C \uC0DD\uC131\uB41C \uBB38\uC11C":"PDF \uBDF0\uC5B4\uB85C \uC5F4\uB9B0 \uBB38\uC11C"),c(),N(" ",e.documentType==="editor"?"\uC0C8\uBB38\uC11C":"PDF\uBDF0\uC5B4"," "),c(2),R(e.lastModified),c(2),R(e.size)}}function zs(a,t){if(a&1&&(r(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),d(4,"\uC774\uB984"),s(),r(5,"th",32),d(6,"\uD0C0\uC785"),s(),r(7,"th",33),d(8,"\uB9C8\uC9C0\uB9C9 \uC218\uC815\uC2DC\uAC04"),s(),r(9,"th",32),d(10,"\uD398\uC774\uC9C0 \uC218"),s(),y(11,"th",34),s()(),r(12,"tbody"),w(13,Is,22,14,"tr",35),s()()),a&2){let e=p(2);c(13),f("ngForOf",e.favoriteFiles)}}function Rs(a,t){a&1&&(r(0,"p"),d(1,"\uAC80\uC0C9 \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Ls(a,t){a&1&&(r(0,"p"),d(1,"\uC990\uACA8\uCC3E\uAE30\uC5D0 \uCD94\uAC00\uB41C \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Ns(a,t){if(a&1&&(r(0,"div",48),w(1,Rs,2,0,"p",49)(2,Ls,2,0,"p",49),s()),a&2){let e=p(2);c(),f("ngIf",e.searchQuery),c(),f("ngIf",!e.searchQuery)}}function js(a,t){a&1&&(r(0,"span",47),d(1,"\uC5F4\uB9BC"),s())}function Ws(a,t){if(a&1){let e=M();r(0,"tr")(1,"td")(2,"span",36)(3,"span",37),z(),r(4,"svg",38),y(5,"rect",50),r(6,"text",40),d(7,"PDF"),s()()(),oe(),r(8,"span",41),h("click",function(){let i=g(e).$implicit,o=p(3);return m(!i.isOpen&&o.onFileNameClick(i))}),d(9),w(10,js,2,0,"span",42),s()()(),r(11,"td")(12,"span",51),d(13," \uC0C8\uBB38\uC11C "),s()(),r(14,"td"),d(15),s(),r(16,"td"),d(17),s(),r(18,"td")(19,"button",44),h("click",function(){let i=g(e).$implicit,o=p(3);return m(o.deleteFile.emit(i))}),z(),r(20,"svg",45),y(21,"path",46),s()()()()}if(a&2){let e=t.$implicit;O("file-open",e.isOpen),c(8),he("cursor",e.isOpen?"default":"pointer")("color",e.isOpen?"#999":"#1976d2"),c(),N(" ",e.name," "),c(),f("ngIf",e.isOpen),c(5),R(e.lastModified),c(2),R(e.size)}}function Hs(a,t){if(a&1&&(r(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),d(4,"\uC774\uB984"),s(),r(5,"th",32),d(6,"\uD0C0\uC785"),s(),r(7,"th",33),d(8,"\uB9C8\uC9C0\uB9C9 \uC218\uC815\uC2DC\uAC04"),s(),r(9,"th",32),d(10,"\uD398\uC774\uC9C0 \uC218"),s(),y(11,"th",34),s()(),r(12,"tbody"),w(13,Ws,22,10,"tr",35),s()()),a&2){let e=p(2);c(13),f("ngForOf",e.myCreations)}}function $s(a,t){a&1&&(r(0,"p"),d(1,"\uAC80\uC0C9 \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Us(a,t){a&1&&(r(0,"p"),d(1,"\uC0DD\uC131\uB41C \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),s())}function Gs(a,t){if(a&1&&(r(0,"div",48),w(1,$s,2,0,"p",49)(2,Us,2,0,"p",49),s()),a&2){let e=p(2);c(),f("ngIf",e.searchQuery),c(),f("ngIf",!e.searchQuery)}}function Qs(a,t){if(a&1&&(r(0,"mat-tab-group",24)(1,"mat-tab",25)(2,"div",26),w(3,Ds,14,1,"table",27)(4,As,4,3,"ng-template",null,1,Ut),s()(),r(6,"mat-tab",28)(7,"div",26),w(8,zs,14,1,"table",27)(9,Ns,3,2,"ng-template",null,2,Ut),s()(),r(11,"mat-tab",29)(12,"div",26),w(13,Hs,14,1,"table",27)(14,Gs,3,2,"ng-template",null,3,Ut),s()()()),a&2){let e=je(5),n=je(10),i=je(15),o=p();c(3),f("ngIf",o.myFiles.length>0)("ngIfElse",e),c(5),f("ngIf",o.favoriteFiles.length>0)("ngIfElse",n),c(5),f("ngIf",o.myCreations.length>0)("ngIfElse",i)}}function qs(a,t){a&1&&(r(0,"div",48),z(),r(1,"svg",52),y(2,"path",53),s(),oe(),r(3,"p"),d(4,"\uCD5C\uADFC \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),s(),r(5,"span"),d(6,"PDF \uD30C\uC77C\uC744 \uC5F4\uBA74 \uC5EC\uAE30\uC5D0 \uD45C\uC2DC\uB429\uB2C8\uB2E4"),s()())}var Xe=class a{constructor(t){this.notification=t}files=[];deleteFile=new E;openRecentFile=new E;openNewFile=new E;selectedRecentFile=null;isDragOver=!1;dragCounter=0;searchQuery="";searchResultCount=0;get myFiles(){return this.filterFiles(this.files.filter(t=>t.documentType==="viewer"))}get favoriteFiles(){return this.filterFiles(this.files.filter(t=>t.isFavorite===!0))}get myCreations(){return this.filterFiles(this.files.filter(t=>t.documentType==="editor"))}filterFiles(t){if(!this.searchQuery.trim())return t;let e=this.searchQuery.toLowerCase().trim();return t.filter(n=>{let i=n.name.toLowerCase(),o=n.documentType==="editor"?"\uC0C8\uBB38\uC11C \uD3B8\uC9D1\uAE30":"pdf\uBDF0\uC5B4 viewer",l=n.lastModified.toLowerCase();return i.includes(e)||o.includes(e)||l.includes(e)})}onSearchInput(t){let e=t.target;this.searchQuery=e.value,this.updateSearchResultCount()}clearSearch(){this.searchQuery="",this.updateSearchResultCount()}updateSearchResultCount(){this.searchResultCount=this.myFiles.length+this.favoriteFiles.length+this.myCreations.length}onFileNameClick(t){this.openRecentFile.emit(t)}onRecentFileInputChange(t){let e=t.target;if(e.files&&e.files.length>0){let n=e.files[0];this.openNewFile.emit(n)}this.selectedRecentFile=null}onDragOver(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer?.types.includes("Files")&&(t.dataTransfer.dropEffect="copy")}onDragEnter(t){t.preventDefault(),t.stopPropagation(),this.dragCounter++,t.dataTransfer?.types.includes("Files")&&(this.isDragOver=!0)}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.dragCounter--,this.dragCounter<=0&&(this.isDragOver=!1,this.dragCounter=0)}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1,this.dragCounter=0;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=e[0];n.type==="application/pdf"||n.name.toLowerCase().endsWith(".pdf")?this.openNewFile.emit(n):this.notification.show("PDF \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")}}static \u0275fac=function(e){return new(e||a)(G(Ze))};static \u0275cmp=L({type:a,selectors:[["app-ez-recent-files"]],inputs:{files:"files"},outputs:{deleteFile:"deleteFile",openRecentFile:"openRecentFile",openNewFile:"openNewFile"},decls:14,vars:7,consts:[["noFiles",""],["noMyFiles",""],["noFavorites",""],["noCreations",""],[1,"recent-files-panel",3,"dragover","dragenter","dragleave","drop"],[1,"header-section"],[1,"recent-title"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","\uD30C\uC77C\uBA85, \uD0C0\uC785\uC73C\uB85C \uAC80\uC0C9...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-btn","title","\uAC80\uC0C9\uC5B4 \uC9C0\uC6B0\uAE30",3,"click",4,"ngIf"],["class","drag-overlay",4,"ngIf"],["class","file-tabs",4,"ngIf","ngIfElse"],["title","\uAC80\uC0C9\uC5B4 \uC9C0\uC6B0\uAE30",1,"clear-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"drag-overlay"],[1,"drag-message"],["width","48","height","48","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","3","y","3","width","18","height","18","rx","3","fill","#007acc"],["x","12","y","17","text-anchor","middle","fill","white","font-size","8","font-family","Arial","font-weight","bold"],[1,"file-tabs"],["label","\uB0B4\uD30C\uC77C"],[1,"recent-table-wrap"],["class","recent-files-table",4,"ngIf","ngIfElse"],["label","\uC990\uACA8\uCC3E\uAE30"],["label","\uB0B4\uACB0\uACFC\uBB3C"],[1,"recent-files-table"],[2,"width","40%"],[2,"width","15%"],[2,"width","25%"],[2,"width","5%"],[3,"file-open",4,"ngFor","ngForOf"],[1,"file-name-cell"],[1,"pdf-svg"],["width","22","height","22","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","3","y","3","width","18","height","18","rx","3"],["x","12","y","17","text-anchor","middle","fill","white","font-size","10","font-family","Arial","font-weight","bold"],[1,"file-name-text",3,"click"],["class","open-badge",4,"ngIf"],[1,"type-badge",3,"ngClass","title"],["title","\uC0AD\uC81C",1,"delete-btn",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6 7h12M9 7V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2m2 0v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V7h12z","stroke","#888","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"open-badge"],[1,"no-files-message"],[4,"ngIf"],["x","3","y","3","width","18","height","18","rx","3","fill","#4CAF50"],[1,"type-badge","type-editor"],["width","64","height","64","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z","fill","#ddd"]],template:function(e,n){if(e&1){let i=M();r(0,"div",4),h("dragover",function(l){return g(i),m(n.onDragOver(l))})("dragenter",function(l){return g(i),m(n.onDragEnter(l))})("dragleave",function(l){return g(i),m(n.onDragLeave(l))})("drop",function(l){return g(i),m(n.onDrop(l))}),r(1,"div",5)(2,"div",6),d(3,"\uCD5C\uADFC\uD30C\uC77C"),s(),r(4,"div",7),z(),r(5,"svg",8),y(6,"circle",9)(7,"path",10),s(),oe(),r(8,"input",11),V("ngModelChange",function(l){return g(i),F(n.searchQuery,l)||(n.searchQuery=l),m(l)}),h("input",function(l){return g(i),m(n.onSearchInput(l))}),s(),w(9,Ss,4,0,"button",12),s()(),w(10,ks,8,0,"div",13)(11,Qs,16,6,"mat-tab-group",14)(12,qs,7,0,"ng-template",null,0,Ut),s()}if(e&2){let i=je(13);O("drag-over",n.isDragOver),c(8),A("ngModel",n.searchQuery),c(),f("ngIf",n.searchQuery),c(),f("ngIf",n.isDragOver),c(),f("ngIf",n.files.length>0)("ngIfElse",i)}},dependencies:[Pe,Di,re,Q,Ie,le,ce,de,jo,mi,No],styles:['@charset "UTF-8";.recent-files-panel[_ngcontent-%COMP%]{padding:32px 24px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000008;height:100%;display:flex;flex-direction:column;border:2px dashed #ddd;transition:all .3s ease}.recent-files-panel.drag-over[_ngcontent-%COMP%]{border-color:#007acc;background:#007acc0d}.recent-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#222;margin-bottom:18px;flex-shrink:0}.header-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;gap:20px;flex-shrink:0}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;flex:0 0 auto;min-width:280px;max-width:400px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#999;pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 36px 10px 40px;border:1px solid #ddd;border-radius:8px;font-size:14px;transition:all .2s;background:#fafafa}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007acc;background:#fff;box-shadow:0 0 0 3px #007acc1a}.search-input[_ngcontent-%COMP%]::placeholder{color:#aaa}.clear-btn[_ngcontent-%COMP%]{position:absolute;right:8px;background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#999;transition:all .2s}.clear-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#666}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.search-box[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}.file-tabs[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}  .file-tabs .mat-mdc-tab-labels{background:#f8f9fa;border-radius:8px 8px 0 0;border-bottom:2px solid #e0e0e0}  .file-tabs .mat-mdc-tab{min-width:120px;opacity:.7;transition:opacity .2s}  .file-tabs .mat-mdc-tab:hover{opacity:1;background:#00000008}  .file-tabs .mat-mdc-tab.mdc-tab--active{opacity:1}  .file-tabs .mat-mdc-tab .mdc-tab__text-label{font-size:15px;font-weight:600;color:#444}  .file-tabs .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:#007acc}  .file-tabs .mat-mdc-tab-body-wrapper{flex:1;min-height:0}  .file-tabs .mat-mdc-tab-body{overflow-y:auto}  .file-tabs .mat-mdc-tab-body-content{overflow-y:auto;max-height:calc(100vh - 450px)}  .file-tabs .mat-mdc-tab-body-content::-webkit-scrollbar{width:8px}  .file-tabs .mat-mdc-tab-body-content::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}  .file-tabs .mat-mdc-tab-body-content::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}  .file-tabs .mat-mdc-tab-body-content::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.recent-table-wrap[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;min-height:0;max-height:calc(100vh - 400px)}.recent-table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.recent-table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.recent-table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.recent-table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.recent-table-wrap[_ngcontent-%COMP%]{max-height:calc(100vh - 350px)}}@media (max-width: 480px){.recent-table-wrap[_ngcontent-%COMP%]{max-height:calc(100vh - 300px)}}.recent-files-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;background:#fff}.recent-files-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#888;font-weight:500;font-size:15px;background:#fafafa;border-bottom:2px solid #f0f0f0;padding:12px 8px;text-align:left}.recent-files-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#222;font-size:15px;padding:12px 8px;border-bottom:1px solid #f5f5f5;vertical-align:middle}.file-name-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.pdf-svg[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:center}.file-name-text[_ngcontent-%COMP%]{font-weight:500;color:#222}.delete-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:2px;border-radius:4px;transition:background .15s}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:13px;font-weight:600;text-align:center;white-space:nowrap}.type-viewer[_ngcontent-%COMP%]{background:#f443361a;color:#d32f2f;border:1px solid rgba(244,67,54,.3)}.type-editor[_ngcontent-%COMP%]{background:#4caf501a;color:#388e3c;border:1px solid rgba(76,175,80,.3)}.file-open[_ngcontent-%COMP%]{background:#f9f9f9;opacity:.6}.file-open[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#999!important}.open-badge[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:2px 8px;background:#4caf50;color:#fff;font-size:11px;font-weight:600;border-radius:10px;vertical-align:middle}.no-files-message[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#666;padding:40px 20px}.no-files-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.no-files-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0 0 8px;color:#333}.no-files-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}.recent-files-panel.drag-over[_ngcontent-%COMP%]{border:2px dashed #007acc;background:#007acc0d;position:relative}.drag-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#007acc1a;display:flex;align-items:center;justify-content:center;border-radius:12px;z-index:1000}.drag-message[_ngcontent-%COMP%]{text-align:center;color:#007acc}.drag-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:12px}.drag-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0}']})};var It=class a{db=null;config={dbName:"EzReader_TabStorage_v1_2025",version:3,storeName:"pdf_tabs",maxTabs:50,maxFileSize:100};dbInitPromise=null;autoSaveTimeout=null;initRetryCount=0;MAX_INIT_RETRIES=2;constructor(){this.dbInitPromise=this.initDB()}initDB(){return P(this,null,function*(){return new Promise((t,e)=>{if(!window.indexedDB){console.error("\u274C IndexedDB not supported"),e(new Error("IndexedDB not supported"));return}console.log(`\u{1F504} Opening IndexedDB: ${this.config.dbName} v${this.config.version} (attempt ${this.initRetryCount+1})`);let n=indexedDB.open(this.config.dbName,this.config.version);n.onerror=()=>{console.error("\u274C IndexedDB open error:",n.error),e(n.error)},n.onsuccess=()=>{if(this.db=n.result,!this.db.objectStoreNames.contains(this.config.storeName)){if(console.warn(`\u26A0\uFE0F Object store '${this.config.storeName}' not found. Available stores:`,Array.from(this.db.objectStoreNames)),this.initRetryCount>=this.MAX_INIT_RETRIES){console.error("\u274C Max retry attempts reached. Cannot initialize database."),this.db.close(),e(new Error("Failed to initialize database after multiple attempts"));return}this.initRetryCount++,console.log(`\u{1F5D1}\uFE0F Deleting and recreating database (retry ${this.initRetryCount}/${this.MAX_INIT_RETRIES})...`),this.db.close();let i=indexedDB.deleteDatabase(this.config.dbName);i.onsuccess=()=>{console.log("\u2705 Old database deleted, reinitializing..."),this.initDB().then(t).catch(e)},i.onerror=()=>{console.error("\u274C Failed to delete database:",i.error),e(i.error)};return}console.log("\u2705 IndexedDB initialized successfully"),this.initRetryCount=0,t()},n.onupgradeneeded=i=>{let o=i.target.result;if(!o.objectStoreNames.contains(this.config.storeName)){let l=o.createObjectStore(this.config.storeName,{keyPath:"id"});l.createIndex("createdAt","createdAt",{unique:!1}),l.createIndex("active","active",{unique:!1}),l.createIndex("updatedAt","updatedAt",{unique:!1}),console.log("Tab object store created")}if(!o.objectStoreNames.contains("recent_files")){let l=o.createObjectStore("recent_files",{keyPath:"id"});l.createIndex("name","name",{unique:!1}),l.createIndex("date","date",{unique:!1}),l.createIndex("addedAt","addedAt",{unique:!1}),l.createIndex("lastAccessedAt","lastAccessedAt",{unique:!1}),console.log("Recent files object store created")}}})})}ensureDB(){return P(this,null,function*(){if(this.dbInitPromise&&(yield this.dbInitPromise),!this.db)throw new Error("Database not initialized")})}createTransaction(t){if(!this.db)throw new Error("Database not initialized");if(!this.db.objectStoreNames.contains(this.config.storeName))throw console.error(`\u274C Object store '${this.config.storeName}' not found in database`),console.log("Available object stores:",Array.from(this.db.objectStoreNames)),new Error(`Object store '${this.config.storeName}' not found. Please refresh the page to reinitialize the database.`);return this.db.transaction([this.config.storeName],t)}saveTabs(t,e){return P(this,null,function*(){return this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),new Promise(n=>{this.autoSaveTimeout=setTimeout(()=>P(this,null,function*(){try{yield this.saveTabsImmediate(t,e),n()}catch(i){console.error("Error saving tabs:",i),n()}}),500)})})}saveTabsImmediate(t,e){return P(this,null,function*(){yield this.ensureDB();let n=this.createTransaction("readwrite"),i=n.objectStore(this.config.storeName);yield this.clearAllTabsSync(i);let o=t.map(l=>P(this,null,function*(){let u=e.get(l.id),_=null,C=0,b="";if(u){_=yield this.blobToArrayBuffer(u),C=u.size,b=u.type;let v=C/(1024*1024);if(v>this.config.maxFileSize){console.warn(`File too large: ${l.name} (${v.toFixed(2)}MB)`);return}}let x={id:l.id,name:l.name,active:l.active,createdAt:l.createdAt||Date.now(),updatedAt:Date.now(),pdfData:_,pdfSize:C,pdfType:b,pageCount:l.pageCount,lastViewedPage:l.lastViewedPage};i.put(x)}));return yield Promise.all(o),new Promise((l,u)=>{n.oncomplete=()=>{console.log(`\u2705 Saved ${t.length} tabs to IndexedDB`),l()},n.onerror=()=>u(n.error)})})}loadTabs(){return P(this,null,function*(){try{yield this.ensureDB();let n=this.createTransaction("readonly").objectStore(this.config.storeName).getAll();return new Promise((i,o)=>{n.onsuccess=()=>{let l=n.result;l.sort((u,_)=>u.createdAt-_.createdAt),console.log(`\u{1F4C2} Loaded ${l.length} tabs from IndexedDB`),i({success:!0,tabs:l})},n.onerror=()=>{o(n.error)}})}catch(t){return console.error("\u274C Error loading tabs:",t),{success:!1,tabs:[],errors:[t instanceof Error?t.message:"Unknown error"]}}})}saveTab(t,e){return P(this,null,function*(){yield this.ensureDB();let n=null,i=0,o="";e&&(n=yield this.blobToArrayBuffer(e),i=e.size,o=e.type);let l={id:t.id,name:t.name,active:t.active,createdAt:t.createdAt||Date.now(),updatedAt:Date.now(),pdfData:n,pdfSize:i,pdfType:o,pageCount:t.pageCount,lastViewedPage:t.lastViewedPage},u=this.createTransaction("readwrite");return u.objectStore(this.config.storeName).put(l),new Promise((C,b)=>{u.oncomplete=()=>C(),u.onerror=()=>b(u.error)})})}deleteTab(t){return P(this,null,function*(){yield this.ensureDB();let e=this.createTransaction("readwrite");return e.objectStore(this.config.storeName).delete(t),new Promise((i,o)=>{e.oncomplete=()=>{console.log(`\u{1F5D1}\uFE0F Deleted tab ${t} from IndexedDB`),i()},e.onerror=()=>o(e.error)})})}updateActiveTab(t){return P(this,null,function*(){yield this.ensureDB();let e=this.createTransaction("readwrite"),n=e.objectStore(this.config.storeName),i=yield this.getAllTabsSync(n);for(let o of i)o.active=o.id===t,o.updatedAt=Date.now(),n.put(o);return new Promise((o,l)=>{e.oncomplete=()=>o(),e.onerror=()=>l(e.error)})})}clearAllTabs(){return P(this,null,function*(){yield this.ensureDB();let t=this.createTransaction("readwrite");return t.objectStore(this.config.storeName).clear(),new Promise((n,i)=>{t.oncomplete=()=>{console.log("\u{1F9F9} Cleared all tabs from IndexedDB"),n()},t.onerror=()=>i(t.error)})})}getAllTabsSync(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=t.getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>n(i.error)})})}clearAllTabsSync(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=t.clear();i.onsuccess=()=>e(),i.onerror=()=>n(i.error)})})}blobToArrayBuffer(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=new FileReader;i.onload=()=>e(i.result),i.onerror=()=>n(i.error),i.readAsArrayBuffer(t)})})}arrayBufferToBlob(t,e){return new Blob([t],{type:e})}getTabCount(){return P(this,null,function*(){yield this.ensureDB();let n=this.createTransaction("readonly").objectStore(this.config.storeName).count();return new Promise((i,o)=>{n.onsuccess=()=>i(n.result),n.onerror=()=>o(n.error)})})}getStorageSize(){return P(this,null,function*(){let t=yield this.loadTabs();return t.success?t.tabs.reduce((n,i)=>n+i.pdfSize,0)/(1024*1024):0})}closeDB(){this.db&&(this.db.close(),this.db=null,console.log("Database closed"))}deleteDatabase(){return P(this,null,function*(){return this.closeDB(),new Promise((t,e)=>{let n=indexedDB.deleteDatabase(this.config.dbName);n.onsuccess=()=>{console.log("Database deleted successfully"),t()},n.onerror=()=>e(n.error)})})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var Zs=["tabContainer"];function Xs(a,t){if(a&1){let e=M();r(0,"div",10),h("click",function(){let i=g(e).$implicit,o=p();return m(o.selectTab(i.id))}),r(1,"span",11),d(2),s(),r(3,"button",12),h("click",function(i){let o=g(e).$implicit;return p().closeTab(o.id),m(i.stopPropagation())}),d(4,"\xD7"),s()()}if(a&2){let e=t.$implicit;O("active",e.active),f("title",e.name),c(2),R(e.name)}}function Js(a,t){a&1&&(r(0,"div",13),d(1," No tabs available "),s())}var Bn=class a{constructor(t,e,n,i){this.tabStorage=t;this.cdr=e;this.router=n;this.route=i;console.log("\u{1F527} TabBarComponent constructor - tabs:",this.tabs)}currentFileName="";currentPdfSrc=null;isRecentFilesView=!1;tabChanged=new E;tabsRestored=new E;tabContainer;tabs=[{id:0,name:"\uC0C8\uD30C\uC77C",active:!0,pdfSrc:null,view:"home",createdAt:Date.now(),pageCount:0,lastViewedPage:1}];pdfBlobs=new Map;isInitialized=!1;canScrollLeft=!1;canScrollRight=!1;ngOnInit(){return P(this,null,function*(){console.log("\u{1F680} TabBarComponent ngOnInit - before loadSavedTabs, tabs:",this.tabs),yield this.loadSavedTabs(),this.tabs.length===0&&(console.warn("\u26A0\uFE0F No tabs after loadSavedTabs, forcing createDefaultTab"),this.createDefaultTab()),this.isInitialized=!0,console.log("\u2705 TabBarComponent ngOnInit - after loadSavedTabs, tabs:",this.tabs)})}ngAfterViewInit(){setTimeout(()=>this.checkScrollButtons(),100)}ngOnDestroy(){this.isInitialized&&this.saveTabsToStorage()}ngOnChanges(t){t.currentFileName&&t.currentFileName.currentValue&&this.updateCurrentTabName(t.currentFileName.currentValue)}loadSavedTabs(){return P(this,null,function*(){console.log("\u{1F4E5} loadSavedTabs called");try{let t=yield this.tabStorage.loadTabs();if(console.log("\u{1F4CA} loadTabs result:",t),t.success&&t.tabs.length>0){console.log(`\u{1F4C2} Restoring ${t.tabs.length} tabs from storage`),this.tabs=t.tabs.map(n=>{let i={id:n.id,name:n.name,active:n.active,pdfSrc:null,view:n.view||"home",editorData:n.editorData,createdAt:n.createdAt,pageCount:n.pageCount,lastViewedPage:n.lastViewedPage};if(n.pdfData&&n.pdfType){let o=this.tabStorage.arrayBufferToBlob(n.pdfData,n.pdfType);this.pdfBlobs.set(n.id,o),i.pdfSrc=URL.createObjectURL(o),console.log(`\u2705 Restored tab: ${i.name} (${(o.size/1024/1024).toFixed(2)}MB)`)}else console.log(`\u{1F4C4} Restored empty tab: ${i.name}`);return i});let e=this.tabs.find(n=>n.active);e&&(console.log(`\u{1F3AF} Active tab: ${e.name}, has PDF: ${!!e.pdfSrc}`),this.tabChanged.emit({pdfSrc:e.pdfSrc,fileName:e.name,view:e.view,editorData:e.editorData})),this.tabsRestored.emit()}else t.success?console.log("\u{1F4DD} No saved tabs found"):console.warn("\u26A0\uFE0F Failed to load tabs from storage:",t.errors),console.log("\u2728 Creating default tab"),this.createDefaultTab()}catch(t){console.error("\u274C Failed to load saved tabs:",t),console.log("\u2728 Creating default tab"),this.createDefaultTab()}})}createDefaultTab(){console.log("\u{1F195} createDefaultTab called"),this.tabs=[{id:Date.now(),name:"\uC0C8\uD30C\uC77C",active:!0,pdfSrc:null,view:"home",createdAt:Date.now()}],console.log("\u2705 Default tab created:",this.tabs[0]),console.log("\u{1F4CB} Current tabs array:",this.tabs),console.log("\u{1F4CF} tabs.length:",this.tabs.length),this.cdr.detectChanges(),console.log("\u{1F504} Change detection triggered"),this.tabChanged.emit({pdfSrc:null,fileName:"\uC0C8\uD30C\uC77C",view:"home"}),console.log("\u{1F4E4} tabChanged event emitted")}saveTabsToStorage(){return P(this,null,function*(){if(this.isInitialized)try{let t=this.tabs.filter(e=>this.pdfBlobs.has(e.id)).length;console.log(`\u{1F4BE} Saving ${this.tabs.length} tabs (${t} with PDF) to IndexedDB...`),yield this.tabStorage.saveTabs(this.tabs,this.pdfBlobs)}catch(t){console.error("\u274C Failed to save tabs:",t)}})}updateCurrentTabName(t){let e=this.tabs.find(n=>n.active);e&&(e.name=t,this.saveTabsToStorage())}updateCurrentTabPdfSrc(t){let e=this.tabs.find(n=>n.active);e&&(e.pdfSrc=t,this.saveTabsToStorage())}closeTab(t){let e=this.tabs.find(i=>i.id===t),n=e?.active;if(console.log(`\u{1F5D1}\uFE0F Closing tab: ${e?.name} (ID: ${t})`),e?.pdfSrc)try{URL.revokeObjectURL(e.pdfSrc)}catch(i){console.warn("Failed to revoke Blob URL:",i)}if(this.pdfBlobs.delete(t),this.tabs=this.tabs.filter(i=>i.id!==t),this.tabs.length===0)console.log("\u{1F4DD} Last tab closed, creating new tab"),this.createDefaultTab(),this.tabChanged.emit({pdfSrc:null,fileName:"\uC0C8\uD30C\uC77C",view:"home"});else if(n){let i=this.tabs[0];if(i.active=!0,this.pdfBlobs.has(i.id)){let o=this.pdfBlobs.get(i.id);i.pdfSrc&&URL.revokeObjectURL(i.pdfSrc),i.pdfSrc=URL.createObjectURL(o),console.log(`\u{1F504} Refreshed Blob URL after tab close: ${i.name}`)}console.log(`\u{1F3AF} Switched to tab: ${i.name}`),this.tabChanged.emit({pdfSrc:i.pdfSrc,fileName:i.name,view:i.view,editorData:i.editorData})}this.tabStorage.deleteTab(t),this.saveTabsToStorage()}addTab(){this.tabs.forEach(e=>e.active=!1);let t={id:Date.now(),name:"\uC0C8\uD30C\uC77C",active:!0,pdfSrc:null,view:"home",createdAt:Date.now()};this.tabs.push(t),this.tabChanged.emit({pdfSrc:null,fileName:"\uC0C8\uD30C\uC77C",view:"home"}),this.saveTabsToStorage(),setTimeout(()=>{this.scrollToActiveTab(),this.checkScrollButtons()},100)}onAddTabClick(){if(this.isRecentFilesView){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694");return}this.addTab()}showSnackbar(t){let e=document.querySelector(".tab-snackbar");e&&e.remove();let n=document.createElement("div");n.className="tab-snackbar",n.textContent=t,document.body.appendChild(n),setTimeout(()=>n.classList.add("show"),10),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},3e3)}selectTab(t){console.log("\u{1F3AF} selectTab \uD638\uCD9C:",t),console.log("pdfBlobs Map \uC0C1\uD0DC:",Array.from(this.pdfBlobs.entries()).map(([o,l])=>({id:o,size:l.size}))),this.tabs.forEach(o=>{o.active=o.id===t});let e=this.tabs.find(o=>o.id===t);if(console.log("\uC120\uD0DD\uB41C \uD0ED:",e),console.log("pdfBlobs\uC5D0 \uC874\uC7AC:",this.pdfBlobs.has(t)),e&&this.pdfBlobs.has(t)){let o=this.pdfBlobs.get(t);e.pdfSrc&&URL.revokeObjectURL(e.pdfSrc),e.pdfSrc=URL.createObjectURL(o),console.log(`\u{1F504} Refreshed Blob URL for tab: ${e.name} (${(o.size/1024/1024).toFixed(2)}MB)`),console.log("\uC0C8\uB85C\uC6B4 pdfSrc:",e.pdfSrc)}else e&&console.warn(`\u26A0\uFE0F pdfBlobs\uC5D0 tabId ${t}\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. pdfSrc:`,e.pdfSrc);let n;if(e?.editorData&&e.editorData.pages&&e.editorData.pages.length>0?(n="editor",console.log("\u{1F4DD} \uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uC804\uD658 (editorData \uC874\uC7AC)")):e?.pdfSrc?(n="viewer",console.log("\u{1F4D6} \uBDF0\uC5B4 \uBAA8\uB4DC\uB85C \uC804\uD658 (pdfSrc \uC874\uC7AC)")):(n="home",console.log("\u{1F3E0} \uD648 \uBAA8\uB4DC\uB85C \uC804\uD658")),e?.route)this.router.navigate([e.route],{relativeTo:this.route.parent});else{let o=n==="viewer"?"/ez-reader/viewer":n==="editor"?"/ez-reader/editor":"/ez-reader/recent";this.router.navigate([o])}let i={pdfSrc:e?.pdfSrc??null,fileName:e?.name??"",view:n,editorData:e?.editorData,pageCount:e?.pageCount??0,lastViewedPage:1};console.log("\u{1F4E4} tabChanged emit (start from page 1):",i),this.tabChanged.emit(i),this.tabStorage.updateActiveTab(t),setTimeout(()=>this.scrollToActiveTab(),100)}setActiveTabPdf(t,e,n){return P(this,null,function*(){let i=this.tabs.find(o=>o.active);if(i){if(i.pdfSrc&&i.pdfSrc!==e)try{URL.revokeObjectURL(i.pdfSrc),console.log("\u{1F5D1}\uFE0F Revoked old Blob URL")}catch(o){console.warn("Failed to revoke old Blob URL:",o)}i.name=t,i.pdfSrc=e,e&&(i.view="viewer"),n&&(this.pdfBlobs.set(i.id,n),console.log(`\u{1F4CE} Blob attached to tab ${i.id}: ${t} (${(n.size/1024/1024).toFixed(2)}MB)`)),yield this.saveTabsToStorage(),this.tabChanged.emit({pdfSrc:i.pdfSrc,fileName:i.name,view:i.view,editorData:i.editorData})}})}getActiveTabBlob(){let t=this.tabs.find(e=>e.active);return t&&this.pdfBlobs.get(t.id)||null}cleanupBlobUrls(){this.tabs.forEach(t=>{t.pdfSrc&&URL.revokeObjectURL(t.pdfSrc)})}clearAllSavedTabs(){return P(this,null,function*(){yield this.tabStorage.clearAllTabs(),this.cleanupBlobUrls(),this.tabs=[],this.pdfBlobs.clear(),this.createDefaultTab(),this.tabChanged.emit({pdfSrc:null,fileName:"\uC0C8\uD30C\uC77C",view:"home"})})}scrollLeft(){this.tabContainer&&this.tabContainer.nativeElement.scrollBy({left:-200,behavior:"smooth"})}scrollRight(){this.tabContainer&&this.tabContainer.nativeElement.scrollBy({left:200,behavior:"smooth"})}onScroll(){this.checkScrollButtons()}checkScrollButtons(){if(!this.tabContainer)return;let t=this.tabContainer.nativeElement,e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;this.canScrollLeft=e>0,this.canScrollRight=e+i<n-1}scrollToActiveTab(){if(!this.tabContainer)return;let t=this.tabContainer.nativeElement,e=t.querySelector(".tab.active");if(e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.left<n.left?t.scrollBy({left:i.left-n.left-20,behavior:"smooth"}):i.right>n.right&&t.scrollBy({left:i.right-n.right+20,behavior:"smooth"})}}updateActiveTabView(t,e){let n=this.tabs.find(i=>i.active);n&&(n.view=t,e!==void 0&&(n.editorData=e),this.saveTabsToStorage(),this.tabChanged.emit({pdfSrc:n.pdfSrc,fileName:n.name,view:n.view,editorData:n.editorData}),console.log("\u2705 Active tab view updated:",{view:t,editorData:e}))}updateActiveTabName(t){let e=this.tabs.find(n=>n.active);e&&(e.name=t,this.saveTabsToStorage(),console.log("\u2705 Active tab name updated:",t))}updateActiveTabPageInfo(t,e){let n=this.tabs.find(i=>i.active);n&&(n.pageCount=t,e!==void 0&&(n.lastViewedPage=e),this.saveTabsToStorage(),console.log("\u2705 Active tab page info updated:",{pageCount:t,currentPage:e}))}findTabByName(t){return this.tabs.find(e=>e.name===t)}activateTab(t){this.tabs.find(n=>n.id===t)&&this.selectTab(t)}static \u0275fac=function(e){return new(e||a)(G(It),G(Be),G(we),G(mt))};static \u0275cmp=L({type:a,selectors:[["app-ez-tab-bar"]],viewQuery:function(e,n){if(e&1&&te(Zs,5),e&2){let i;K(i=Z())&&(n.tabContainer=i.first)}},inputs:{currentFileName:"currentFileName",currentPdfSrc:"currentPdfSrc",isRecentFilesView:"isRecentFilesView"},outputs:{tabChanged:"tabChanged",tabsRestored:"tabsRestored"},standalone:!1,features:[ve],decls:13,vars:8,consts:[["tabContainer",""],[1,"tab-bar"],[1,"tab-ezreader"],["src","./images/logo-ezreader@3x.png","alt","ezreader \uB85C\uACE0",1,"tab-ezreader-logo"],["title","\uC67C\uCABD\uC73C\uB85C \uC2A4\uD06C\uB864",1,"tab-scroll-btn","tab-scroll-left",3,"click"],[1,"tab-container",3,"scroll"],["class","tab",3,"active","title","click",4,"ngFor","ngForOf"],["style","color: red; padding: 10px;",4,"ngIf"],["title","\uC0C8 \uD0ED \uCD94\uAC00",1,"tab-add-btn",3,"click"],["title","\uC624\uB978\uCABD\uC73C\uB85C \uC2A4\uD06C\uB864",1,"tab-scroll-btn","tab-scroll-right",3,"click"],[1,"tab",3,"click","title"],[1,"tab-name-ellipsis"],["title","\uB2EB\uAE30",1,"tab-close-btn",3,"click"],[2,"color","red","padding","10px"]],template:function(e,n){if(e&1){let i=M();r(0,"div",1)(1,"span",2),y(2,"img",3),s(),r(3,"button",4),h("click",function(){return g(i),m(n.scrollLeft())}),d(4," \u2039 "),s(),r(5,"div",5,0),h("scroll",function(){return g(i),m(n.onScroll())}),w(7,Xs,5,4,"div",6)(8,Js,2,0,"div",7),r(9,"button",8),h("click",function(){return g(i),m(n.onAddTabClick())}),d(10,"+"),s()(),r(11,"button",9),h("click",function(){return g(i),m(n.scrollRight())}),d(12," \u203A "),s()()}e&2&&(c(3),O("visible",n.canScrollLeft),c(4),f("ngForOf",n.tabs),c(),f("ngIf",n.tabs.length===0),c(),O("disabled",n.isRecentFilesView),c(2),O("visible",n.canScrollRight))},dependencies:[re,Q],styles:['@charset "UTF-8";[_nghost-%COMP%]{z-index:10;position:relative}.tab-bar[_ngcontent-%COMP%]{display:flex;align-items:center;background:linear-gradient(180deg,#fff,#f8f9fa);height:40px;padding:0 16px;gap:0;z-index:1100;position:relative;flex-shrink:0;margin:0;border-bottom:1px solid rgba(0,0,0,.08);box-shadow:0 2px 8px #00000014}.tab-ezreader[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-right:12px;padding-right:12px;border-right:1px solid rgba(0,0,0,.1);flex-shrink:0}.tab-ezreader-logo[_ngcontent-%COMP%]{height:18px;width:auto;display:block;opacity:.9}.tab-home-icon[_ngcontent-%COMP%]{margin-right:8px;display:flex;align-items:center}.tab-container[_ngcontent-%COMP%]{display:flex;flex:1;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;gap:0;scrollbar-width:none;-ms-overflow-style:none}.tab-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:none;border-right:1px solid rgba(0,0,0,.08);margin-right:0;padding:0 20px;font-size:13px;font-weight:500;color:#5a5a5a;height:32px;position:relative;gap:12px;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);min-width:180px;max-width:280px;overflow:hidden;letter-spacing:.3px;box-shadow:none;flex-shrink:0}.tab[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,#007acc,#0098ff);transform:scaleX(0);transition:transform .3s cubic-bezier(.4,0,.2,1)}.tab[_ngcontent-%COMP%]:hover:not(.active){background:#f5f7fa;color:#333;transform:none;box-shadow:none}.tab-name-ellipsis[_ngcontent-%COMP%]{display:block;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0}.tab.active[_ngcontent-%COMP%]{background:#fff;color:#007acc;font-weight:600;z-index:1;box-shadow:none}.tab.active[_ngcontent-%COMP%]:before{transform:scaleX(1)}.tab-close-btn[_ngcontent-%COMP%]{background:#0000000a;border:none;font-size:16px;font-weight:300;color:#999;cursor:pointer;margin-left:auto;padding:4px 8px;border-radius:4px;transition:all .2s ease;line-height:1;flex-shrink:0}.tab-close-btn[_ngcontent-%COMP%]:hover{background:#ff585826;color:#ff5858;transform:scale(1.1)}.tab.active[_ngcontent-%COMP%]   .tab-close-btn[_ngcontent-%COMP%]{color:#666}.tab.active[_ngcontent-%COMP%]   .tab-close-btn[_ngcontent-%COMP%]:hover{background:#ff585833;color:#ff6b6b}.tab-add-btn[_ngcontent-%COMP%]{background:#fff;color:#5a5a5a;border:none;border-radius:0;font-size:18px;font-weight:300;width:36px;height:32px;margin-left:0;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;box-shadow:none;border-right:1px solid rgba(0,0,0,.08);flex-shrink:0;position:sticky;right:0}.tab-add-btn.disabled[_ngcontent-%COMP%]{background:#f5f5f5;color:#ccc;cursor:not-allowed;opacity:.6}.tab-add-btn.disabled[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#ccc;transform:none}.tab-add-btn.disabled[_ngcontent-%COMP%]:active{transform:none}.tab-add-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:#007acc;color:#fff;border-color:#00000014;transform:none;box-shadow:none}.tab-add-btn[_ngcontent-%COMP%]:active:not(.disabled){transform:scale(.98)}.tab-scroll-btn[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;width:32px;height:32px;background:#fff;border:none;border-right:1px solid rgba(0,0,0,.08);cursor:pointer;transition:all .2s ease;color:#5a5a5a;font-size:14px;flex-shrink:0}.tab-scroll-btn.visible[_ngcontent-%COMP%]{display:flex}.tab-scroll-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#007acc}.tab-scroll-btn[_ngcontent-%COMP%]:active{background:#e8eaed}.tab-panel-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.tab-panel-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:32px;background:#fff;border:none;border-right:1px solid rgba(0,0,0,.08);cursor:pointer;transition:all .2s ease;color:#5a5a5a;font-size:16px}.tab-panel-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#007acc}.tab-panel-btn[_ngcontent-%COMP%]:active{background:#e8eaed}.tab-panel[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:4px;min-width:280px;max-width:400px;max-height:500px;background:#fff;border:1px solid rgba(0,0,0,.15);border-radius:8px;box-shadow:0 4px 20px #00000026;z-index:2000;overflow:hidden;display:flex;flex-direction:column}.tab-panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.08);font-weight:600;font-size:13px;color:#333}.tab-panel-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#666;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s ease}.tab-panel-close[_ngcontent-%COMP%]:hover{background:#0000000d;color:#333}.tab-panel-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:450px}.tab-panel-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.tab-panel-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f8f9fa}.tab-panel-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.tab-panel-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}.tab-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;cursor:pointer;transition:all .15s ease;border-bottom:1px solid rgba(0,0,0,.05)}.tab-panel-item[_ngcontent-%COMP%]:hover{background:#f5f7fa}.tab-panel-item.active[_ngcontent-%COMP%]{background:#e8f4ff;color:#007acc;font-weight:600}.tab-panel-item.active[_ngcontent-%COMP%]   .tab-panel-item-name[_ngcontent-%COMP%]{color:#007acc}.tab-panel-item-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:13px;color:#5a5a5a;margin-right:12px}.tab-panel-item-close[_ngcontent-%COMP%]{background:#0000000a;border:none;font-size:16px;color:#999;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s ease;flex-shrink:0}.tab-panel-item-close[_ngcontent-%COMP%]:hover{background:#ff585826;color:#ff5858}.tab-panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1999;background:transparent}.tab-snackbar[_ngcontent-%COMP%]{position:fixed;bottom:-100px;left:50%;transform:translate(-50%);background:#323232;color:#fff;padding:14px 24px;border-radius:4px;font-size:14px;font-weight:400;box-shadow:0 3px 10px #0000004d;z-index:10000;transition:bottom .3s cubic-bezier(.4,0,.2,1);white-space:nowrap}.tab-snackbar.show[_ngcontent-%COMP%]{bottom:30px}']})};var tl=["fileInput"];function nl(a,t){a&1&&(r(0,"div",16),y(1,"div",17),s())}function il(a,t){if(a&1&&(z(),r(0,"svg",21),y(1,"polygon",22),s()),a&2){let e=p(2);c(),be("fill",e.isFavorite?"currentColor":"none")}}function ol(a,t){if(a&1&&y(0,"img",23),a&2){let e=p().$implicit,n=p();f("src",e.icon,st)("alt",e.action==="save"?n.getSaveTooltip():e.tooltip)}}function al(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onToolbarAction(i.action))}),w(1,il,2,1,"svg",19)(2,ol,1,2,"img",20),s()}if(a&2){let e=t.$implicit,n=p();O("disabled",n.isActionDisabled(e.action))("active",e.action==="favorite"&&n.isFavorite),f("title",e.action==="save"?n.getSaveTooltip():e.tooltip)("disabled",n.isActionDisabled(e.action)),c(),f("ngIf",e.icon==="star"),c(),f("ngIf",e.icon!=="star")}}function rl(a,t){if(a&1){let e=M();r(0,"li",24),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onMenuItemClick(i))}),d(1),s()}if(a&2){let e=t.$implicit,n=p();O("active",e.active)("disabled",n.isMenuDisabled(e.name)),f("title",e.name+" \uBA54\uB274"),c(),N(" ",e.name," ")}}var Fn=class a{constructor(t){this.snackbar=t}currentActiveMenu="\uD648";pdfSrc=null;pdfEditorVisible=!1;isFavorite=!1;isSettingsOpen=!1;isSearching=!1;searchResultCount=null;searchResultCurrent=null;searchChange=new E;fileSelected=new E;createTextEditor=new E;createSentenceOverlay=new E;downloadModifiedPdf=new E;downloadPdf=new E;printPdf=new E;emailPdf=new E;toggleFavorite=new E;menuChanged=new E;searchButtonClicked=new E;settingsClick=new E;searchSubmit=new E;fileInput;searchQuery="";menuItems=[{name:"\uD648",active:!0},{name:"\uD3B8\uC9D1",active:!1},{name:"\uD30C\uC77C\uBCC0\uD658",active:!1},{name:"\uAD6C\uC131",active:!1},{name:"\uBCF4\uC548",active:!1}];toolbarActions=[{icon:"./images/ico-save@3x.png",tooltip:"\uC800\uC7A5",action:"save"},{icon:"./images/btn-gnb-download@3x.png",tooltip:"PDF \uB2E4\uC6B4\uB85C\uB4DC",action:"download"},{icon:"./images/ico-print@3x.png",tooltip:"\uC778\uC1C4",action:"print"},{icon:"./images/ico-mail@3x.png",tooltip:"\uC774\uBA54\uC77C",action:"email"},{icon:"star",tooltip:"\uC990\uACA8\uCC3E\uAE30",action:"favorite"}];getSaveTooltip(){return this.pdfEditorVisible?"\uD3B8\uC9D1 \uBB38\uC11C \uC800\uC7A5":this.pdfSrc?"PDF \uC800\uC7A5":"\uC800\uC7A5"}onToolbarAction(t){t==="open"?this.openFileDialog():t==="save"?this.downloadModifiedPdf.emit():t==="download"?this.downloadPdf.emit():t==="print"?this.printPdf.emit():t==="email"?this.emailPdf.emit():t==="favorite"&&this.toggleFavorite.emit()}openFileDialog(){this.fileInput.nativeElement.click()}onFileSelected(t){let e=t.target;if(e.files&&e.files.length>0){let n=e.files[0];n.type==="application/pdf"?this.fileSelected.emit(n):this.snackbar.showError("PDF \uD30C\uC77C\uB9CC \uC120\uD0DD\uD574\uC8FC\uC138\uC694.")}}onSearchChange(t){this.searchQuery=t,this.isSearching=!0,this.searchResultCount=null,this.searchChange.emit(t)}onMenuItemClick(t){if(["\uD3B8\uC9D1","\uD30C\uC77C\uBCC0\uD658","\uAD6C\uC131","\uBCF4\uC548"].includes(t.name)&&!this.pdfSrc&&!this.pdfEditorVisible){this.menuChanged.emit(t.name);return}this.menuItems.forEach(n=>n.active=!1),t.active=!0,this.menuChanged.emit(t.name),t.name==="\uD3B8\uC9D1"&&this.createSentenceOverlay.emit()}onSearchEnter(){this.isSearching=!0,this.searchResultCount=null,this.searchChange.emit(this.searchQuery)}onSearchButtonClick(){console.log("\u{1F50D} \uAC80\uC0C9 \uBC84\uD2BC \uD074\uB9AD"),this.searchButtonClicked.emit()}onSearchSubmit(){this.searchQuery.trim()&&(console.log("\u{1F50D} [TopMenuBar] \uAC80\uC0C9 \uC81C\uCD9C:",this.searchQuery),this.searchSubmit.emit({query:this.searchQuery,caseSensitive:!1,wholeWords:!1,highlightAll:!0}))}onSearchInput(t){let n=t.target.value.trim();if(!n||n.length===0){this.searchResultCount=null,this.searchResultCurrent=null;return}this.searchSubmit.emit({query:n,caseSensitive:!1,wholeWords:!1,highlightAll:!0})}setSearchResultCount(t){this.searchResultCount=t}ngOnInit(){document.addEventListener("search-finished",()=>{this.isSearching=!1}),document.addEventListener("search-result-count",t=>{this.searchResultCount=t.detail.count,this.isSearching=!1})}ngOnChanges(){this.updateMenuActiveState()}updateMenuActiveState(){this.menuItems.forEach(t=>{t.active=t.name===this.currentActiveMenu})}isMenuDisabled(t){return!!(["\uD3B8\uC9D1","\uD30C\uC77C\uBCC0\uD658","\uAD6C\uC131","\uBCF4\uC548"].includes(t)&&!this.pdfSrc&&!this.pdfEditorVisible||t==="\uD648"&&this.pdfEditorVisible&&!this.pdfSrc)}isActionDisabled(t){return t==="save"?!this.pdfSrc&&!this.pdfEditorVisible:t==="download"?!this.pdfSrc&&!this.pdfEditorVisible:t==="print"||t==="email"?!this.pdfSrc&&!this.pdfEditorVisible:t==="favorite"?!this.pdfSrc&&!this.pdfEditorVisible:!this.pdfSrc&&!this.pdfEditorVisible}onSettingsClick(){this.settingsClick.emit()}static \u0275fac=function(e){return new(e||a)(G(ze))};static \u0275cmp=L({type:a,selectors:[["app-ez-top-menu-bar"]],viewQuery:function(e,n){if(e&1&&te(tl,5),e&2){let i;K(i=Z())&&(n.fileInput=i.first)}},inputs:{currentActiveMenu:"currentActiveMenu",pdfSrc:"pdfSrc",pdfEditorVisible:"pdfEditorVisible",isFavorite:"isFavorite",isSettingsOpen:"isSettingsOpen"},outputs:{searchChange:"searchChange",fileSelected:"fileSelected",createTextEditor:"createTextEditor",createSentenceOverlay:"createSentenceOverlay",downloadModifiedPdf:"downloadModifiedPdf",downloadPdf:"downloadPdf",printPdf:"printPdf",emailPdf:"emailPdf",toggleFavorite:"toggleFavorite",menuChanged:"menuChanged",searchButtonClicked:"searchButtonClicked",settingsClick:"settingsClick",searchSubmit:"searchSubmit"},standalone:!1,features:[ve],decls:18,vars:7,consts:[["fileInput",""],["class","search-progress-bar",4,"ngIf"],[1,"top-menu-bar"],["type","file","accept",".pdf",2,"display","none",3,"change"],[1,"brand"],[1,"toolbar"],["title","\uD30C\uC77C \uC5F4\uAE30",1,"toolbar-menu-label","file-menu-btn",3,"click"],["class","toolbar-btn",3,"title","disabled","active","click",4,"ngFor","ngForOf"],[1,"menu-center"],[3,"active","disabled","title","click",4,"ngFor","ngForOf"],[1,"search-box"],["type","text","placeholder","\uAC80\uC0C9\uC5B4\uB97C \uC785\uB825\uD558\uC138\uC694",1,"search-input",3,"ngModelChange","input","ngModel","disabled"],["title","PDF \uBDF0\uC5B4 \uC124\uC815",1,"settings-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],[1,"search-progress-bar"],[1,"search-progress"],[1,"toolbar-btn",3,"click","title","disabled"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","toolbar-icon",4,"ngIf"],["class","toolbar-icon",3,"src","alt",4,"ngIf"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"toolbar-icon"],["points","12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"],[1,"toolbar-icon",3,"src","alt"],[3,"click","title"]],template:function(e,n){if(e&1){let i=M();w(0,nl,2,0,"div",1),r(1,"nav",2)(2,"input",3,0),h("change",function(l){return g(i),m(n.onFileSelected(l))}),s(),r(4,"div",4)(5,"div",5)(6,"span",6),h("click",function(){return g(i),m(n.openFileDialog())}),d(7,"\uD30C\uC77C"),s(),w(8,al,3,8,"button",7),s()(),r(9,"div",8)(10,"ul"),w(11,rl,2,6,"li",9),s()(),r(12,"div",10)(13,"input",11),V("ngModelChange",function(l){return g(i),F(n.searchQuery,l)||(n.searchQuery=l),m(l)}),h("input",function(l){return g(i),m(n.onSearchInput(l))}),s()(),r(14,"button",12),h("click",function(){return g(i),m(n.onSettingsClick())}),z(),r(15,"svg",13),y(16,"circle",14)(17,"path",15),s()()()}e&2&&(f("ngIf",n.isSearching),c(8),f("ngForOf",n.toolbarActions),c(3),f("ngForOf",n.menuItems),c(2),A("ngModel",n.searchQuery),f("disabled",!n.pdfSrc&&!n.pdfEditorVisible),c(),O("active",n.isSettingsOpen))},dependencies:[re,Q,le,ce,de],styles:['.search-result-count-inline[_ngcontent-%COMP%]{font-size:15px;color:#222;background:#fffbe6;border:1px solid #ffe066;border-radius:4px;padding:2px 8px;font-weight:500;margin-left:4px;display:inline-block;vertical-align:middle}.search-result-count[_ngcontent-%COMP%]{position:absolute;top:5px;right:24px;font-size:15px;color:#222;background:#fffbe6;border:1px solid #ffe066;border-radius:4px;padding:2px 10px;z-index:1001;font-weight:500}.search-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3px;background:transparent;z-index:1000}.search-progress[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(90deg,gold,#ffe066);animation:_ngcontent-%COMP%_search-progress-ani .7s linear infinite alternate;border-radius:2px}@keyframes _ngcontent-%COMP%_search-progress-ani{0%{opacity:.5;transform:scaleX(.2)}to{opacity:1;transform:scaleX(1)}}.top-menu-bar[_ngcontent-%COMP%]{background:#fff;color:#383838;padding:0 16px;display:flex;align-items:center;justify-content:space-between;font-size:14px;position:relative;z-index:1000;height:48px;flex-shrink:0;margin:0}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:700;font-size:20px;color:#121212;margin-right:32px;letter-spacing:1px;-webkit-user-select:none;user-select:none}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 0}.toolbar-menu-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222;margin-right:12px;padding:4px 10px 4px 0;letter-spacing:-.5px}.toolbar-menu-label.file-menu-btn[_ngcontent-%COMP%]{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease}.toolbar-menu-label.file-menu-btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.toolbar-menu-label.file-menu-btn[_ngcontent-%COMP%]:active{background-color:#e0e0e0}.toolbar-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;border-radius:6px;cursor:pointer;transition:background .15s;display:flex;align-items:center;justify-content:center}.toolbar-btn[_ngcontent-%COMP%]:hover, .toolbar-btn[_ngcontent-%COMP%]:focus{background:#f2f2f2}.toolbar-btn.disabled[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;pointer-events:none}.toolbar-btn.disabled[_ngcontent-%COMP%]   .toolbar-icon[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled   .toolbar-icon[_ngcontent-%COMP%]{opacity:.5}.menu-center[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center}.menu-center[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;gap:4px;list-style:none;margin:0;padding:0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:color .2s;color:#393939;font-size:14px;font-weight:500;padding:0 6px;height:40px;display:flex;align-items:center;border-radius:4px 4px 0 0}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;right:0;bottom:2px;height:2px;background:#e0e0e0;border-radius:1px}.menu-center[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#ff6200}.menu-center[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#ff6200;font-weight:600}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed;pointer-events:none}.menu-center[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]:after{display:none}.menu-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:auto;position:relative}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:auto}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:6px;width:250px;font-size:14px;transition:all .2s}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 3px #4285f41a}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#999}.search-box[_ngcontent-%COMP%]   .search-result-count[_ngcontent-%COMP%]{font-size:13px;color:#4285f4;font-weight:500;white-space:nowrap;padding:4px 8px;background-color:#e8f0fe;border-radius:4px}.search-box[_ngcontent-%COMP%]   .search-result-count.no-result[_ngcontent-%COMP%]{color:#d93025;background-color:#fce8e6}.search-icon[_ngcontent-%COMP%]{position:absolute;right:14px;top:50%;transform:translateY(-50%);pointer-events:none;display:flex;align-items:center}.toolbar-icon[_ngcontent-%COMP%]{width:15px;height:15px;object-fit:contain;display:block}.settings-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;margin-left:8px;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center;color:#666;flex-shrink:0}.settings-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.settings-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.settings-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}.settings-btn.active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.settings-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}.settings-btn.active[_ngcontent-%COMP%]:hover{background:#005a9e}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};function ll(a,t){a&1&&(ne(0),y(1,"img",19),ie())}function cl(a,t){a&1&&(ne(0),y(1,"img",20),ie())}function dl(a,t){a&1&&(ne(0),y(1,"img",21),ie())}function pl(a,t){a&1&&(ne(0),y(1,"img",22),ie())}function gl(a,t){if(a&1&&(ne(0),z(),r(1,"svg",23),y(2,"polygon",24),s(),ie()),a&2){let e=p(3);c(2),be("fill",e.isFavorite?"currentColor":"none")}}function ml(a,t){a&1&&(ne(0),y(1,"img",25),ie())}function ul(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.onToolbarAction(i.action))}),w(1,ll,2,0,"ng-container",10)(2,cl,2,0,"ng-container",10)(3,dl,2,0,"ng-container",10)(4,pl,2,0,"ng-container",10)(5,gl,3,1,"ng-container",10)(6,ml,2,0,"ng-container",10),s()}if(a&2){let e=t.$implicit,n=p(2);O("disabled",!n.pdfSrc&&!n.pdfEditorVisible)("active",e.action==="highlight"&&n.isHighlightActive||e.action==="pen-drawing"&&n.isPenActive||e.action==="add-text"&&n.isTextActive),f("title",e.tooltip)("disabled",!n.pdfSrc&&!n.pdfEditorVisible),c(),f("ngIf",e.action==="zoom-in"),c(),f("ngIf",e.action==="zoom-out"),c(),f("ngIf",e.action==="highlight"),c(),f("ngIf",e.action==="pen-drawing"),c(),f("ngIf",e.action==="add-favorite"),c(),f("ngIf",e.action==="add-text")}}function fl(a,t){if(a&1&&(ne(0),r(1,"div",16),w(2,ul,7,12,"button",17),s(),ie()),a&2){let e=p();c(2),f("ngForOf",e.getActionsByMenu("\uD648"))}}function hl(a,t){a&1&&(ne(0),z(),r(1,"svg",23),y(2,"line",26)(3,"line",27)(4,"line",28),s(),ie())}function _l(a,t){a&1&&(ne(0),y(1,"img",25),ie())}function bl(a,t){a&1&&(ne(0),y(1,"img",29),ie())}function Cl(a,t){a&1&&(ne(0),y(1,"img",30),ie())}function xl(a,t){a&1&&(ne(0),y(1,"img",31),ie())}function vl(a,t){a&1&&(ne(0),y(1,"img",32),ie())}function Pl(a,t){a&1&&(ne(0),y(1,"img",33),ie())}function wl(a,t){a&1&&(ne(0),z(),r(1,"svg",23),y(2,"path",34)(3,"polyline",35)(4,"line",36)(5,"line",37)(6,"polyline",38),s(),ie())}function yl(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.onToolbarAction(i.action))}),w(1,hl,5,0,"ng-container",10)(2,_l,2,0,"ng-container",10)(3,bl,2,0,"ng-container",10)(4,Cl,2,0,"ng-container",10)(5,xl,2,0,"ng-container",10)(6,vl,2,0,"ng-container",10)(7,Pl,2,0,"ng-container",10)(8,wl,7,0,"ng-container",10),s()}if(a&2){let e=t.$implicit,n=p(2);O("disabled",e.action!=="pdf-analysis"&&(n.pdfSrc&&!n.pdfEditorVisible||!n.pdfSrc&&!n.pdfEditorVisible))("active",e.action==="highlight"&&n.isHighlightActive),f("title",e.tooltip)("disabled",e.action!=="pdf-analysis"&&(n.pdfSrc&&!n.pdfEditorVisible||!n.pdfSrc&&!n.pdfEditorVisible)),c(),f("ngIf",e.action==="pdf-analysis"),c(),f("ngIf",e.action==="add-text"),c(),f("ngIf",e.action==="add-image"),c(),f("ngIf",e.action==="watermark"),c(),f("ngIf",e.action==="page-number"),c(),f("ngIf",e.action==="signature"),c(),f("ngIf",e.action==="merge-original-edited"),c(),f("ngIf",e.action==="toggle-analysis-panel")}}function Ml(a,t){if(a&1&&(ne(0),r(1,"div",16),w(2,yl,9,14,"button",17),s(),ie()),a&2){let e=p();c(2),f("ngForOf",e.getActionsByMenu("\uD3B8\uC9D1"))}}function Sl(a,t){a&1&&(ne(0),y(1,"img",39),ie())}function kl(a,t){a&1&&(ne(0),y(1,"img",40),ie())}function Ol(a,t){a&1&&(ne(0),y(1,"img",41),ie())}function El(a,t){a&1&&(ne(0),y(1,"img",42),ie())}function Dl(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.onToolbarAction(i.action))}),w(1,Sl,2,0,"ng-container",10)(2,kl,2,0,"ng-container",10)(3,Ol,2,0,"ng-container",10)(4,El,2,0,"ng-container",10),s()}if(a&2){let e=t.$implicit,n=p(2);O("disabled",!n.pdfSrc&&!n.pdfEditorVisible)("active",e.action==="highlight"&&n.isHighlightActive),f("title",e.tooltip)("disabled",!n.pdfSrc&&!n.pdfEditorVisible),c(),f("ngIf",e.action==="convert-ppt"),c(),f("ngIf",e.action==="convert-doc"),c(),f("ngIf",e.action==="convert-xls"),c(),f("ngIf",e.action==="convert-jpg")}}function Tl(a,t){if(a&1&&(ne(0),r(1,"div",16),w(2,Dl,5,10,"button",17),s(),ie()),a&2){let e=p();c(2),f("ngForOf",e.getActionsByMenu("\uD30C\uC77C\uBCC0\uD658"))}}function Bl(a,t){a&1&&(ne(0),z(),r(1,"svg",23),y(2,"path",43)(3,"path",44),s(),ie())}function Fl(a,t){a&1&&(ne(0),z(),r(1,"svg",23),y(2,"path",45)(3,"path",46),s(),ie())}function Al(a,t){a&1&&(ne(0),y(1,"img",47),ie())}function Vl(a,t){a&1&&(ne(0),y(1,"img",48),ie())}function Il(a,t){a&1&&(ne(0),y(1,"img",49),ie())}function zl(a,t){a&1&&(ne(0),y(1,"img",50),ie())}function Rl(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.onToolbarAction(i.action))}),w(1,Bl,4,0,"ng-container",10)(2,Fl,4,0,"ng-container",10)(3,Al,2,0,"ng-container",10)(4,Vl,2,0,"ng-container",10)(5,Il,2,0,"ng-container",10)(6,zl,2,0,"ng-container",10),s()}if(a&2){let e=t.$implicit,n=p(2);O("disabled",!n.pdfSrc&&!n.pdfEditorVisible)("active",e.action==="highlight"&&n.isHighlightActive),f("title",e.tooltip)("disabled",!n.pdfSrc&&!n.pdfEditorVisible),c(),f("ngIf",e.action==="rotate-left"),c(),f("ngIf",e.action==="rotate-right"),c(),f("ngIf",e.action==="delete-page"),c(),f("ngIf",e.action==="upload"),c(),f("ngIf",e.action==="download"),c(),f("ngIf",e.action==="merge-pdf")}}function Ll(a,t){if(a&1&&(ne(0),r(1,"div",16),w(2,Rl,7,12,"button",17),s(),ie()),a&2){let e=p();c(2),f("ngForOf",e.getActionsByMenu("\uAD6C\uC131"))}}function Nl(a,t){a&1&&(ne(0),y(1,"img",51),ie())}function jl(a,t){a&1&&(ne(0),y(1,"img",52),ie())}function Wl(a,t){a&1&&(ne(0),y(1,"img",53),ie())}function Hl(a,t){if(a&1){let e=M();r(0,"button",18),h("click",function(){let i=g(e).$implicit,o=p(2);return m(o.onToolbarAction(i.action))}),w(1,Nl,2,0,"ng-container",10)(2,jl,2,0,"ng-container",10)(3,Wl,2,0,"ng-container",10),s()}if(a&2){let e=t.$implicit,n=p(2);O("disabled",!n.pdfSrc&&!n.pdfEditorVisible)("active",e.action==="highlight"&&n.isHighlightActive),f("title",e.tooltip)("disabled",!n.pdfSrc&&!n.pdfEditorVisible),c(),f("ngIf",e.action==="lock"),c(),f("ngIf",e.action==="password"),c(),f("ngIf",e.action==="settings")}}function $l(a,t){if(a&1&&(ne(0),r(1,"div",16),w(2,Hl,4,9,"button",17),s(),ie()),a&2){let e=p();c(2),f("ngForOf",e.getActionsByMenu("\uBCF4\uC548"))}}var An=class a{constructor(t,e){this.authService=t;this.router=e}activeMenu="\uD648";pdfSrc=null;pdfEditorVisible=!1;isRightPanelOpen=!1;isLeftPanelOpen=!1;isVerticalMenuOpen=!1;isHighlightActive=!1;isPenActive=!1;isTextActive=!1;showImageCoordinates=!1;isFavorite=!1;isSettingsOpen=!1;headerAction=new E;showSnackbar=new E;rightPanelToggle=new E;leftPanelToggle=new E;verticalMenuToggle=new E;imageCoordinatesToggle=new E;searchButtonClicked=new E;toolbarActions=[];menuToolbarActions={\uD648:[{tooltip:"\uD655\uB300",action:"zoom-in"},{tooltip:"\uCD95\uC18C",action:"zoom-out"},{tooltip:"\uD558\uC774\uB77C\uC774\uD2B8",action:"highlight"},{tooltip:"\uD39C \uADF8\uB9AC\uAE30",action:"pen-drawing"}],\uD3B8\uC9D1:[{tooltip:"PDF \uBD84\uC11D",action:"pdf-analysis"},{tooltip:"\uD14D\uC2A4\uD2B8 \uCD94\uAC00",action:"add-text"},{tooltip:"\uADF8\uB9BC \uCD94\uAC00",action:"add-image"},{tooltip:"\uC6CC\uD130\uB9C8\uD06C",action:"watermark"},{tooltip:"\uC0AC\uC778",action:"signature"},{tooltip:"\uC6D0\uBCF8/\uD3B8\uC9D1\uBCF8 \uBCD1\uD569",action:"merge-original-edited"},{tooltip:"PDF \uBD84\uC11D \uC815\uBCF4",action:"toggle-analysis-panel"}],\uD30C\uC77C\uBCC0\uD658:[{tooltip:"PPT \uBCC0\uD658",action:"convert-ppt"},{tooltip:"DOC \uBCC0\uD658",action:"convert-doc"},{tooltip:"XLS \uBCC0\uD658",action:"convert-xls"},{tooltip:"JPG \uBCC0\uD658",action:"convert-jpg"}],\uAD6C\uC131:[{tooltip:"\uC67C\uCABD \uD68C\uC804",action:"rotate-left"},{tooltip:"\uC624\uB978\uCABD \uD68C\uC804",action:"rotate-right"},{tooltip:"\uC0AD\uC81C",action:"delete-page"},{tooltip:"\uC5C5\uB85C\uB4DC",action:"upload"},{tooltip:"\uB2E4\uC6B4\uB85C\uB4DC",action:"download"},{tooltip:"\uBCD1\uD569",action:"merge-pdf"}],\uBCF4\uC548:[{tooltip:"\uC7A0\uAE08",action:"lock"},{tooltip:"\uBE44\uBC00\uBC88\uD638",action:"password"},{tooltip:"\uC124\uC815",action:"settings"}]};ngOnChanges(t){t.activeMenu&&this.updateToolbarActions()}ngOnInit(){this.updateToolbarActions()}updateToolbarActions(){this.toolbarActions=this.menuToolbarActions[this.activeMenu]||this.menuToolbarActions.\uD648}getActionsByMenu(t){return this.menuToolbarActions[t]||[]}onToolbarAction(t){if(console.log("\u{1F3AC} [ez-header] onToolbarAction \uC2DC\uC791 - action:",t),t==="pen-drawing"){console.log("\u270F\uFE0F [ez-header] pen-drawing emit"),this.headerAction.emit(t);return}let e="";for(let n in this.menuToolbarActions){let o=this.menuToolbarActions[n].find(l=>l.action===t);if(o){e=o.tooltip;break}}if(console.log("\u{1F4DD} [ez-header] actionTooltip:",e),e&&(console.log("\u{1F4E3} [ez-header] \uC2A4\uB0B5\uBC14 emit:",`${e} \uBA54\uB274\uAC00 \uD074\uB9AD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.showSnackbar.emit(`${e} \uBA54\uB274\uAC00 \uD074\uB9AD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)),(t==="zoom-in"||t==="zoom-out")&&(console.log("\u{1F50D} [ez-header] zoom action emit:",t),this.headerAction.emit(t)),t==="highlight"&&(console.log("\u{1F58D}\uFE0F [ez-header] highlight action emit"),this.headerAction.emit(t),console.log("\u{1F58D}\uFE0F [ez-header] highlight emit \uC644\uB8CC")),t==="add-favorite"){console.log("\u2B50 [ez-header] add-favorite action emit"),this.headerAction.emit(t);return}if(t==="add-text"&&this.headerAction.emit(t),t==="add-image"&&this.headerAction.emit(t),t==="watermark"&&this.headerAction.emit(t),t==="signature"&&this.headerAction.emit(t),t==="merge-original-edited"){this.headerAction.emit(t);return}if(t==="convert-ppt"||t==="convert-doc"||t==="convert-xls"||t==="convert-jpg"){this.headerAction.emit(t);return}if(t==="pdf-analysis"){this.headerAction.emit(t);return}if(t==="toggle-analysis-panel"){this.headerAction.emit(t);return}if(t==="rotate-left"||t==="rotate-right"){this.headerAction.emit(t);return}if(t==="delete-page"){this.headerAction.emit(t);return}if(t==="upload"){this.headerAction.emit(t);return}if(t==="download"){this.headerAction.emit(t);return}if(t==="merge-pdf"){this.headerAction.emit(t);return}if(t==="lock"||t==="password"||t==="settings"){this.headerAction.emit(t);return}}onLeftPanelToggle(){this.leftPanelToggle.emit()}toggleRightPanel(){this.rightPanelToggle.emit()}toggleVerticalMenu(){this.verticalMenuToggle.emit()}toggleImageCoordinates(){this.imageCoordinatesToggle.emit()}onSearchButtonClick(){console.log("\u{1F50D} [ez-header] \uAC80\uC0C9 \uBC84\uD2BC \uD074\uB9AD"),this.searchButtonClicked.emit()}onLogout(){return P(this,null,function*(){console.log("[EZ Header] onLogout \uC2DC\uC791");let t=yield qe("\uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?");console.log("[EZ Header] confirmAsync \uACB0\uACFC:",t),t?(console.log("[EZ Header] authService.logout() \uD638\uCD9C \uC804"),this.authService.logout(),console.log("[EZ Header] authService.logout() \uD638\uCD9C \uD6C4")):console.log("[EZ Header] \uB85C\uADF8\uC544\uC6C3 \uCDE8\uC18C\uB428")})}onSettingsClick(){this.headerAction.emit("pdf-settings")}onSettingsClose(){this.headerAction.emit("pdf-settings")}static \u0275fac=function(e){return new(e||a)(G(Re),G(we))};static \u0275cmp=L({type:a,selectors:[["app-ez-header"]],inputs:{activeMenu:"activeMenu",pdfSrc:"pdfSrc",pdfEditorVisible:"pdfEditorVisible",isRightPanelOpen:"isRightPanelOpen",isLeftPanelOpen:"isLeftPanelOpen",isVerticalMenuOpen:"isVerticalMenuOpen",isHighlightActive:"isHighlightActive",isPenActive:"isPenActive",isTextActive:"isTextActive",showImageCoordinates:"showImageCoordinates",isFavorite:"isFavorite",isSettingsOpen:"isSettingsOpen"},outputs:{headerAction:"headerAction",showSnackbar:"showSnackbar",rightPanelToggle:"rightPanelToggle",leftPanelToggle:"leftPanelToggle",verticalMenuToggle:"verticalMenuToggle",imageCoordinatesToggle:"imageCoordinatesToggle",searchButtonClicked:"searchButtonClicked"},standalone:!1,features:[ve],decls:20,vars:12,consts:[[1,"header"],[1,"header-left"],["title","\uD398\uC774\uC9C0 \uBAA9\uB85D",1,"panel-toggle-btn","left-panel-toggle",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","none"],["x","2","y","3","width","6","height","5","rx","1","stroke","currentColor","stroke-width","1.5"],["x","2","y","10","width","6","height","5","rx","1","stroke","currentColor","stroke-width","1.5"],["x1","11","y1","5","x2","18","y2","5","stroke","currentColor","stroke-width","1.5"],["x1","11","y1","12","x2","18","y2","12","stroke","currentColor","stroke-width","1.5"],[1,"header-center"],[1,"nav-controls"],[4,"ngIf"],[1,"header-right"],["title","\uB3C4\uAD6C \uD328\uB110 \uC5F4\uAE30/\uB2EB\uAE30",1,"panel-toggle-btn",3,"click","disabled"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","3","y","3","width","18","height","18","rx","2"],["x1","15","y1","3","x2","15","y2","21"],[1,"toolbar-group"],["class","toolbar-btn",3,"title","disabled","active","click",4,"ngFor","ngForOf"],[1,"toolbar-btn",3,"click","title","disabled"],["src","./images/btn-gnb-zoom@3x.png","alt","\uD655\uB300","width","18","height","18"],["src","./images/btn-gnb-zoom1@3x.png","alt","\uCD95\uC18C","width","18","height","18"],["src","./images/btn-gnb-highlight@3x.png","alt","\uD558\uC774\uB77C\uC774\uD2B8","width","18","height","18"],["src","./images/btn-gnb-edit@3x.png","alt","\uD39C \uADF8\uB9AC\uAE30","width","18","height","18"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"],["src","./images/btn-gnb-insert-txt@3x.png","alt","\uD14D\uC2A4\uD2B8 \uCD94\uAC00","width","18","height","18"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],["src","./images/btn-gnb-image@3x.png","alt","\uADF8\uB9BC \uCD94\uAC00","width","18","height","18"],["src","./images/btn-gnb-watermark@3x.png","alt","\uC6CC\uD130\uB9C8\uD06C","width","18","height","18"],["src","./images/btn-gnb-pagenumber@3x.png","alt","\uD398\uC774\uC9C0 \uBC88\uD638","width","18","height","18"],["src","./images/btn-gnb-sign@3x.png","alt","\uC0AC\uC778","width","18","height","18"],["src","./images/btn-gnb-merge@3x.png","alt","\uC6D0\uBCF8/\uD3B8\uC9D1\uBCF8 \uBCD1\uD569","width","18","height","18"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],["src","./images/btn-gnb-ppt@3x.png","alt","PPT \uBCC0\uD658","width","18","height","18"],["src","./images/btn-gnb-doc@3x.png","alt","DOC \uBCC0\uD658","width","18","height","18"],["src","./images/btn-gnb-xls@3x.png","alt","XLS \uBCC0\uD658","width","18","height","18"],["src","./images/btn-gnb-jpg@3x.png","alt","JPG \uBCC0\uD658","width","18","height","18"],["d","M2.5 2v6h6"],["d","M2.66 15.57a10 10 0 1 0 .57-8.38"],["d","M21.5 2v6h-6"],["d","M21.34 15.57a10 10 0 1 1-.57-8.38"],["src","./images/btn-gnb-delete.png","alt","\uC0AD\uC81C","width","18","height","18"],["src","./images/btn-gnb-upload@3x.png","alt","\uC5C5\uB85C\uB4DC","width","18","height","18"],["src","./images/btn-gnb-download@3x.png","alt","\uB2E4\uC6B4\uB85C\uB4DC","width","18","height","18"],["src","./images/btn-gnb-merge@3x.png","alt","\uBCD1\uD569","width","18","height","18"],["src","./images/btn-gnb-lock@3x.png","alt","\uC7A0\uAE08","width","18","height","18"],["src","./images/btn-gnb-password@3x.png","alt","\uBE44\uBC00\uBC88\uD638","width","18","height","18"],["src","./images/btn-gnb-setting.png","alt","\uC124\uC815","width","18","height","18"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return n.onLeftPanelToggle()}),z(),r(3,"svg",3),y(4,"rect",4)(5,"rect",5)(6,"line",6)(7,"line",7),s()()(),oe(),r(8,"div",8)(9,"div",9),w(10,fl,3,1,"ng-container",10)(11,Ml,3,1,"ng-container",10)(12,Tl,3,1,"ng-container",10)(13,Ll,3,1,"ng-container",10)(14,$l,3,1,"ng-container",10),s()(),r(15,"div",11)(16,"button",12),h("click",function(){return n.toggleRightPanel()}),z(),r(17,"svg",13),y(18,"rect",14)(19,"line",15),s()()()()),e&2&&(c(2),O("active",n.isLeftPanelOpen),c(8),f("ngIf",n.activeMenu==="\uD648"),c(),f("ngIf",n.activeMenu==="\uD3B8\uC9D1"),c(),f("ngIf",n.activeMenu==="\uD30C\uC77C\uBCC0\uD658"),c(),f("ngIf",n.activeMenu==="\uAD6C\uC131"),c(),f("ngIf",n.activeMenu==="\uBCF4\uC548"),c(2),O("active",n.isRightPanelOpen)("disabled",!n.pdfSrc&&!n.pdfEditorVisible),f("disabled",!n.pdfSrc&&!n.pdfEditorVisible))},dependencies:[re,Q],styles:[".header[_ngcontent-%COMP%]{background:var(--bg-primary);border-bottom:1px solid #e0e0e0;padding:8px 16px 8px 4px;display:flex;align-items:center;gap:16px;box-shadow:0 1px 3px #0000001a;height:44px;flex-shrink:0;margin:0}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;min-width:auto}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;margin-left:auto}.panel-toggle-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center;color:#666;flex-shrink:0}.panel-toggle-btn.active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.panel-toggle-btn.active[_ngcontent-%COMP%]:hover{background:#005a9e}.panel-toggle-btn.disabled[_ngcontent-%COMP%], .panel-toggle-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.panel-toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}.left-panel-toggle[_ngcontent-%COMP%]{margin-left:0}.header-center[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;gap:16px;position:relative}.nav-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.toolbar-btn[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;border-radius:4px;font-size:16px;color:#333;transition:background .2s}.toolbar-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.toolbar-btn.active[_ngcontent-%COMP%]{background:#e0e0e0}.toolbar-btn.disabled[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;pointer-events:none}.toolbar-btn.disabled[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .toolbar-btn[_ngcontent-%COMP%]:disabled   img[_ngcontent-%COMP%]{opacity:.5}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;justify-content:flex-end;margin-left:auto}.panel-toggle-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;border-radius:4px;color:#666;transition:all .2s;display:flex;align-items:center;justify-content:center;margin-left:auto}.panel-toggle-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.panel-toggle-btn.active[_ngcontent-%COMP%]{background:#e3f2fd;color:#2196f3}.panel-toggle-btn.active[_ngcontent-%COMP%]:hover{background:#bbdefb}.panel-toggle-btn.disabled[_ngcontent-%COMP%], .panel-toggle-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;pointer-events:none}.right-panel-toggle[_ngcontent-%COMP%]{position:absolute;right:0;display:flex;align-items:center;gap:4px;padding:6px 12px;background:none;color:#666;border:none;border-radius:6px 0 0 6px;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s ease}.right-panel-toggle[_ngcontent-%COMP%]:hover{background:#0000000d;color:#333}.right-panel-toggle.active[_ngcontent-%COMP%]{color:#48bb78}.right-panel-toggle.active[_ngcontent-%COMP%]:hover{background:#48bb781a}.right-panel-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:1}.right-panel-toggle[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.5px}.debug-toggle-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;margin-right:4px;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center;color:#666;flex-shrink:0;font-size:18px}.debug-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{line-height:1}.debug-toggle-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.debug-toggle-btn.active[_ngcontent-%COMP%]{background:#1976d2}.debug-toggle-btn.active[_ngcontent-%COMP%]:hover{background:#1565c0}.debug-toggle-btn.disabled[_ngcontent-%COMP%], .debug-toggle-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.debug-toggle-btn.disabled[_ngcontent-%COMP%]:hover, .debug-toggle-btn[_ngcontent-%COMP%]:disabled:hover{background:none}.settings-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;margin-left:4px;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center;color:#666;flex-shrink:0}.settings-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.settings-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.settings-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}.settings-btn.active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.settings-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}.settings-btn.active[_ngcontent-%COMP%]:hover{background:#005a9e}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function Gl(a,t){if(a&1){let e=M();r(0,"div",7),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onOptionSelect(i.id))}),r(1,"div",8),d(2),s(),r(3,"div",9)(4,"h4"),d(5),s(),r(6,"p"),d(7),s(),r(8,"span",10),d(9),s()()()}if(a&2){let e=t.$implicit,n=p();O("selected",n.selectedOption===e.id),c(2),R(e.icon),c(3),R(e.title),c(2),R(e.description),c(2),N(".",e.extension)}}function Ql(a,t){if(a&1){let e=M();r(0,"div",16)(1,"label"),d(2),s(),r(3,"input",31),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.conversionSettings.quality,i)||(o.conversionSettings.quality=i),m(i)}),s(),r(4,"div",32)(5,"span"),d(6,"\uB0AE\uC74C"),s(),r(7,"span"),d(8,"\uB192\uC74C"),s()()()}if(a&2){let e=p(2);c(2),N("\uD488\uC9C8 (",e.conversionSettings.quality,"%)"),c(),A("ngModel",e.conversionSettings.quality)}}function ql(a,t){if(a&1){let e=M();r(0,"div",33)(1,"input",34),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.conversionSettings.startPage,i)||(o.conversionSettings.startPage=i),m(i)}),s(),r(2,"span"),d(3,"~"),s(),r(4,"input",34),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.conversionSettings.endPage,i)||(o.conversionSettings.endPage=i),m(i)}),s()()}if(a&2){let e=p(2);c(),A("ngModel",e.conversionSettings.startPage),c(3),A("ngModel",e.conversionSettings.endPage)}}function Yl(a,t){if(a&1){let e=M();r(0,"div",16)(1,"label"),d(2,"\uD574\uC0C1\uB3C4 (DPI)"),s(),r(3,"select",35),V("ngModelChange",function(i){g(e);let o=p(2);return F(o.conversionSettings.resolution,i)||(o.conversionSettings.resolution=i),m(i)}),r(4,"option",36),d(5,"72 DPI (\uC6F9\uC6A9)"),s(),r(6,"option",37),d(7,"150 DPI (\uC77C\uBC18)"),s(),r(8,"option",38),d(9,"300 DPI (\uACE0\uD654\uC9C8)"),s(),r(10,"option",39),d(11,"600 DPI (\uCD5C\uACE0\uD654\uC9C8)"),s()()()}if(a&2){let e=p(2);c(3),A("ngModel",e.conversionSettings.resolution)}}function Kl(a,t){if(a&1){let e=M();r(0,"div",11),h("click",function(){g(e);let i=p();return m(i.onCloseModal())}),r(1,"div",12),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",13)(3,"h3"),d(4,"\uBCC0\uD658 \uC124\uC815"),s(),r(5,"button",14),h("click",function(){g(e);let i=p();return m(i.onCloseModal())}),d(6,"\u2715"),s()(),r(7,"div",15)(8,"div",16)(9,"label"),d(10,"\uD30C\uC77C\uBA85"),s(),r(11,"input",17),V("ngModelChange",function(i){g(e);let o=p();return F(o.conversionSettings.fileName,i)||(o.conversionSettings.fileName=i),m(i)}),s()(),r(12,"div",16)(13,"label"),d(14,"\uC800\uC7A5 \uC704\uCE58"),s(),r(15,"div",18)(16,"input",19),V("ngModelChange",function(i){g(e);let o=p();return F(o.conversionSettings.savePath,i)||(o.conversionSettings.savePath=i),m(i)}),s(),r(17,"button",20),h("click",function(){g(e);let i=p();return m(i.onBrowsePath())}),d(18,"\uCC3E\uC544\uBCF4\uAE30"),s()()(),w(19,Ql,9,2,"div",21),r(20,"div",16)(21,"label"),d(22,"\uD398\uC774\uC9C0 \uBC94\uC704"),s(),r(23,"div",22)(24,"label",23)(25,"input",24),V("ngModelChange",function(i){g(e);let o=p();return F(o.conversionSettings.pageRange,i)||(o.conversionSettings.pageRange=i),m(i)}),s(),r(26,"span"),d(27,"\uBAA8\uB4E0 \uD398\uC774\uC9C0"),s()(),r(28,"label",23)(29,"input",25),V("ngModelChange",function(i){g(e);let o=p();return F(o.conversionSettings.pageRange,i)||(o.conversionSettings.pageRange=i),m(i)}),s(),r(30,"span"),d(31,"\uD604\uC7AC \uD398\uC774\uC9C0"),s()(),r(32,"label",23)(33,"input",26),V("ngModelChange",function(i){g(e);let o=p();return F(o.conversionSettings.pageRange,i)||(o.conversionSettings.pageRange=i),m(i)}),s(),r(34,"span"),d(35,"\uD398\uC774\uC9C0 \uBC94\uC704"),s()()(),w(36,ql,5,2,"div",27),s(),w(37,Yl,12,1,"div",21),s(),r(38,"div",28)(39,"button",29),h("click",function(){g(e);let i=p();return m(i.onCloseModal())}),d(40,"\uCDE8\uC18C"),s(),r(41,"button",30),h("click",function(){g(e);let i=p();return m(i.onConfirmConversion())}),d(42,"\uBCC0\uD658 \uC2DC\uC791"),s()()()()}if(a&2){let e=p();c(11),A("ngModel",e.conversionSettings.fileName),c(5),A("ngModel",e.conversionSettings.savePath),c(3),f("ngIf",e.selectedOption==="jpg"),c(6),A("ngModel",e.conversionSettings.pageRange),c(4),A("ngModel",e.conversionSettings.pageRange),c(4),A("ngModel",e.conversionSettings.pageRange),c(3),f("ngIf",e.conversionSettings.pageRange==="range"),c(),f("ngIf",e.selectedOption==="jpg")}}var zt=class a{constructor(t){this.notification=t}conversionOptions=[{id:"ppt",title:"PowerPoint",description:"PDF\uB97C PPT \uD504\uB808\uC820\uD14C\uC774\uC158\uC73C\uB85C \uBCC0\uD658",icon:"\u{1F4CA}",extension:"pptx"},{id:"doc",title:"Word \uBB38\uC11C",description:"PDF\uB97C Word \uBB38\uC11C\uB85C \uBCC0\uD658",icon:"\u{1F4C4}",extension:"docx"},{id:"xls",title:"Excel \uC2A4\uD504\uB808\uB4DC\uC2DC\uD2B8",description:"PDF\uB97C Excel \uD30C\uC77C\uB85C \uBCC0\uD658",icon:"\u{1F4C8}",extension:"xlsx"},{id:"jpg",title:"\uC774\uBBF8\uC9C0",description:"PDF\uB97C JPG \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658",icon:"\u{1F5BC}\uFE0F",extension:"jpg"}];selectedOption=null;showModal=!1;conversionSettings={fileName:"250612_\uBBF8\uB2C8\uC560\uB2F5_\uCD5C\uC885",savePath:"C:\\Users\\Desktop\\\uC5F0\uAD6C\\PDF\\",quality:70,pageRange:"all",startPage:1,endPage:1,imageFormat:"jpg",resolution:150};onOptionSelect(t){this.selectedOption=t;let e=this.conversionOptions.find(n=>n.id===t);e&&(this.conversionSettings.fileName=`\uBCC0\uD658\uB41C_\uD30C\uC77C.${e.extension}`,this.showModal=!0)}onCloseModal(){this.showModal=!1}onConfirmConversion(){let t=this.conversionOptions.find(e=>e.id===this.selectedOption);t&&(this.notification.showLong(`${t.title}\uB85C \uBCC0\uD658\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4.`),this.showModal=!1)}onBrowsePath(){this.notification.show("\uD30C\uC77C \uD0D0\uC0C9\uAE30\uAC00 \uC5F4\uB9BD\uB2C8\uB2E4.")}static \u0275fac=function(e){return new(e||a)(G(Ze))};static \u0275cmp=L({type:a,selectors:[["app-file-conversion"]],standalone:!1,decls:10,vars:2,consts:[[1,"file-conversion-panel"],[1,"panel-content"],[1,"conversion-options"],[1,"description"],[1,"options-grid"],["class","option-card",3,"selected","click",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"option-card",3,"click"],[1,"option-icon"],[1,"option-content"],[1,"extension"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"setting-group"],["type","text",1,"setting-input",3,"ngModelChange","ngModel"],[1,"path-input-group"],["type","text","readonly","",1,"setting-input","path-input",3,"ngModelChange","ngModel"],[1,"browse-btn",3,"click"],["class","setting-group",4,"ngIf"],[1,"radio-group"],[1,"radio-option"],["type","radio","name","pageRange","value","all",3,"ngModelChange","ngModel"],["type","radio","name","pageRange","value","current",3,"ngModelChange","ngModel"],["type","radio","name","pageRange","value","range",3,"ngModelChange","ngModel"],["class","page-range-inputs",4,"ngIf"],[1,"modal-footer"],[1,"cancel-modal-btn",3,"click"],[1,"confirm-btn",3,"click"],["type","range","min","10","max","100",1,"quality-slider",3,"ngModelChange","ngModel"],[1,"quality-labels"],[1,"page-range-inputs"],["type","number","min","1",1,"page-input",3,"ngModelChange","ngModel"],[1,"setting-select",3,"ngModelChange","ngModel"],["value","72"],["value","150"],["value","300"],["value","600"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),d(4,"\uD30C\uC77C \uBCC0\uD658"),s(),r(5,"p",3),d(6,"PDF \uD30C\uC77C\uC744 \uB2E4\uC591\uD55C \uD615\uC2DD\uC73C\uB85C \uBCC0\uD658\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."),s(),r(7,"div",4),w(8,Gl,10,6,"div",5),s()()(),w(9,Kl,43,8,"div",6),s()),e&2&&(c(8),f("ngForOf",n.conversionOptions),c(),f("ngIf",n.showModal))},dependencies:[re,Q,Ae,Ve,le,pt,gt,We,ln,ce,cn,de],styles:[".file-conversion-panel[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 120px);background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;overflow:hidden}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin-bottom:8px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin-bottom:32px;font-size:14px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin-bottom:32px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]{border:2px solid #e5e5e5;border-radius:8px;padding:20px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:16px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]:hover{border-color:#ccc;box-shadow:0 2px 8px #0000001a}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card.selected[_ngcontent-%COMP%]{border-color:#f44;background-color:#fff5f5;box-shadow:0 2px 12px #f443}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#f8f9fa;border-radius:8px;flex-shrink:0}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{flex:1}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:8px;line-height:1.4}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .extension[_ngcontent-%COMP%]{display:inline-block;background:#e9ecef;color:#495057;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:500}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;padding-top:24px;border-top:1px solid #e5e5e5}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;border:none;transition:all .2s ease}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button.convert-btn[_ngcontent-%COMP%]{background:#f44;color:#fff}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button.convert-btn[_ngcontent-%COMP%]:hover{background:#e03e3e}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:1px solid #dee2e6}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 30px #0000004d;width:90%;max-width:500px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e5e5}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;color:#666;padding:4px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]{margin-bottom:20px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#333;margin-bottom:8px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .setting-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .setting-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f44;box-shadow:0 0 0 2px #f443}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]{display:flex;gap:8px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]   .path-input[_ngcontent-%COMP%]{flex:1}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]   .browse-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ddd;border-radius:6px;padding:10px 16px;font-size:14px;cursor:pointer;white-space:nowrap}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]   .browse-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .quality-slider[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .quality-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#666}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin:0}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .page-range-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:8px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .page-range-inputs[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{width:80px;padding:8px;border:1px solid #ddd;border-radius:4px;text-align:center}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .page-range-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .setting-select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;background:#fff}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .setting-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f44}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding:20px 24px;border-top:1px solid #e5e5e5}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;border:none}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.cancel-modal-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:1px solid #dee2e6}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.cancel-modal-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]{background:#f44;color:#fff}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]:hover{background:#e03e3e}@media (max-width: 768px){.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:16px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]{padding:16px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .options-grid[_ngcontent-%COMP%]   .option-card[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{font-size:24px;width:40px;height:40px}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]{flex-direction:column}.file-conversion-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .conversion-options[_ngcontent-%COMP%]   .conversion-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:95%;margin:16px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:16px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]{flex-direction:column}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .path-input-group[_ngcontent-%COMP%]   .browse-btn[_ngcontent-%COMP%]{width:100%}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .setting-group[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]{padding:8px 0}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column;padding:16px}.file-conversion-panel[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function Xl(a,t){if(a&1){let e=M();r(0,"div",22)(1,"label")(2,"input",23),V("ngModelChange",function(i){g(e);let o=p(3);return F(o.options.ppt.includeThumbnails,i)||(o.options.ppt.includeThumbnails=i),m(i)}),s(),d(3," \uC378\uB124\uC77C \uD3EC\uD568 "),s(),r(4,"div",24)(5,"label"),d(6,"\uAE00\uAF34 \uD06C\uAE30:"),s(),r(7,"input",25),V("ngModelChange",function(i){g(e);let o=p(3);return F(o.options.ppt.fontSize,i)||(o.options.ppt.fontSize=i),m(i)}),s()()()}if(a&2){let e=p(3);c(2),A("ngModel",e.options.ppt.includeThumbnails),c(5),A("ngModel",e.options.ppt.fontSize)}}function Jl(a,t){if(a&1){let e=M();r(0,"div",24)(1,"label"),d(2,"\uD488\uC9C8:"),s(),r(3,"input",31),V("ngModelChange",function(i){g(e);let o=p(4);return F(o.options.image.quality,i)||(o.options.image.quality=i),m(i)}),s(),r(4,"span"),d(5),Oi(6,"number"),s()()}if(a&2){let e=p(4);c(3),A("ngModel",e.options.image.quality),c(2),N("",Ei(6,2,e.options.image.quality*100,"1.0-0"),"%")}}function ec(a,t){if(a&1){let e=M();r(0,"div",22)(1,"div",24)(2,"label"),d(3,"\uC774\uBBF8\uC9C0 \uD615\uC2DD:"),s(),r(4,"select",26),V("ngModelChange",function(i){g(e);let o=p(3);return F(o.options.image.format,i)||(o.options.image.format=i),m(i)}),r(5,"option",27),d(6,"PNG"),s(),r(7,"option",28),d(8,"JPEG"),s()()(),r(9,"div",24)(10,"label"),d(11,"\uD574\uC0C1\uB3C4 (\uBC30\uC728):"),s(),r(12,"input",29),V("ngModelChange",function(i){g(e);let o=p(3);return F(o.options.image.scale,i)||(o.options.image.scale=i),m(i)}),s()(),w(13,Jl,7,5,"div",30),s()}if(a&2){let e=p(3);c(4),A("ngModel",e.options.image.format),c(8),A("ngModel",e.options.image.scale),c(),f("ngIf",e.options.image.format==="jpeg")}}function tc(a,t){if(a&1&&(r(0,"div",20)(1,"h3"),d(2,"\uBCC0\uD658 \uC635\uC158"),s(),w(3,Xl,8,2,"div",21)(4,ec,14,3,"div",21),s()),a&2){let e=p(2);c(3),f("ngIf",e.selectedType==="ppt"),c(),f("ngIf",e.selectedType==="jpg")}}function nc(a,t){if(a&1&&(r(0,"div",32)(1,"div",33),y(2,"div",34),s(),r(3,"p"),d(4),s()()),a&2){let e=p(2);c(4),R(e.progressMessage)}}function ic(a,t){if(a&1){let e=M();r(0,"div",1),h("click",function(){g(e);let i=p();return m(i.onClose())}),r(1,"div",2),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",3)(3,"h2"),d(4,"\u{1F4C4} \uD30C\uC77C \uBCC0\uD658"),s(),r(5,"button",4),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(6,"\xD7"),s()(),r(7,"div",5)(8,"div",6)(9,"button",7),h("click",function(){g(e);let i=p();return m(i.selectedType="ppt")}),r(10,"div",8),y(11,"img",9),s(),r(12,"div",10),d(13,"PowerPoint"),s(),r(14,"div",11),d(15,"PDF\uB97C PPT\uB85C \uBCC0\uD658"),s()(),r(16,"button",7),h("click",function(){g(e);let i=p();return m(i.selectedType="doc")}),r(17,"div",8),y(18,"img",12),s(),r(19,"div",10),d(20,"Word"),s(),r(21,"div",11),d(22,"PDF\uB97C DOCX\uB85C \uBCC0\uD658"),s()(),r(23,"button",7),h("click",function(){g(e);let i=p();return m(i.selectedType="xls")}),r(24,"div",8),y(25,"img",13),s(),r(26,"div",10),d(27,"Excel"),s(),r(28,"div",11),d(29,"PDF\uB97C XLSX\uB85C \uBCC0\uD658"),s()(),r(30,"button",7),h("click",function(){g(e);let i=p();return m(i.selectedType="jpg")}),r(31,"div",8),y(32,"img",14),s(),r(33,"div",10),d(34,"\uC774\uBBF8\uC9C0"),s(),r(35,"div",11),d(36,"PDF\uB97C \uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658"),s()()(),w(37,tc,5,2,"div",15)(38,nc,5,1,"div",16),s(),r(39,"div",17)(40,"button",18),h("click",function(){g(e);let i=p();return m(i.onClose())}),d(41," \uCDE8\uC18C "),s(),r(42,"button",19),h("click",function(){g(e);let i=p();return m(i.onConvert())}),d(43),s()()()()}if(a&2){let e=p();c(9),O("selected",e.selectedType==="ppt"),c(7),O("selected",e.selectedType==="doc"),c(7),O("selected",e.selectedType==="xls"),c(7),O("selected",e.selectedType==="jpg"),c(7),f("ngIf",e.selectedType),c(),f("ngIf",e.isConverting),c(2),f("disabled",e.isConverting),c(2),f("disabled",!e.selectedType||e.isConverting),c(),N(" ",e.isConverting?"\uBCC0\uD658 \uC911...":"\uBCC0\uD658 \uC2DC\uC791"," ")}}var Vn=class a{constructor(t,e){this.pdfConverter=t;this.snackbar=e}isVisible=!1;pdfSrc=null;fileName="document";close=new E;pdfDocument=null;selectedType=null;isConverting=!1;progressMessage="";options={ppt:{includeThumbnails:!1,fontSize:24},image:{scale:2,format:"png",quality:.92}};onClose(){this.isConverting||(this.selectedType=null,this.close.emit())}onConvert(){return P(this,null,function*(){if(!(!this.selectedType||this.isConverting)){if(!this.pdfDocument&&this.pdfSrc)try{this.progressMessage="PDF \uD30C\uC77C \uB85C\uB4DC \uC911...",this.pdfDocument=yield this.pdfConverter.loadPdfDocument(this.pdfSrc)}catch(t){console.error("PDF \uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("PDF \uD30C\uC77C\uC744 \uB85C\uB4DC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}if(!this.pdfDocument){this.snackbar.showError("PDF \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.isConverting=!0;try{switch(this.selectedType){case"ppt":this.progressMessage="PowerPoint \uD30C\uC77C\uB85C \uBCC0\uD658 \uC911...",yield this.pdfConverter.exportToPpt(this.pdfDocument,this.fileName,this.options.ppt),this.snackbar.showSuccess("\u2705 PowerPoint \uBCC0\uD658 \uC644\uB8CC!");break;case"doc":this.progressMessage="Word \uBB38\uC11C\uB85C \uBCC0\uD658 \uC911...",yield this.pdfConverter.exportToDocx(this.pdfDocument,this.fileName),this.snackbar.showSuccess("\u2705 Word \uBCC0\uD658 \uC644\uB8CC!");break;case"xls":this.progressMessage="Excel \uD30C\uC77C\uB85C \uBCC0\uD658 \uC911...",yield this.pdfConverter.exportToExcel(this.pdfDocument,this.fileName),this.snackbar.showSuccess("\u2705 Excel \uBCC0\uD658 \uC644\uB8CC!");break;case"jpg":this.progressMessage="\uC774\uBBF8\uC9C0\uB85C \uBCC0\uD658 \uC911...",yield this.pdfConverter.exportToImage(this.pdfDocument,this.fileName,this.options.image),this.snackbar.showSuccess("\u2705 \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC644\uB8CC!");break}setTimeout(()=>{this.onClose()},500)}catch(t){console.error("\u274C \uBCC0\uD658 \uC2E4\uD328:",t),this.snackbar.showError(`\uBCC0\uD658 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4: ${t}`)}finally{this.isConverting=!1,this.progressMessage=""}}})}static \u0275fac=function(e){return new(e||a)(G(wo),G(ze))};static \u0275cmp=L({type:a,selectors:[["app-ez-file-conversion-modal"]],inputs:{isVisible:"isVisible",pdfSrc:"pdfSrc",fileName:"fileName"},outputs:{close:"close"},standalone:!1,decls:1,vars:1,consts:[["class","conversion-modal-overlay",3,"click",4,"ngIf"],[1,"conversion-modal-overlay",3,"click"],[1,"conversion-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"conversion-type-grid"],[1,"conversion-type-card",3,"click"],[1,"card-icon"],["src","./images/btn-gnb-ppt@3x.png","alt","PPT","width","48","height","48"],[1,"card-title"],[1,"card-desc"],["src","./images/btn-gnb-doc@3x.png","alt","DOC","width","48","height","48"],["src","./images/btn-gnb-xls@3x.png","alt","XLS","width","48","height","48"],["src","./images/btn-gnb-jpg@3x.png","alt","JPG","width","48","height","48"],["class","conversion-options",4,"ngIf"],["class","conversion-progress",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-cancel",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"conversion-options"],["class","option-group",4,"ngIf"],[1,"option-group"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"option-item"],["type","number","min","12","max","48",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","png"],["value","jpeg"],["type","number","min","1","max","4","step","0.5",3,"ngModelChange","ngModel"],["class","option-item",4,"ngIf"],["type","range","min","0.1","max","1","step","0.1",3,"ngModelChange","ngModel"],[1,"conversion-progress"],[1,"progress-spinner"],[1,"spinner"]],template:function(e,n){e&1&&w(0,ic,44,13,"div",0),e&2&&f("ngIf",n.isVisible)},dependencies:[Q,Ae,Ve,le,pt,gt,dt,We,ce,cn,zi,de,Bi],styles:[".conversion-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out}.conversion-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 10px 40px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.conversion-type-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:24px}.conversion-type-card[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid transparent;border-radius:8px;padding:20px;cursor:pointer;transition:all .2s;text-align:center}.conversion-type-card[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6}.conversion-type-card.selected[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#2196f3}.conversion-type-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{margin-bottom:12px}.conversion-type-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.conversion-type-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.conversion-type-card[_ngcontent-%COMP%]   .card-desc[_ngcontent-%COMP%]{font-size:13px;color:#666}.conversion-options[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:16px}.conversion-options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#333}.conversion-options[_ngcontent-%COMP%]   .option-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:100px;font-size:14px;color:#666}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:focus, .conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{padding:0}.conversion-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:50px;font-size:14px;color:#666}.conversion-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#666;cursor:pointer}.conversion-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.conversion-progress[_ngcontent-%COMP%]{text-align:center;padding:32px 0}.conversion-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.conversion-progress[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #f3f3f3;border-top:4px solid #2196f3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}.conversion-progress[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e0e0}.btn-primary[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1976d2}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var In=class a{title="\uAC1C\uBC1C\uC911";description="\uC774 \uAE30\uB2A5\uC740 \uD604\uC7AC \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4.";static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-ez-under-development"]],inputs:{title:"title",description:"description"},standalone:!1,decls:12,vars:2,consts:[[1,"under-development-panel"],[1,"panel-content"],[1,"development-message"],[1,"icon"],[1,"progress-info"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"\u{1F6A7}"),s(),r(5,"h3"),d(6),s(),r(7,"p"),d(8),s(),r(9,"div",4)(10,"p"),d(11,"\uBE60\uB978 \uC2DC\uC77C \uB0B4\uC5D0 \uC644\uC131\uB420 \uC608\uC815\uC785\uB2C8\uB2E4."),s()()()()()),e&2&&(c(6),R(n.title),c(2),R(n.description))},styles:[".under-development-panel[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 120px);background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;overflow:hidden}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:40px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]{text-align:center;max-width:400px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:24px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#333;margin-bottom:16px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.5;margin-bottom:24px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{padding:16px 20px;background:#f8f9fa;border-radius:8px;border-left:4px solid #007bff}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:14px}@media (max-width: 768px){.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:24px 16px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:12px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:16px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{padding:12px 16px}.under-development-panel[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .development-message[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}"]})};var zn=class a{message="";isVisible=!1;duration=3e3;close=new E;ngOnInit(){this.isVisible&&this.duration>0&&setTimeout(()=>{this.onClose()},this.duration)}ngOnChanges(){this.isVisible&&this.duration>0&&setTimeout(()=>{this.onClose()},this.duration)}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-ez-snackbar"]],inputs:{message:"message",isVisible:"isVisible",duration:"duration"},outputs:{close:"close"},standalone:!1,features:[ve],decls:13,vars:3,consts:[[1,"snackbar"],[1,"snackbar-content"],[1,"snackbar-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","12","r","10","stroke","#ff9800","stroke-width","2"],["x1","12","y1","8","x2","12","y2","12","stroke","#ff9800","stroke-width","2","stroke-linecap","round"],["x1","12","y1","16","x2","12.01","y2","16","stroke","#ff9800","stroke-width","2","stroke-linecap","round"],[1,"snackbar-message"],[1,"snackbar-close",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["x1","18","y1","6","x2","6","y2","18","stroke","#666","stroke-width","2","stroke-linecap","round"],["x1","6","y1","6","x2","18","y2","18","stroke","#666","stroke-width","2","stroke-linecap","round"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"span",2),z(),r(3,"svg",3),y(4,"circle",4)(5,"line",5)(6,"line",6),s()(),oe(),r(7,"span",7),d(8),s(),r(9,"button",8),h("click",function(){return n.onClose()}),z(),r(10,"svg",9),y(11,"line",10)(12,"line",11),s()()()()),e&2&&(O("visible",n.isVisible),c(8),R(n.message))},styles:[".snackbar[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%) translateY(100px);background:#333;color:#fff;border-radius:8px;box-shadow:0 4px 12px #0000004d;z-index:10000;opacity:0;transition:all .3s ease;max-width:500px;min-width:300px}.snackbar.visible[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%) translateY(0)}.snackbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px}.snackbar-icon[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.snackbar-message[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;line-height:1.4}.snackbar-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;transition:background .2s;flex-shrink:0}.snackbar-close[_ngcontent-%COMP%]:hover{background:#ffffff1a}"]})};var sc=["tabBar"],lc=["topMenuBar"],cc=(a,t)=>({zoom:a,currentPage:t,height:"100%",showToolbar:!0,showSidebarButton:!0,showFindButton:!0,showPagingButtons:!0,showZoomButtons:!0,showPresentationModeButton:!0,showOpenFileButton:!0,showPrintButton:!0,showDownloadButton:!0,showSecondaryToolbarButton:!0,showRotateButton:!0,showHandToolButton:!0,showSpreadButton:!0,showPropertiesButton:!0,showDrawEditor:!0,showStampEditor:!0,showHighlightEditor:!0,textLayer:!0}),dc=()=>[],pc=()=>({mode:"create",showToolbar:!0,allowExport:!0});function gc(a,t){a&1&&(r(0,"div",44)(1,"div",45),z(),r(2,"svg",46),y(3,"rect",47)(4,"path",38),s(),oe(),r(5,"p"),d(6,"PDF \uD30C\uC77C\uC744 \uC5EC\uAE30\uC5D0 \uB4DC\uB86D\uD558\uC138\uC694"),s()()())}function mc(a,t){if(a&1){let e=M();r(0,"div",48)(1,"app-ez-recent-files",49),h("deleteFile",function(i){g(e);let o=p(2);return m(o.onDeleteRecentFile(i))})("openRecentFile",function(i){g(e);let o=p(2);return m(o.onOpenRecentFile(i))})("openNewFile",function(i){g(e);let o=p(2);return m(o.onFileSelected(i))}),s()()}if(a&2){let e=p(2);c(),f("files",e.recentFiles)}}function uc(a,t){if(a&1){let e=M();r(0,"div",26),h("dragover",function(i){g(e);let o=p();return m(o.onDragOver(i))})("dragenter",function(i){g(e);let o=p();return m(o.onDragEnter(i))})("dragleave",function(i){g(e);let o=p();return m(o.onDragLeave(i))})("drop",function(i){g(e);let o=p();return m(o.onDrop(i))}),w(1,gc,7,0,"div",27),r(2,"div",28)(3,"div",29)(4,"div",30),h("click",function(){g(e);let i=je(28);return m(i.click())}),z(),r(5,"svg",31),y(6,"path",32),s(),oe(),r(7,"h3"),d(8,"PDF \uD30C\uC77C\uC744 \uB4DC\uB798\uADF8\uD558\uAC70\uB098"),y(9,"br"),d(10,"\uD074\uB9AD\uD574\uC11C \uC5C5\uB85C\uB4DC\uD558\uC138\uC694"),s(),r(11,"div",33)(12,"button",34)(13,"span",35),z(),r(14,"svg",36),y(15,"rect",37)(16,"path",38),s()(),d(17," \uD30C\uC77C \uC5F4\uAE30 "),s(),oe(),r(18,"button",39),h("click",function(i){g(e);let o=p();return m(o.createNewDocument(i))}),r(19,"span",35),z(),r(20,"svg",36),y(21,"rect",40)(22,"path",38),s()(),d(23," \uC0C8\uBB38\uC11C \uB9CC\uB4E4\uAE30 "),s()(),oe(),r(24,"p",41),d(25,"\uC9C0\uC6D0 \uD615\uC2DD: PDF \uD30C\uC77C\uB9CC \uAC00\uB2A5"),s()()(),w(26,mc,2,1,"div",42),s(),r(27,"input",43,2),h("change",function(i){g(e);let o=p();return m(o.onFileInputChange(i))}),s()()}if(a&2){let e=p();O("drag-over",e.isDragOver),c(),f("ngIf",e.isDragOver),c(25),f("ngIf",!e.pdfSrc)}}function fc(a,t){if(a&1){let e=M();r(0,"div",57)(1,"app-shared-pdf-left-panel",58),h("close",function(){g(e);let i=p(2);return m(i.toggleLeftPanel())})("thumbnailClick",function(i){g(e);let o=p(2);return m(o.onThumbnailClick(i))}),s()()}if(a&2){let e=p(2);c(),f("isVisible",e.isLeftPanelVisible)("thumbnails",e.leftPanelThumbnails)}}function hc(a,t){if(a&1){let e=M();r(0,"shared-pdf-viewer",59),h("pdfLoaded",function(i){g(e);let o=p(2);return m(o.onPdfLoaded(i))})("pageChange",function(i){g(e);let o=p(2);return m(o.onPageChange(i))})("zoomChange",function(i){g(e);let o=p(2);return m(o.onZoomChange(i))}),s()}if(a&2){let e=p(2);f("pdfSrc",e.pdfSrc)("showFloatingZoom",!0)("config",ki(4,cc,e.zoomLevel,e.currentPage))("useHelperService",!1)}}function _c(a,t){if(a&1){let e=M();r(0,"app-shared-page-reorder",60),h("close",function(){g(e);let i=p(2);return m(i.closePageReorderPanel())})("pageOrderChanged",function(i){g(e);let o=p(2);return m(o.onPageReorderComplete(i))})("deletePages",function(i){g(e);let o=p(2);return m(o.onDeletePages(i))})("confirmDelete",function(i){g(e);let o=p(2);return m(o.onConfirmDelete(i))})("pageSelected",function(i){g(e);let o=p(2);return m(o.onPageSelectedInReorder(i))}),s()}if(a&2){let e=p(2);f("isVisible",e.pageReorderVisible)("currentPageCount",e.totalPages)("pdfSrc",e.originalPdfUrl||e.pdfSrc)}}function bc(a,t){if(a&1){let e=M();r(0,"div",61)(1,"shared-pdf-tools-panel",62),h("addText",function(){g(e);let i=p(2);return m(i.addText())})("addImage",function(){g(e);let i=p(2);return m(i.addImage())})("addShape",function(){g(e);let i=p(2);return m(i.addShape())})("addSignature",function(){g(e);let i=p(2);return m(i.addSignature())})("addWatermark",function(){g(e);let i=p(2);return m(i.addWatermark())})("addVectorPath",function(){g(e);let i=p(2);return m(i.addVectorPath())})("addPage",function(){g(e);let i=p(2);return m(i.addPage())})("deletePage",function(){g(e);let i=p(2);return m(i.deleteCurrentPage())})("zoomIn",function(){g(e);let i=p(2);return m(i.zoomIn())})("zoomOut",function(){g(e);let i=p(2);return m(i.zoomOut())})("rotatePage",function(){g(e);let i=p(2);return m(i.rotateCurrentPage())})("pageSelect",function(i){g(e);let o=p(2);return m(o.onPageSelect(i))})("elementPropertyChange",function(i){g(e);let o=p(2);return m(o.onElementPropertyChange(i))})("deselectElement",function(){g(e);let i=p(2);return m(i.onDeselectElement())})("deleteElement",function(){g(e);let i=p(2);return m(i.onDeleteElement())})("panelAction",function(i){g(e);let o=p(2);return m(o.onSidebarAction(i))})("keepOnlyFirstPage",function(){g(e);let i=p(2);return m(i.keepOnlyFirstPage())})("translationCompleted",function(i){g(e);let o=p(2);return m(o.onTranslationCompleted(i))})("addFormCheckbox",function(){g(e);let i=p(2);return m(i.onAddFormField("checkbox"))})("addFormRadio",function(){g(e);let i=p(2);return m(i.onAddFormField("radio"))})("addFormDropdown",function(){g(e);let i=p(2);return m(i.onAddFormField("dropdown"))})("addFormDateField",function(){g(e);let i=p(2);return m(i.onAddFormField("date"))})("close",function(){g(e);let i=p(2);return m(i.closeRightPanel())})("expand",function(){g(e);let i=p(2);return m(i.expandRightPanel())}),s()()}if(a&2){let e=p(2);O("collapsed",e.isRightPanelCollapsed),c(),f("selectedElement",e.selectedElement)("currentPage",e.currentPage)("totalPages",e.totalPages)("zoomLevel",e.zoomLevel)("pdfPages",$t(14,dc))("isPdfViewer",!!e.pdfSrc)("isCollapsed",e.isRightPanelCollapsed)("openMenuId",e.pdfToolsPanelMenuId)("pdfTextStreamData",e.pdfTextStreamData)("pageThumbnails",e.leftPanelThumbnails)("currentMode",e.currentActiveMenu)("currentMode",e.currentActiveMenu)}}function Cc(a,t){a&1&&y(0,"app-file-conversion")}function xc(a,t){a&1&&y(0,"app-ez-under-development",63)}function vc(a,t){if(a&1&&(r(0,"div",50),w(1,fc,2,2,"div",51)(2,hc,1,7,"shared-pdf-viewer",52)(3,_c,1,3,"app-shared-page-reorder",53)(4,bc,2,15,"div",54)(5,Cc,1,0,"app-file-conversion",55)(6,xc,1,0,"app-ez-under-development",56),s()),a&2){let e=p();c(),f("ngIf",e.isLeftPanelVisible),c(),f("ngIf",!e.pageReorderVisible),c(),f("ngIf",e.pageReorderVisible),c(),f("ngIf",e.showRightPanel&&!e.pageReorderVisible),c(),f("ngIf",e.fileConversionVisible),c(),f("ngIf",e.securityVisible)}}function Pc(a,t){if(a&1){let e=M();r(0,"div",57)(1,"app-shared-pdf-left-panel",58),h("close",function(){g(e);let i=p(2);return m(i.toggleLeftPanel())})("thumbnailClick",function(i){g(e);let o=p(2);return m(o.onThumbnailClick(i))}),s()()}if(a&2){let e=p(2);c(),f("isVisible",e.isLeftPanelVisible)("thumbnails",e.leftPanelThumbnails)}}function wc(a,t){if(a&1){let e=M();r(0,"div",61)(1,"shared-pdf-tools-panel",62),h("addText",function(){g(e);let i=p(2);return m(i.addText())})("addImage",function(){g(e);let i=p(2);return m(i.addImage())})("addShape",function(){g(e);let i=p(2);return m(i.addShape())})("addSignature",function(){g(e);let i=p(2);return m(i.addSignature())})("addWatermark",function(){g(e);let i=p(2);return m(i.addWatermark())})("addVectorPath",function(){g(e);let i=p(2);return m(i.addVectorPath())})("addPage",function(){g(e);let i=p(2);return m(i.addPage())})("deletePage",function(){g(e);let i=p(2);return m(i.deleteCurrentPage())})("zoomIn",function(){g(e);let i=p(2);return m(i.zoomIn())})("zoomOut",function(){g(e);let i=p(2);return m(i.zoomOut())})("rotatePage",function(){g(e);let i=p(2);return m(i.rotateCurrentPage())})("pageSelect",function(i){g(e);let o=p(2);return m(o.onPageSelect(i))})("elementPropertyChange",function(i){g(e);let o=p(2);return m(o.onElementPropertyChange(i))})("deselectElement",function(){g(e);let i=p(2);return m(i.onDeselectElement())})("deleteElement",function(){g(e);let i=p(2);return m(i.onDeleteElement())})("panelAction",function(i){g(e);let o=p(2);return m(o.onSidebarAction(i))})("keepOnlyFirstPage",function(){g(e);let i=p(2);return m(i.keepOnlyFirstPage())})("translationCompleted",function(i){g(e);let o=p(2);return m(o.onTranslationCompleted(i))})("addFormCheckbox",function(){g(e);let i=p(2);return m(i.onAddFormField("checkbox"))})("addFormRadio",function(){g(e);let i=p(2);return m(i.onAddFormField("radio"))})("addFormDropdown",function(){g(e);let i=p(2);return m(i.onAddFormField("dropdown"))})("addFormDateField",function(){g(e);let i=p(2);return m(i.onAddFormField("date"))})("close",function(){g(e);let i=p(2);return m(i.closeRightPanel())})("expand",function(){g(e);let i=p(2);return m(i.expandRightPanel())}),s()()}if(a&2){let e=p(2);O("collapsed",e.isRightPanelCollapsed),c(),f("selectedElement",e.selectedElement)("currentPage",e.currentPage)("totalPages",e.totalPages)("zoomLevel",e.zoomLevel)("pdfPages",e.pdfPages)("isPdfViewer",!1)("isCollapsed",e.isRightPanelCollapsed)("openMenuId",e.pdfToolsPanelMenuId)("pdfTextStreamData",e.pdfTextStreamData)("pageThumbnails",e.leftPanelThumbnails)("currentMode",e.currentActiveMenu)}}function yc(a,t){if(a&1){let e=M();r(0,"div",64),w(1,Pc,2,2,"div",51),r(2,"shared-pdf-editor",65),V("pdfPagesChange",function(i){g(e);let o=p();return F(o.pdfPages,i)||(o.pdfPages=i),m(i)})("showImageCoordinatesChange",function(i){g(e);let o=p();return F(o.showImageCoordinates,i)||(o.showImageCoordinates=i),m(i)}),h("documentCreated",function(i){g(e);let o=p();return m(o.onDocumentCreated(i))})("exportPdf",function(){g(e);let i=p();return m(i.onExportPdf())})("close",function(){g(e);let i=p();return m(i.onClosePdfEditor())})("elementSelected",function(i){g(e);let o=p();return m(o.onElementSelected(i))})("elementUpdated",function(i){g(e);let o=p();return m(o.onElementUpdate(i))}),s(),w(3,wc,2,13,"div",54),s()}if(a&2){let e=p();c(),f("ngIf",e.isLeftPanelVisible),c(),f("config",$t(7,pc))("documentData",e.pdfEditorData)("pdfAnalysisData",e.pdfAnalysisData),A("pdfPages",e.pdfPages)("showImageCoordinates",e.showImageCoordinates),c(),f("ngIf",e.showRightPanel)}}function Mc(a,t){if(a&1){let e=M();r(0,"shared-pdf-analysis-dashboard",68),h("createCombinedDocEvent",function(){g(e);let i=p(2);return m(i.onCreateCombinedDocument())})("viewOriginalEvent",function(){g(e);let i=p(2);return m(i.onViewOriginalDocument())})("createNewDocumentEvent",function(){g(e);let i=p(2);return m(i.onCreateNewDocumentFromAnalysis())})("createImagePdfEvent",function(i){g(e);let o=p(2);return m(o.onCreateImagePdf(i))})("exportPdfEvent",function(){g(e);let i=p(2);return m(i.onExportPdfFromDashboard())})("exportOriginalPdfEvent",function(){g(e);let i=p(2);return m(i.onExportOriginalPdf())})("closeEvent",function(){g(e);let i=p(2);return m(i.onClosePdfAnalysisDashboard())})("click",function(i){return g(e),m(i.stopPropagation())}),s()}if(a&2){let e=p(2);f("analysisData",e.pdfAnalysisData)("vectorData",e.vectorData)("imageData",e.imageData)("analyzedPage",e.selectedAnalysisPage)("isCompact",!1)("isDraggable",!1)("hasGeneratedDocument",e.hasGeneratedDocument)}}function Sc(a,t){if(a&1){let e=M();r(0,"div",66),h("click",function(){g(e);let i=p();return m(i.onClosePdfAnalysisDashboard())}),w(1,Mc,1,7,"shared-pdf-analysis-dashboard",67),s()}if(a&2){let e=p();c(),f("ngIf",!e.pdfAnalysisInProgress&&e.pdfAnalysisData)}}function kc(a,t){if(a&1){let e=M();r(0,"div",69)(1,"div",70),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"h3"),d(3,"\u{1F500} \uC6D0\uBCF8/\uD3B8\uC9D1\uBCF8 \uBCD1\uD569 \uC911..."),s(),r(4,"div",71)(5,"div",72),y(6,"div",73),s(),r(7,"p",74),d(8),s(),r(9,"p",75),d(10),s()()()()}if(a&2){let e=p();c(6),he("width",e.mergeProgressPercent,"%"),c(2),N("",e.mergeProgressPercent,"%"),c(2),R(e.mergeProgressStep)}}function Oc(a,t){if(a&1){let e=M();r(0,"app-merge-modal",17),h("close",function(){g(e);let i=p();return m(i.onMergeModalClose())})("confirm",function(i){g(e);let o=p();return m(o.onMergeModalConfirm(i))}),s()}}function Ec(a,t){if(a&1){let e=M();r(0,"app-text-editor-modal",76),h("save",function(i){g(e);let o=p();return m(o.onTextEditorApply(i))})("cancel",function(){g(e);let i=p();return m(i.onTextEditorCancel())}),s()}if(a&2){let e=p();f("data",e.textEditorData)("pageWidth",595)("pageHeight",842)}}function Dc(a,t){if(a&1){let e=M();r(0,"app-ez-file-conversion-modal",77),h("close",function(){g(e);let i=p();return m(i.onFileConversionModalClose())}),s()}if(a&2){let e=p();f("isVisible",e.showFileConversionModal)("pdfSrc",e.pdfSrc)("fileName",e.currentFileName)}}function Tc(a,t){if(a&1){let e=M();r(0,"app-shared-shape-selection-modal",78),h("shapeSelected",function(i){g(e);let o=p();return m(o.onShapeSelect(i))})("cancel",function(){g(e);let i=p();return m(i.onCancelShapeModal())}),s()}}function Bc(a,t){if(a&1){let e=M();r(0,"app-shared-signature-pad-modal",79),h("signatureCreated",function(i){g(e);let o=p();return m(o.onSignatureCreated(i))})("cancel",function(){g(e);let i=p();return m(i.onCancelSignatureModal())}),s()}}function Fc(a,t){if(a&1){let e=M();r(0,"app-shared-watermark-config-modal",80),h("watermarkCreated",function(i){g(e);let o=p();return m(o.onWatermarkCreated(i))})("cancel",function(){g(e);let i=p();return m(i.onCancelWatermarkModal())}),s()}}function Ac(a,t){if(a&1){let e=M();r(0,"app-vector-path-drawer",81),h("pathsChanged",function(i){g(e);let o=p();return m(o.onVectorPathsChanged(i))})("close",function(){g(e);let i=p();return m(i.onCloseVectorPathDrawer())}),s()}a&2&&f("width",595)("height",842)}function Vc(a,t){if(a&1){let e=M();r(0,"div",82),h("click",function(){g(e);let i=p();return m(i.closeConfirmModal())}),r(1,"div",83),h("click",function(i){return g(e),m(i.stopPropagation())}),r(2,"div",84)(3,"h3"),d(4),s()(),r(5,"div",85)(6,"p"),d(7),s()(),r(8,"div",86)(9,"button",87),h("click",function(){g(e);let i=p();return m(i.closeConfirmModal())}),d(10,"\uCDE8\uC18C"),s(),r(11,"button",88),h("click",function(){g(e);let i=p();return m(i.confirmModalAction())}),d(12,"\uD655\uC778"),s()()()()}if(a&2){let e=p();c(4),R(e.confirmModalTitle),c(3),R(e.confirmModalMessage)}}var Rn=class a{constructor(t,e,n,i,o,l,u,_){this.pdfPageDeleterService=t;this.fileManagerService=e;this.pdfSecurityService=n;this.cdr=i;this.renderer=o;this.router=l;this.route=u;this.authService=_}get isHighlightActive(){return this.currentEditorTool==="highlight"}authSubscription;onOpenRecentFile(t){return P(this,null,function*(){try{if(this.tabBarComponent){let l=this.tabBarComponent.findTabByName(t.name);if(l){console.log("\u2705 \uC774\uBBF8 \uC5F4\uB9B0 \uD0ED\uC73C\uB85C \uC774\uB3D9:",t.name),console.log("\uAE30\uC874 \uD0ED \uC815\uBCF4:",l),this.tabBarComponent.activateTab(l.id),this.snackbar.showInfo(`'${t.name}' \uD0ED\uC73C\uB85C \uC774\uB3D9\uD588\uC2B5\uB2C8\uB2E4.`);return}}this.snackbar.showInfo(`'${t.name}' \uBB38\uC11C\uB97C \uBD88\uB7EC\uC624\uB294 \uC911...`);let e=yield this.indexedDbService.searchDocumentsByTitle(t.name);if(e.length===0){this.snackbar.showWarning("\uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=e[0],i=n.documentType||(n.pdfSrc?"viewer":"editor");i==="viewer"?yield this.loadDocumentAsViewer(n):yield this.loadDocumentAsEditor(n);let o=i==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`'${t.name}' \uBB38\uC11C\uAC00 ${o} \uBAA8\uB4DC\uB85C \uC5F4\uB838\uC2B5\uB2C8\uB2E4.`),this.currentDocumentName=t.name,yield this.updateFavoriteStatus()}catch(e){console.error("Error opening recent file:",e),this.snackbar.showError("\uBB38\uC11C\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}})}recentFiles=[];pdfAnalysisManager=T(mo);pdfElementManager=T(uo);imageUploadService=T(fo);shapeCreatorService=T(ho);signatureService=T(_o);watermarkService=T(ht);vectorPathService=T(bo);docGenerator=T(_t);pdfDocBuilder=T(wn);vectorElementConverter=T(bt);pageBuilder=T(gn);pdfImageExtractor=T(go);debugLogger=T(ft);docStorage=T(yn);indexedDbService=T(mn);pdfPageManager=T(Co);snackbar=T(ze);pdfThumbnailService=T(xo);pdfExportFullService=T(kn);pdfViewerService=T(ji);dialog=T(ao);ngOnInit(){this.loadRecentFiles()}ngAfterViewInit(){}ngOnDestroy(){this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.originalPdfUrl&&(URL.revokeObjectURL(this.originalPdfUrl),this.originalPdfUrl=null),this.authSubscription&&this.authSubscription.unsubscribe()}tabBarComponent;topMenuBarComponent;mergeModalComponent;lockModalComponent;passwordModalComponent;securitySettingsComponent;saveConfirmModalComponent;highlightPropertiesModalComponent;searchModalComponent;titleInputModalComponent;pdfDownloadModalComponent;pdfPrintModalComponent;title="ezReader";pageReorderVisible=!1;fileConversionVisible=!1;securityVisible=!1;selectedPagesInReorder=[];pdfToolsPanelMenuId=null;pdfAnalysisDashboardVisible=!1;pdfAnalysisData=null;vectorData=null;imageData=null;pdfAnalysisInProgress=!1;pdfAnalysisProgress=0;pdfAnalysisStep="";pageSelectorVisible=!1;pageSelectorThumbnails=[];selectedAnalysisPage=1;mergeProgressVisible=!1;mergeProgressStep="";mergeProgressPercent=0;pdfEditorVisible=!1;pdfEditorData=null;currentTabView="home";showRightPanel=!1;isRightPanelCollapsed=!1;selectedElement=null;isLeftPanelVisible=!1;leftPanelThumbnails=[];showImageCoordinates=!1;pdfPages=[];savedEditorState=null;get hasGeneratedDocument(){return this.pdfPages&&this.pdfPages.length>0&&this.pdfPages.some(t=>t.elements&&t.elements.length>0)}showTextEditorModal=!1;textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Noto Sans KR",color:"#000000",x:100,y:100,width:200,height:30};showFileConversionModal=!1;showShapeModal=!1;showSignaturePadModal=!1;showWatermarkConfigModal=!1;showVectorPathDrawer=!1;formFieldLabels={checkbox:"\uCCB4\uD06C\uBC15\uC2A4",radio:"\uB77C\uB514\uC624 \uBC84\uD2BC",dropdown:"\uB4DC\uB86D\uB2E4\uC6B4",date:"\uB0A0\uC9DC \uD544\uB4DC"};showMergeModal=!1;currentHighlightColor="#FFFF00";currentHighlightOpacity=.5;pendingDownload=!1;currentPage=1;totalPages=0;zoomLevel=100;pdfSrc=null;currentEditorTool=null;editorConfig={showHighlightEditor:!0,showDrawEditor:!1,showStampEditor:!1};currentFileName="";currentPdfBlob=null;originalPdfBlob=null;originalPdfUrl=null;currentActiveMenu="\uD648";currentFile=null;currentDocumentName="";currentDocumentIsFavorite=!1;isSettingsOpen=!1;searchQuery="";pdfTextStreamData=null;pageSize="A4";extractedText="";documentMetadata=[];bookmarks=[];isDragOver=!1;dragCounter=0;pdfViewerScale=1;snackbarVisible=!1;snackbarMessage="";loadRecentFiles(){return P(this,null,function*(){try{let t=yield this.indexedDbService.getRecentDocuments(10),e=this.tabBarComponent?.tabs.map(n=>n.name)||[];this.recentFiles=t.map(n=>{let i=n.documentType||(n.pdfSrc?"viewer":"editor"),o=i==="viewer",l=o?"\u{1F4D6}":"\u{1F4DD}",u=o?"\uBDF0\uC5B4":"\uC0DD\uC131",_=n.pageCount||n.pages?.length||0,C="";if(n.fileSize){let x=n.fileSize/1048576;x>=1?C=`${x.toFixed(2)}MB`:C=`${(n.fileSize/1024).toFixed(0)}KB`}let b=_>0?C?`${_}\uC7A5 (${C})`:`${_}\uC7A5`:"0\uC7A5";return{name:n.title,lastModified:new Date(n.updatedAt).toLocaleDateString(),size:b,documentType:i,typeIcon:l,typeLabel:u,isOpen:e.includes(n.title),isFavorite:n.isFavorite||!1}}),console.log("\uCD5C\uADFC \uBB38\uC11C \uB85C\uB4DC:",this.recentFiles.length,"\uAC1C")}catch(t){console.error("Error loading recent files:",t)}})}formatFileSize(t){let e=typeof t=="string"?parseInt(t):t;return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}onFileSelected(t){return P(this,null,function*(){try{this.currentFile=t,this.currentFileName=t.name,this.currentPdfBlob=t,this.currentDocumentName=t.name,this.originalPdfBlob=t,this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=URL.createObjectURL(t),this.currentPage=1,this.totalPages=0,this.leftPanelThumbnails=[],console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uC0C1\uD0DC \uCD08\uAE30\uD654 (\uC0C8 \uD30C\uC77C \uC120\uD0DD)"),this.tabBarComponent&&(yield this.tabBarComponent.setActiveTabPdf(t.name,this.pdfSrc,t),console.log(`\u{1F4BE} Tab updated with PDF: ${t.name}`)),yield this.saveOpenedPdfAsDocument(t),yield this.loadRecentFiles(),yield this.updateFavoriteStatus(),this.showSnackbar(`${t.name} \uD30C\uC77C\uC744 \uC5F4\uC5C8\uC2B5\uB2C8\uB2E4.`),this.cdr.detectChanges()}catch(e){console.error("Error loading PDF:",e),this.showSnackbar("PDF \uD30C\uC77C\uC744 \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}})}onTabChanged(t){console.log("\u{1F4D1} Tab changed:",{fileName:t.fileName,hasPdfSrc:!!t.pdfSrc,view:t.view,pdfSrc:t.pdfSrc,currentPdfSrc:this.pdfSrc,pageCount:t.pageCount,lastViewedPage:t.lastViewedPage});let e=this.pdfSrc,n=this.currentTabView,i=this.currentFileName;if(this.currentFileName=t.fileName,this.currentTabView=t.view,t.view==="editor"?(this.pdfEditorVisible=!0,this.pdfEditorData=t.editorData,t.editorData&&t.editorData.pages?(this.totalPages=t.editorData.pages.length,this.currentPage=t.lastViewedPage||1,this.leftPanelThumbnails=[],this.pdfPages=t.editorData.pages,console.log("\u{1F4C4} \uD3B8\uC9D1\uAE30 \uD398\uC774\uC9C0 \uC218 \uC5C5\uB370\uC774\uD2B8:",this.totalPages),console.log("\u{1F4C4} pdfPages \uBCF5\uC6D0\uB428:",this.pdfPages.length,"\uD398\uC774\uC9C0")):t.pageCount&&(this.totalPages=t.pageCount,this.currentPage=t.lastViewedPage||1,console.log("\u{1F4C4} \uD3B8\uC9D1\uAE30 \uD398\uC774\uC9C0 \uC218 \uBCF5\uC6D0:",this.totalPages))):this.pdfEditorVisible=!1,e&&e!==t.pdfSrc)try{URL.revokeObjectURL(e),console.log("\u{1F5D1}\uFE0F Revoked previous Blob URL")}catch(o){console.warn("Failed to revoke Blob URL:",o)}this.pdfSrc=t.pdfSrc,console.log("\u2705 pdfSrc \uC5C5\uB370\uC774\uD2B8\uB428:",this.pdfSrc),console.log("\u{1F3AF} currentTabView:",this.currentTabView),t.view==="editor"?(this.currentActiveMenu="\uD3B8\uC9D1",console.log("\u{1F4DD} \uD3B8\uC9D1 \uBAA8\uB4DC\uB85C \uC804\uD658 - \uD3B8\uC9D1 \uBA54\uB274 \uD65C\uC131\uD654")):i===t.fileName&&i!=="\uC0C8 \uD0ED"&&e&&t.pdfSrc?console.log("\u{1F504} \uAC19\uC740 \uD30C\uC77C PDF \uC5C5\uB370\uC774\uD2B8 - \uBA54\uB274 \uC720\uC9C0:",this.currentActiveMenu):(this.isLeftPanelVisible=!1,this.showRightPanel=!1,this.isRightPanelCollapsed=!1,this.currentActiveMenu="\uD648",console.log("\u{1F6AA} \uD0ED \uC804\uD658 - \uBDF0\uC5B4 \uBB38\uC11C: \uD648 \uBA54\uB274\uB85C \uBCC0\uACBD"),this.pageReorderVisible=!1,this.fileConversionVisible=!1,this.securityVisible=!1,console.log("\u{1F6AA} \uD0ED \uC804\uD658 - UI \uC0C1\uD0DC \uCD08\uAE30\uD654 (\uD328\uB110 \uB2EB\uAE30)")),t.view==="home"?(this.currentPage=1,this.totalPages=0,this.leftPanelThumbnails=[],this.pdfPages=[],console.log("\u{1F4C4} home \uBDF0\uB85C \uC804\uD658 - \uBAA8\uB4E0 \uC0C1\uD0DC \uCD08\uAE30\uD654"),this.loadRecentFiles()):t.view==="viewer"&&t.pdfSrc&&(e!==t.pdfSrc||n!=="viewer")&&(t.pageCount&&t.pageCount>0?(this.totalPages=t.pageCount,this.currentPage=t.lastViewedPage||1,console.log("\u{1F4C4} \uBDF0\uC5B4 \uD398\uC774\uC9C0 \uC815\uBCF4 \uBCF5\uC6D0:",{totalPages:this.totalPages,currentPage:this.currentPage,startFromHome:this.currentPage===1?"\u2705":"\u274C"})):(this.currentPage=1,this.totalPages=0,console.log("\u{1F4C4} \uBDF0\uC5B4 \uD398\uC774\uC9C0 \uC0C1\uD0DC \uCD08\uAE30\uD654 (\uC0C8 \uBB38\uC11C, 1\uD398\uC774\uC9C0\uBD80\uD130 \uC2DC\uC791)")),this.leftPanelThumbnails=[]),this.cdr.detectChanges(),this.loadRecentFiles()}onMenuAction(t){switch(console.log("Menu action:",t),t){case"translate":this.showRightPanel=!0,this.isRightPanelCollapsed=!1,this.pdfToolsPanelMenuId=this.pdfToolsPanelMenuId==="ai-translate"?null:"ai-translate";break;case"ai-features":this.showRightPanel=!0,this.isRightPanelCollapsed=!1,this.pdfToolsPanelMenuId=this.pdfToolsPanelMenuId==="ai-summary"?null:"ai-summary";break;default:console.warn("Unknown menu action:",t)}}onHeaderAction(t){switch(console.log("\u{1F3AF} [onHeaderAction] \uC2DC\uC791 - action:",t),t){case"zoom-in":console.log("\u{1F50D} [onHeaderAction] zoom-in \uCC98\uB9AC"),this.zoomLevel=Math.min(200,this.zoomLevel+10);break;case"zoom-out":console.log("\u{1F50D} [onHeaderAction] zoom-out \uCC98\uB9AC"),this.zoomLevel=Math.max(50,this.zoomLevel-10);break;case"highlight":console.log("\u{1F58D}\uFE0F [onHeaderAction] highlight \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.currentEditorTool==="highlight"?(console.log("\u{1F58D}\uFE0F [onHeaderAction] \uD558\uC774\uB77C\uC774\uD2B8 \uC774\uBBF8 \uD65C\uC131\uD654 - \uBE44\uD65C\uC131\uD654"),this.onToolbarAction("highlight")):(console.log("\u{1F58D}\uFE0F [onHeaderAction] \uD558\uC774\uB77C\uC774\uD2B8 \uBE44\uD65C\uC131\uD654 - \uBAA8\uB2EC \uC5F4\uAE30"),this.openHighlightPropertiesModal()),console.log("\u{1F58D}\uFE0F [onHeaderAction] highlight \uCC98\uB9AC \uC644\uB8CC");break;case"pen-drawing":console.log("\u{1F58A}\uFE0F [onHeaderAction] pen-drawing \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.onToolbarAction("pen"),console.log("\u{1F58A}\uFE0F [onHeaderAction] onToolbarAction \uD638\uCD9C \uC644\uB8CC");break;case"add-text":console.log("\u{1F4DD} [onHeaderAction] add-text \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.addText(),console.log("\u{1F4DD} [onHeaderAction] addText() \uD638\uCD9C \uC644\uB8CC");break;case"add-image":console.log("\u{1F5BC}\uFE0F [onHeaderAction] add-image \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.addImage(),console.log("\u{1F5BC}\uFE0F [onHeaderAction] addImage() \uD638\uCD9C \uC644\uB8CC");break;case"watermark":console.log("\u{1F4A7} [onHeaderAction] watermark \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.addWatermark(),console.log("\u{1F4A7} [onHeaderAction] addWatermark() \uD638\uCD9C \uC644\uB8CC");break;case"signature":console.log("\u{1F3A8} [onHeaderAction] signature \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.addVectorPath(),console.log("\u{1F3A8} [onHeaderAction] addVectorPath() \uD638\uCD9C \uC644\uB8CC");break;case"merge-original-edited":console.log("\u{1F500} [onHeaderAction] merge-original-edited \uCF00\uC774\uC2A4 \uC9C4\uC785"),this.mergeOriginalAndEdited(),console.log("\u{1F500} [onHeaderAction] mergeOriginalAndEdited() \uD638\uCD9C \uC644\uB8CC");break;case"pdf-analysis":console.log("\u{1F4CA} [onHeaderAction] pdf-analysis \uCC98\uB9AC"),this.openPdfAnalysisDashboard();break;case"toggle-analysis-panel":console.log("\u{1F4CB} [onHeaderAction] toggle-analysis-panel \uCC98\uB9AC"),this.toggleAnalysisPanel();break;case"convert-ppt":case"convert-doc":case"convert-xls":case"convert-jpg":console.log("\u{1F4C4} [onHeaderAction] \uD30C\uC77C \uBCC0\uD658 \uCC98\uB9AC:",t),this.openFileConversionModal();break;case"rotate-left":this.onRotateAllPagesLeft();break;case"rotate-right":this.onRotateAllPagesRight();break;case"delete-page":this.deleteCurrentPage();break;case"upload":this.uploadCurrentPdf();break;case"download":this.exportCurrentPdf();break;case"merge-pdf":this.mergePdfFiles();break;case"lock":this.openLockModal();break;case"password":this.openPasswordModal();break;case"settings":this.openSecuritySettings();break;case"add-favorite":console.log("\u2B50 [onHeaderAction] add-favorite \uCC98\uB9AC"),this.toggleFavorite();break;case"pdf-settings":console.log("\u2699\uFE0F [onHeaderAction] pdf-settings \uCC98\uB9AC"),this.isSettingsOpen=!this.isSettingsOpen;break;default:console.log("\u26A0\uFE0F [onHeaderAction] \uAD6C\uD604\uB418\uC9C0 \uC54A\uC740 \uC561\uC158:",t)}}createNewDocument(t){t.stopPropagation(),console.log("\u{1F4DD} \uC0C8\uBB38\uC11C \uB9CC\uB4E4\uAE30 \uC2DC\uC791"),this.currentTabView="editor",this.currentActiveMenu="\uD3B8\uC9D1",this.pdfEditorData=null,this.pdfPages=[{pageNumber:1,elements:[],width:595,height:842}],this.totalPages=1,this.currentPage=1,this.pdfEditorVisible=!0,this.closeAllPanels(),this.showRightPanel=!1,this.isRightPanelCollapsed=!1,this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("editor",null),console.log("\u2705 \uC0C8\uBB38\uC11C \uD3B8\uC9D1\uAE30 \uC5F4\uB9BC (\uBE48 \uD398\uC774\uC9C0 1\uAC1C, \uD3B8\uC9D1 \uBA54\uB274 \uD65C\uC131\uD654)"),this.showSnackbar("\uC0C8 \uBB38\uC11C\uB97C \uC791\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")}closeAllPanels(){this.pageReorderVisible=!1,this.fileConversionVisible=!1,this.securityVisible=!1,this.pdfAnalysisDashboardVisible=!1}openPdfAnalysisDashboard(t){return P(this,null,function*(){let e=t?.showDashboard!==!1,n=t?.reopenMenu;if(!this.pdfSrc||!this.currentFileName){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}if(this.pdfAnalysisInProgress){this.showSnackbar("PDF \uBD84\uC11D\uC774 \uC9C4\uD589 \uC911\uC785\uB2C8\uB2E4.");return}if(e){console.log("\u{1F4CA} [openPdfAnalysisDashboard] \uD398\uC774\uC9C0 \uC120\uD0DD \uBAA8\uB2EC \uD45C\uC2DC"),yield this.showPageSelectorModal();return}yield this.executePdfAnalysis({showDashboard:e,reopenMenu:n})})}executePdfAnalysis(t){return P(this,null,function*(){let e=t?.showDashboard!==!1,n=t?.reopenMenu;if(!this.pdfSrc||!this.currentFileName){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{this.closeAllPanels(),e&&(this.pdfAnalysisDashboardVisible=!0),this.pdfAnalysisInProgress=!0,this.pdfAnalysisProgress=0,this.pdfAnalysisStep="PDF \uBD84\uC11D \uC2DC\uC791...",console.log("\u{1F3AF} [Ez-Reader] PDF \uBD84\uC11D \uC2DC\uC791",{showDashboard:e,reopenMenu:n,selectedAnalysisPage:this.selectedAnalysisPage,targetPageToSend:this.selectedAnalysisPage});let i=yield this.pdfAnalysisManager.analyzePdf(this.pdfSrc,this.currentFileName,(o,l)=>{this.pdfAnalysisProgress=o,this.pdfAnalysisStep=l},{targetPage:this.selectedAnalysisPage});this.pdfAnalysisData=i.summary,this.vectorData=i.vectorData,this.imageData=i.imageData,this.pdfTextStreamData=i.textStreamData,console.log("\u2705 [Ez-Reader] PDF \uBD84\uC11D \uC644\uB8CC",{hasVectorData:!!this.vectorData,hasImageData:!!this.imageData,hasTextStreamData:!!this.pdfTextStreamData,textStreamPages:this.pdfTextStreamData?.pages?.length||0}),this.pdfAnalysisInProgress=!1,e&&(console.log("\u{1F504} [Ez-Reader] PDF \uBD84\uC11D \uC644\uB8CC - \uD63C\uD569\uC0C8\uBB38\uC11C \uC790\uB3D9 \uC0DD\uC131 \uC2DC\uC791"),setTimeout(()=>P(this,null,function*(){yield this.onCreateCombinedDocument()}),500)),n&&(console.log("\u{1F4C2} \uBD84\uC11D \uC644\uB8CC - \uBA54\uB274 \uB2E4\uC2DC \uC5F4\uAE30:",n),setTimeout(()=>{this.pdfToolsPanelMenuId=n,this.showRightPanel=!0},500))}catch(i){console.error("\u274C [Ez-Reader] PDF \uBD84\uC11D \uC2E4\uD328:",i),this.showSnackbar("PDF \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."),this.pdfAnalysisInProgress=!1,e&&(this.pdfAnalysisDashboardVisible=!1)}})}onClosePdfAnalysisDashboard(){this.pdfAnalysisDashboardVisible=!1,this.pdfAnalysisData=null,this.vectorData=null,this.imageData=null,this.pdfTextStreamData=null}toggleAnalysisPanel(){if(console.log("\u{1F4CB} [Ez-Reader] PDF \uBD84\uC11D \uC815\uBCF4 \uD328\uB110 \uD1A0\uAE00"),!this.pdfAnalysisData){this.showSnackbar("\uBA3C\uC800 PDF \uBD84\uC11D\uC744 \uC2E4\uD589\uD574\uC8FC\uC138\uC694.");return}this.pdfAnalysisDashboardVisible=!this.pdfAnalysisDashboardVisible,console.log("\u{1F4CB} \uD328\uB110 \uC0C1\uD0DC:",this.pdfAnalysisDashboardVisible?"\uC5F4\uB9BC":"\uB2EB\uD798")}onViewOriginalDocument(){if(console.log("\u{1F441}\uFE0F [Ez-Reader] \uC6D0\uBCF8 PDF \uBCF4\uAE30 \uC694\uCCAD"),!this.pdfSrc){this.showSnackbar("\uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.pdfEditorVisible&&this.hasGeneratedDocument&&(console.log("\u{1F4BE} [Ez-Reader] \uD3B8\uC9D1 \uC0C1\uD0DC \uBC31\uC5C5"),this.savedEditorState={pdfPages:JSON.parse(JSON.stringify(this.pdfPages)),pdfEditorVisible:this.pdfEditorVisible,pdfAnalysisData:this.pdfAnalysisData}),this.currentTabView="viewer",this.pdfEditorVisible=!1,this.pdfAnalysisDashboardVisible=!1,this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("viewer",null),console.log("\u2705 [Ez-Reader] \uC6D0\uBCF8 PDF \uBDF0\uC5B4\uB85C \uC804\uD658 \uC644\uB8CC"),this.showSnackbar("\uC6D0\uBCF8 PDF\uB97C \uD45C\uC2DC\uD569\uB2C8\uB2E4.")}onCreateNewDocumentFromAnalysis(){return P(this,null,function*(){if(console.log("\u{1F4DD} [Ez-Reader] \uBD84\uC11D \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C \uC0C8\uBB38\uC11C \uB9CC\uB4E4\uAE30 \uC694\uCCAD"),this.pdfPages&&this.pdfPages.length>0&&this.pdfPages.some(e=>e.elements&&e.elements.length>0))console.log("\u2705 [Ez-Reader] \uC774\uBBF8 \uC0DD\uC131\uB41C \uBB38\uC11C \uBC1C\uACAC - \uAE30\uC874 \uBB38\uC11C \uD45C\uC2DC"),console.log("   - \uD398\uC774\uC9C0 \uC218:",this.pdfPages.length),console.log("   - \uD604\uC7AC \uD398\uC774\uC9C0:",this.currentPage),this.currentTabView="editor",this.currentActiveMenu="\uD3B8\uC9D1",this.pdfEditorVisible=!0,this.pdfAnalysisDashboardVisible=!1,this.closeAllPanels(),this.showRightPanel=!1,this.isRightPanelCollapsed=!1,this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("editor",null),this.showSnackbar(`\uD3B8\uC9D1 \uBB38\uC11C\uB97C \uD45C\uC2DC\uD569\uB2C8\uB2E4 (${this.pdfPages.length}\uD398\uC774\uC9C0)`);else{console.log("\u{1F4DD} [Ez-Reader] \uC0DD\uC131\uB41C \uBB38\uC11C \uC5C6\uC74C - \uC0C8 \uBE48 \uBB38\uC11C \uC0DD\uC131");let e=595,n=842;if(this.pdfAnalysisData&&this.pdfAnalysisData.pageWidth&&this.pdfAnalysisData.pageHeight)e=this.pdfAnalysisData.pageWidth,n=this.pdfAnalysisData.pageHeight,console.log("\u{1F4D0} \uBD84\uC11D \uB370\uC774\uD130\uC5D0\uC11C \uD398\uC774\uC9C0 \uD06C\uAE30 \uAC00\uC838\uC634:",{pageWidth:e,pageHeight:n});else if(this.pdfSrc)try{let o=yield this.docGenerator.getPdfPageSize(this.pdfSrc);o&&(e=o.width,n=o.height,console.log("\u{1F4D0} \uC6D0\uBCF8 PDF\uC5D0\uC11C \uD398\uC774\uC9C0 \uD06C\uAE30 \uAC00\uC838\uC634:",{pageWidth:e,pageHeight:n,orientation:o.orientation}))}catch(o){console.warn("\u26A0\uFE0F PDF \uD06C\uAE30 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328, \uAE30\uBCF8\uAC12 \uC0AC\uC6A9:",o)}this.currentTabView="editor",this.currentActiveMenu="\uD3B8\uC9D1",this.pdfEditorData=null,this.pdfPages=[{pageNumber:1,elements:[],width:e,height:n}],this.totalPages=1,this.currentPage=1,this.pdfEditorVisible=!0,this.pdfAnalysisDashboardVisible=!1,this.closeAllPanels(),this.showRightPanel=!1,this.isRightPanelCollapsed=!1,this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("editor",null);let i=e>n?"\uAC00\uB85C":"\uC138\uB85C";this.showSnackbar(`\uC0C8 \uBB38\uC11C\uB97C \uC791\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4 (${i} ${Math.round(e)}x${Math.round(n)}pt)`)}console.log("\u2705 [Ez-Reader] \uC0C8\uBB38\uC11C \uD3B8\uC9D1\uAE30\uB85C \uC804\uD658 \uC644\uB8CC")})}onCreateCombinedDocument(){return P(this,null,function*(){if(console.log("\u{1F4C4} [Ez-Reader] \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC694\uCCAD"),!this.pdfAnalysisData){this.showSnackbar("\uBD84\uC11D \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}if(console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\u{1F50D} [Ez-Reader] \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC804 \uB370\uC774\uD130 \uC0C1\uD0DC:"),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("1. vectorData:",!!this.vectorData),this.vectorData&&(console.log("   - totalOperations:",this.vectorData.totalOperations),console.log("   - pageCount:",this.vectorData.pageCount),console.log("   - pageDetails.length:",this.vectorData.pageDetails?.length),this.vectorData.pageDetails&&this.vectorData.pageDetails.length>0)){let t=this.vectorData.pageDetails[0];console.log("   - \uCCAB \uD398\uC774\uC9C0 operations:",t.operations?.length),console.log("   - \uCCAB \uD398\uC774\uC9C0 svgContent:",!!t.svgContent),console.log("   - \uCCAB \uD398\uC774\uC9C0 svgContent \uAE38\uC774:",t.svgContent?.length||0),console.log("   - \uCCAB \uD398\uC774\uC9C0 originalSvg:",!!t.originalSvg),console.log("   - \uCCAB \uD398\uC774\uC9C0 \uBAA8\uB4E0 \uD0A4:",Object.keys(t))}console.log("2. pdfTextStreamData:",!!this.pdfTextStreamData),this.pdfTextStreamData&&(console.log("   - pageCount:",this.pdfTextStreamData.pageCount),console.log("   - pages.length:",this.pdfTextStreamData.pages?.length),console.log("   - totalTextItems:",this.pdfTextStreamData.metadata?.totalTextItems)),console.log("3. pdfAnalysisData:",!!this.pdfAnalysisData),this.pdfAnalysisData&&(console.log("   \u2B50 hasVectorGraphics:",this.pdfAnalysisData.hasVectorGraphics),console.log("   \u2B50 hasText:",this.pdfAnalysisData.totalTextItems>0),console.log("   - hasImages:",this.pdfAnalysisData.hasImages),console.log("   - totalVectorOperations:",this.pdfAnalysisData.totalVectorOperations),console.log("   - totalTextItems:",this.pdfAnalysisData.totalTextItems)),console.log("\u{1F50D} \uBCA1\uD130 \uAC80\uC99D \uC870\uAC74:"),console.log("   - vectorData \uC874\uC7AC:",!!this.vectorData),console.log("   - pdfAnalysisData.hasVectorGraphics:",this.pdfAnalysisData?.hasVectorGraphics),console.log("   - \uCD5C\uC885 hasVector:",!!(this.vectorData&&this.pdfAnalysisData?.hasVectorGraphics)),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501");try{this.showSnackbar("\u{1F3A8} \uD63C\uD569 \uBB38\uC11C\uB97C \uC0DD\uC131\uD558\uB294 \uC911...");let t=this.totalPages;console.log("\u{1F4CA} \uC6D0\uBCF8 PDF \uCD1D \uD398\uC774\uC9C0 \uC218:",t);let e=595,n=842;if(this.pdfAnalysisData&&this.pdfAnalysisData.pageWidth&&this.pdfAnalysisData.pageHeight)e=this.pdfAnalysisData.pageWidth,n=this.pdfAnalysisData.pageHeight,console.log("\u{1F4D0} [\uD63C\uD569\uBB38\uC11C] \uBD84\uC11D \uB370\uC774\uD130\uC5D0\uC11C \uD398\uC774\uC9C0 \uD06C\uAE30 \uAC00\uC838\uC634:",{pageWidth:e,pageHeight:n});else if(this.pdfSrc)try{let l=yield this.docGenerator.getPdfPageSize(this.pdfSrc);l&&(e=l.width,n=l.height,console.log("\u{1F4D0} [\uD63C\uD569\uBB38\uC11C] \uC6D0\uBCF8 PDF\uC5D0\uC11C \uD398\uC774\uC9C0 \uD06C\uAE30 \uAC00\uC838\uC634:",{pageWidth:e,pageHeight:n,orientation:l.orientation}))}catch(l){console.warn("\u26A0\uFE0F [\uD63C\uD569\uBB38\uC11C] PDF \uD06C\uAE30 \uAC00\uC838\uC624\uAE30 \uC2E4\uD328, \uAE30\uBCF8\uAC12 \uC0AC\uC6A9:",l)}let i=e>n?"\uAC00\uB85C":"\uC138\uB85C";console.log(`\u2705 [\uD63C\uD569\uBB38\uC11C] \uC0AC\uC6A9\uD560 \uD398\uC774\uC9C0 \uD06C\uAE30: ${i} ${Math.round(e)}x${Math.round(n)}pt`),console.log("\u{1F50D} [\uD63C\uD569\uBB38\uC11C] pdfAnalysisData \uC774\uBBF8\uC9C0 \uC815\uBCF4:",{hasPdfAnalysisData:!!this.pdfAnalysisData,hasImages:this.pdfAnalysisData?.hasImages,hasImageInfo:!!this.pdfAnalysisData?.imageInfo,totalImages:this.pdfAnalysisData?.imageInfo?.totalImages,imagesArrayLength:this.pdfAnalysisData?.imageInfo?.images?.length}),this.pdfAnalysisData&&this.pdfAnalysisData.imageInfo&&(console.log("\u{1F527} [\uD63C\uD569\uBB38\uC11C] hasImages/totalImages \uAC15\uC81C \uC124\uC815"),this.pdfAnalysisData.hasImages=!0,!this.pdfAnalysisData.imageInfo.totalImages&&this.pdfAnalysisData.imageInfo.images&&(this.pdfAnalysisData.imageInfo.totalImages=this.pdfAnalysisData.imageInfo.images.reduce((l,u)=>l+(u.images?.length||0),0)),console.log("   hasImages:",this.pdfAnalysisData.hasImages),console.log("   totalImages:",this.pdfAnalysisData.imageInfo.totalImages));let o=yield this.docGenerator.createCombinedDocument({debugLogger:this.debugLogger,pdfDocBuilder:this.pdfDocBuilder,vectorElementConverter:this.vectorElementConverter,pageBuilder:this.pageBuilder,loadedVectorData:this.vectorData,textStreamRawData:this.pdfTextStreamData,pdfAnalysisData:this.pdfAnalysisData,pdfPages:[],pageWidth:e,pageHeight:n,totalPages:0,currentPage:1,initializeNewDocument:this.initializeNewDocumentForCombined.bind(this),extractImagesFromPdf:this.extractImagesFromPdfForCombined.bind(this),addDebugLog:(l,u)=>{console.log(`[${l}] ${u}`)},groupTextItems:this.groupTextItemsForCombined.bind(this),closeAllModals:()=>{this.closeAllPanels()},cdr:this.cdr});if(o.success&&o.pdfPages){if(this.pdfPages=o.pdfPages,this.totalPages=o.totalPages||0,this.currentPage=o.currentPage||1,this.currentTabView="editor",this.currentActiveMenu="\uD3B8\uC9D1",this.pdfAnalysisDashboardVisible=!1,this.pdfEditorVisible=!0,this.tabBarComponent){let l={pages:this.pdfPages,currentPage:this.currentPage,totalPages:this.totalPages,targetPage:this.selectedAnalysisPage,originalTotalPages:t};this.pdfEditorData=l,this.tabBarComponent.updateActiveTabView("editor",l)}console.log("\u2705 [Ez-Reader] \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC:",{totalPages:this.pdfPages.length,currentPage:this.currentPage,targetPage:this.selectedAnalysisPage,originalTotalPages:t}),this.showSnackbar(`\u2705 \uD63C\uD569 \uBB38\uC11C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4! (${this.pdfPages.length}\uD398\uC774\uC9C0)`)}else console.error("\u274C [Ez-Reader] \uBB38\uC11C \uC0DD\uC131 \uC2E4\uD328"),this.showSnackbar("\uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("\u274C [Ez-Reader] \uD63C\uD569 \uBB38\uC11C \uC0DD\uC131 \uC624\uB958:",t),this.showSnackbar("\uBB38\uC11C \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}onDocumentCreated(t){console.log("\u2705 [Ez-Reader] \uBB38\uC11C \uC0DD\uC131 \uC644\uB8CC:",t),t.success?this.showSnackbar(`\uBB38\uC11C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4! (${t.totalPages}\uCABD)`):this.showSnackbar("\uBB38\uC11C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}onCreateImagePdf(t){return P(this,null,function*(){try{console.log("\u{1F5BC}\uFE0F [Ez-Reader] \uC774\uBBF8\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC, \uD3B8\uC9D1\uAE30\uB85C \uC804\uD658");let e=URL.createObjectURL(t),n=this.totalPages;this.pdfPages=[],this.totalPages=0,this.currentPage=1,this.pdfEditorVisible=!0,this.pdfEditorData={pdfSrc:e,fileName:"\uC774\uBBF8\uC9C0_\uCD94\uCD9C.pdf",documentType:"editor",targetPage:this.selectedAnalysisPage,originalTotalPages:n},this.currentTabView="editor",this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("editor",this.pdfEditorData),this.pdfAnalysisDashboardVisible=!1,console.log("\u2705 [Ez-Reader] \uC774\uBBF8\uC9C0 PDF \uD3B8\uC9D1\uAE30\uB85C \uC5F4\uAE30 \uC644\uB8CC")}catch(e){console.error("\u274C [Ez-Reader] \uC774\uBBF8\uC9C0 PDF \uC5F4\uAE30 \uC624\uB958:",e),this.showSnackbar("\uC774\uBBF8\uC9C0 PDF\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}})}onClosePdfEditor(){console.log("\u{1F6AA} [Ez-Reader] PDF \uD3B8\uC9D1\uAE30 \uB2EB\uAE30"),this.pdfEditorVisible=!1,this.pdfEditorData=null,this.pdfSrc?this.currentTabView="viewer":this.currentTabView="home",this.showRightPanel=!1,this.isRightPanelCollapsed=!1,this.tabBarComponent&&this.tabBarComponent.updateActiveTabView(this.currentTabView,null),console.log("\u2705 [Ez-Reader] \uBCF5\uADC0 \uC644\uB8CC (currentTabView:",this.currentTabView,")")}onExportPdf(){console.log("\u{1F4BE} [Ez-Reader] PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC694\uCCAD"),this.showSnackbar("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uAE30\uB2A5\uC740 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.")}onExportPdfFromDashboard(){return P(this,null,function*(){if(console.log("\u{1F4BE} [Ez-Reader] \uB300\uC2DC\uBCF4\uB4DC\uC5D0\uC11C PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC694\uCCAD"),this.pdfPages&&this.pdfPages.length>0){console.log("\u{1F4C4} \uD604\uC7AC \uD3B8\uC9D1 \uC911\uC778 \uBB38\uC11C \uB0B4\uBCF4\uB0B4\uAE30:",this.pdfPages.length,"\uD398\uC774\uC9C0");try{this.snackbar.showInfo("PDF\uB97C \uC0DD\uC131\uD558\uB294 \uC911...");let t=yield PDFLib.PDFDocument.create();for(let l of this.pdfPages){let u=l.width||595,_=l.height||842,C=t.addPage([u,_]);for(let b of l.elements)b.type==="text"&&C.drawText(b.text||"",{x:b.x,y:_-b.y-(b.height||12),size:b.fontSize||12,color:PDFLib.rgb(0,0,0)})}let e=yield t.save(),n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`\uD3B8\uC9D1\uBB38\uC11C_${new Date().getTime()}.pdf`,o.click(),URL.revokeObjectURL(i),this.snackbar.showSuccess("PDF \uB0B4\uBCF4\uB0B4\uAE30\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u2705 PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC644\uB8CC")}catch(t){console.error("\u274C PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2E4\uD328:",t),this.snackbar.showError("PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}else this.snackbar.showInfo('\uBA3C\uC800 "\uC0C8 PDF \uBB38\uC11C \uC0DD\uC131" \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC5EC \uD3B8\uC9D1 \uAC00\uB2A5\uD55C \uBB38\uC11C\uB97C \uB9CC\uB4E4\uC5B4\uC8FC\uC138\uC694.'),console.log("\u26A0\uFE0F \uD3B8\uC9D1 \uC911\uC778 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA3C\uC800 \uBB38\uC11C\uB97C \uC0DD\uC131\uD574\uC57C \uD569\uB2C8\uB2E4.")})}onExportOriginalPdf(){if(console.log("\u{1F4BE} [Ez-Reader] \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC694\uCCAD"),!this.pdfSrc){this.snackbar.showWarning("\uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{fetch(this.pdfSrc).then(t=>t.blob()).then(t=>{let e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=`\uC6D0\uBCF8PDF_${new Date().getTime()}.pdf`,n.click(),URL.revokeObjectURL(e),this.snackbar.showSuccess("\uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u2705 \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC")}).catch(t=>{console.error("\u274C \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("\uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")})}catch(t){console.error("\u274C \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",t),this.snackbar.showError("\uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}}onSearchChange(t){this.searchQuery=t,console.log("Search query:",t)}onSearchButtonClick(){console.log("\u{1F50D} [onSearchButtonClick] \uAC80\uC0C9 \uBC84\uD2BC \uD074\uB9AD"),this.searchModalComponent?this.searchModalComponent.open():(console.warn("\u26A0\uFE0F SearchModalComponent\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showWarning("\uAC80\uC0C9 \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))}onSearchModalSearch(t){try{this.pdfViewerService.find(t.query,{matchCase:t.caseSensitive,wholeWords:t.wholeWords,highlightAll:t.highlightAll,matchDiacritics:!1})}catch(e){console.error("\u274C \uAC80\uC0C9 \uC2E4\uD589 \uC2E4\uD328:",e)}}onSearchModalClose(){console.log("\u{1F50D} [onSearchModalClose] \uAC80\uC0C9 \uBAA8\uB2EC \uB2EB\uAE30")}onPdfLoaded(t){console.log("\u2705 PDF \uB85C\uB4DC \uC644\uB8CC:",t),this.totalPages=t.pagesCount||0,console.log("\u{1F4C4} \uCD1D \uD398\uC774\uC9C0 \uC218:",this.totalPages),this.tabBarComponent&&this.totalPages>0&&(this.tabBarComponent.updateActiveTabPageInfo(this.totalPages,this.currentPage),console.log("\u{1F4BE} \uD0ED\uC5D0 \uD398\uC774\uC9C0 \uC815\uBCF4 \uC800\uC7A5:",{totalPages:this.totalPages,currentPage:this.currentPage})),this.currentFile&&this.totalPages>0&&this.updateDocumentPageCount(this.currentFile.name,this.totalPages,this.currentFile.size),setTimeout(()=>{let e=window.PDFViewerApplication;e?(console.log("\u2705 PDFViewerApplication \uC0AC\uC6A9 \uAC00\uB2A5:",e),console.log("\u{1F4CC} pdfViewer:",e.pdfViewer),console.log("\u{1F4CC} eventBus:",e.eventBus)):console.warn("\u26A0\uFE0F PDFViewerApplication\uC774 \uC544\uC9C1 \uCD08\uAE30\uD654\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")},500),this.isLeftPanelVisible&&this.generateThumbnails(),this.cdr.detectChanges()}onPageChange(t){console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uBCC0\uACBD:",t),this.currentPage=t,this.leftPanelThumbnails.forEach(e=>{e.active=e.pageNumber===t}),this.tabBarComponent&&this.tabBarComponent.updateActiveTabPageInfo(this.totalPages,this.currentPage),this.cdr.detectChanges()}onZoomChange(t){console.log("\u{1F50D} \uC90C \uBCC0\uACBD:",t),this.zoomLevel=t}onToolbarAction(t){switch(console.log("\u{1F6E0}\uFE0F [onToolbarAction] \uC2DC\uC791 - action:",t),console.log("\u{1F4CC} [onToolbarAction] \uD604\uC7AC \uC0C1\uD0DC:",{pdfSrc:this.pdfSrc,currentEditorTool:this.currentEditorTool,editorConfig:this.editorConfig}),t){case"zoom-in":this.zoomLevel=Math.min(this.zoomLevel+10,200),this.currentEditorTool="zoom-in",this.snackbar.showInfo(`\uD655\uB300: ${this.zoomLevel}%`),this.cdr.detectChanges();break;case"zoom-out":this.zoomLevel=Math.max(this.zoomLevel-10,50),this.currentEditorTool="zoom-out",this.snackbar.showInfo(`\uCD95\uC18C: ${this.zoomLevel}%`),this.cdr.detectChanges();break;case"highlight":console.log("\u{1F58D}\uFE0F [onToolbarAction] highlight \uCF00\uC774\uC2A4 \uC9C4\uC785"),console.log("\u{1F58D}\uFE0F [onToolbarAction] \uD604\uC7AC currentEditorTool:",this.currentEditorTool);let e=this.currentEditorTool==="highlight";this.currentEditorTool=e?null:"highlight",console.log("\u{1F58D}\uFE0F [onToolbarAction] \uBCC0\uACBD \uD6C4 currentEditorTool:",this.currentEditorTool),e?(console.log("\u274C [onToolbarAction] \uD558\uC774\uB77C\uC774\uD2B8 \uBE44\uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD558\uC774\uB77C\uC774\uD2B8 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654"),this.cdr.detectChanges(),setTimeout(()=>{this.deactivatePdfEditor()},100)):(console.log("\u2705 [onToolbarAction] \uD558\uC774\uB77C\uC774\uD2B8 \uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD558\uC774\uB77C\uC774\uD2B8 \uBAA8\uB4DC \uD65C\uC131\uD654 - \uD14D\uC2A4\uD2B8\uB97C \uC120\uD0DD\uD558\uC138\uC694"),console.log("\u{1F4E3} [onToolbarAction] \uC2A4\uB0B5\uBC14 \uBA54\uC2DC\uC9C0 \uD45C\uC2DC \uC644\uB8CC"),this.cdr.detectChanges(),console.log("\u{1F504} [onToolbarAction] detectChanges \uC644\uB8CC"),console.log("\u23F1\uFE0F [onToolbarAction] setTimeout \uB4F1\uB85D (200ms)"),setTimeout(()=>{console.log("\u{1F680} [onToolbarAction] setTimeout \uCF5C\uBC31 \uC2E4\uD589"),this.activatePdfEditor("highlight")},200)),console.log("\u{1F3C1} [onToolbarAction] highlight \uCF00\uC774\uC2A4 \uC644\uB8CC");break;case"shape":this.editorConfig.showStampEditor=!this.editorConfig.showStampEditor,this.currentEditorTool=this.editorConfig.showStampEditor?"shape":null,this.editorConfig.showStampEditor?(this.editorConfig.showHighlightEditor=!1,this.editorConfig.showDrawEditor=!1,this.snackbar.showInfo("\uB3C4\uD615 \uADF8\uB9AC\uAE30 \uBAA8\uB4DC \uD65C\uC131\uD654 - \uD074\uB9AD\uD558\uC5EC \uB3C4\uD615\uC744 \uCD94\uAC00\uD558\uC138\uC694"),setTimeout(()=>{this.activatePdfEditor("stamp")},100)):(this.snackbar.showInfo("\uB3C4\uD615 \uADF8\uB9AC\uAE30 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654"),this.deactivatePdfEditor());break;case"pen":console.log("\u{1F58A}\uFE0F [onToolbarAction] pen \uCF00\uC774\uC2A4 \uC9C4\uC785"),console.log("\u{1F58A}\uFE0F [onToolbarAction] \uD604\uC7AC currentEditorTool:",this.currentEditorTool);let n=this.currentEditorTool==="pen";this.currentEditorTool=n?null:"pen",console.log("\u{1F58A}\uFE0F [onToolbarAction] \uBCC0\uACBD \uD6C4 currentEditorTool:",this.currentEditorTool),n?(console.log("\u274C [onToolbarAction] \uD39C \uBE44\uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD39C \uADF8\uB9AC\uAE30 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654"),this.cdr.detectChanges(),setTimeout(()=>{this.deactivatePdfEditor("ink")},100)):(console.log("\u2705 [onToolbarAction] \uD39C \uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD39C \uADF8\uB9AC\uAE30 \uBAA8\uB4DC \uD65C\uC131\uD654 - \uB4DC\uB798\uADF8\uD558\uC5EC \uADF8\uB9BC\uC744 \uADF8\uB9AC\uC138\uC694"),this.cdr.detectChanges(),setTimeout(()=>{this.activatePdfEditor("ink")},200));break;case"text":console.log("\u{1F4DD} [onToolbarAction] text \uCF00\uC774\uC2A4 \uC9C4\uC785"),console.log("\u{1F4DD} [onToolbarAction] \uD604\uC7AC currentEditorTool:",this.currentEditorTool);let i=this.currentEditorTool==="text";this.currentEditorTool=i?null:"text",console.log("\u{1F4DD} [onToolbarAction] \uBCC0\uACBD \uD6C4 currentEditorTool:",this.currentEditorTool),i?(console.log("\u274C [onToolbarAction] \uD14D\uC2A4\uD2B8 \uBE44\uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654"),this.cdr.detectChanges(),setTimeout(()=>{this.deactivatePdfEditor("freetext")},100)):(console.log("\u2705 [onToolbarAction] \uD14D\uC2A4\uD2B8 \uD65C\uC131\uD654 \uBD84\uAE30 \uC9C4\uC785"),this.snackbar.showInfo("\uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uBAA8\uB4DC \uD65C\uC131\uD654 - \uD074\uB9AD\uD558\uC5EC \uD14D\uC2A4\uD2B8\uB97C \uCD94\uAC00\uD558\uC138\uC694"),this.cdr.detectChanges(),setTimeout(()=>{this.activatePdfEditor("freetext")},200));break}this.cdr.detectChanges()}activatePdfEditor(t){try{console.log(`\u{1F527} PDF \uD3B8\uC9D1 \uBAA8\uB4DC \uD65C\uC131\uD654: ${t}`);let e=()=>{let i={highlight:["button#primaryEditorHighlight","button#editorHighlight",'button[title*="\uAC15\uC870"]','button[title*="Highlight"]','[data-l10n-id="pdfjs-editor-highlight-button"]'],ink:["button#primaryEditorInk","button#editorInk",'button[title*="\uADF8\uB9AC\uAE30"]','button[title*="Draw"]','[data-l10n-id="pdfjs-editor-ink-button"]'],stamp:["button#primaryEditorStamp","button#editorStamp",'button[title*="\uC2A4\uD0EC\uD504"]','button[title*="Stamp"]','[data-l10n-id="pdfjs-editor-stamp-button"]'],freetext:["button#primaryEditorFreeText","button#editorFreeText",'button[title*="\uD14D\uC2A4\uD2B8"]','button[title*="Text"]','[data-l10n-id="pdfjs-editor-freetext-button"]']}[t]||[];for(let u of i){let _=document.querySelector(u);if(_&&_.offsetParent!==null)return console.log(`\u2705 \uBC84\uD2BC \uBC1C\uACAC: ${u}`,_),_.click(),console.log(`\u2705 ${t} \uBC84\uD2BC \uD074\uB9AD \uC644\uB8CC`),!0}let o=Array.from(document.querySelectorAll("button"));console.log(`\u{1F50D} \uC804\uCCB4 \uBC84\uD2BC \uAC1C\uC218: ${o.length}`);let l=o.filter(u=>{let _=(u.textContent||"").toLowerCase(),C=(u.title||"").toLowerCase(),b=(u.getAttribute("aria-label")||"").toLowerCase(),x=u.id;return x==="primaryEditorHighlight"||x==="editorHighlight"||x.includes("highlight")||_.includes("highlight")||C.includes("highlight")||C.includes("\uAC15\uC870")||b.includes("highlight")});console.log(`\u{1F4CB} \uD558\uC774\uB77C\uC774\uD2B8 \uAD00\uB828 \uBC84\uD2BC ${l.length}\uAC1C \uBC1C\uACAC:`,l.map(u=>({id:u.id,title:u.title,text:u.textContent?.trim().substring(0,30),ariaLabel:u.getAttribute("aria-label"),visible:u.offsetParent!==null})));for(let u of o){let _=(u.textContent||"").toLowerCase(),C=(u.title||"").toLowerCase(),b=(u.getAttribute("aria-label")||"").toLowerCase();if(_.includes("highlight")||C.includes("highlight")||b.includes("highlight"))return console.log("\u2705 \uD14D\uC2A4\uD2B8\uB85C \uD558\uC774\uB77C\uC774\uD2B8 \uBC84\uD2BC \uBC1C\uACAC:",{text:u.textContent,title:u.title,ariaLabel:u.getAttribute("aria-label"),className:u.className,id:u.id}),u.click(),console.log(`\u2705 ${t} \uBC84\uD2BC \uD074\uB9AD \uC644\uB8CC`),!0}return!1};if(e()){this.snackbar.showInfo("\uD558\uC774\uB77C\uC774\uD2B8 \uBAA8\uB4DC\uAC00 \uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uD14D\uC2A4\uD2B8\uB97C \uC120\uD0DD\uD558\uC138\uC694.");return}console.log("\u23F3 500ms \uD6C4 \uC7AC\uC2DC\uB3C4..."),setTimeout(()=>{if(e())this.snackbar.showInfo("\uD558\uC774\uB77C\uC774\uD2B8 \uBAA8\uB4DC\uAC00 \uD65C\uC131\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uD14D\uC2A4\uD2B8\uB97C \uC120\uD0DD\uD558\uC138\uC694.");else{console.warn("\u26A0\uFE0F PDF \uBDF0\uC5B4\uC758 \uD3B8\uC9D1 \uBC84\uD2BC\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let n=Array.from(document.querySelectorAll("button")).filter(i=>i.offsetParent!==null).map(i=>({id:i.id,class:i.className,title:i.title,text:i.textContent?.trim().substring(0,30),ariaLabel:i.getAttribute("aria-label")}));console.log("\u{1F4CB} \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uBAA8\uB4E0 \uBC84\uD2BC:",n),this.snackbar.showInfo("PDF \uBDF0\uC5B4 \uC0C1\uB2E8\uC758 \uD558\uC774\uB77C\uC774\uD2B8 \uBC84\uD2BC\uC744 \uC9C1\uC811 \uD074\uB9AD\uD558\uC138\uC694.")}},500)}catch(e){console.error("\u274C PDF \uD3B8\uC9D1 \uBAA8\uB4DC \uD65C\uC131\uD654 \uC2E4\uD328:",e),this.snackbar.showError("\uD3B8\uC9D1 \uBAA8\uB4DC \uD65C\uC131\uD654\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}deactivatePdfEditor(t="highlight"){try{console.log(`\u{1F527} PDF \uD3B8\uC9D1 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654 \uC2DC\uB3C4: ${t}`);let e=window.PDFViewerApplication;e&&(console.log("\u2705 PDFViewerApplication \uBC1C\uACAC, \uC9C1\uC811 \uBE44\uD65C\uC131\uD654"),e.pdfViewer&&(e.pdfViewer.annotationEditorMode=0),e.eventBus&&e.eventBus.dispatch("switchannotationeditormode",{source:this,mode:0}),console.log("\u2705 PDF \uD3B8\uC9D1 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654 \uC644\uB8CC (API)")),setTimeout(()=>{(()=>{let o={highlight:["button#primaryEditorHighlight","button#editorHighlight",'button[title*="\uAC15\uC870"]','button[title*="Highlight"]','[data-l10n-id="pdfjs-editor-highlight-button"]'],ink:["button#primaryEditorInk","button#editorInk",'button[title*="\uADF8\uB9AC\uAE30"]','button[title*="Draw"]','[data-l10n-id="pdfjs-editor-ink-button"]'],stamp:["button#primaryEditorStamp","button#editorStamp",'button[title*="\uC2A4\uD0EC\uD504"]','button[title*="Stamp"]','[data-l10n-id="pdfjs-editor-stamp-button"]'],freetext:["button#primaryEditorFreeText","button#editorFreeText",'button[title*="\uD14D\uC2A4\uD2B8"]','button[title*="Text"]','[data-l10n-id="pdfjs-editor-freetext-button"]']}[t]||[];for(let u of o){let _=document.querySelector(u);if(_&&_.offsetParent!==null)return console.log(`\u2705 ${t} \uBC84\uD2BC \uBC1C\uACAC, \uD074\uB9AD\uD558\uC5EC \uD1A0\uAE00: ${u}`),_.click(),console.log(`\u2705 ${t} \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654 \uC644\uB8CC (\uBC84\uD2BC \uD074\uB9AD)`),!0}let l=Array.from(document.querySelectorAll("button"));console.log(`\u{1F50D} \uC804\uCCB4 \uBC84\uD2BC \uAC1C\uC218: ${l.length}`),console.log("\u{1F4CB} \uCC98\uC74C 10\uAC1C \uBC84\uD2BC \uC0D8\uD50C:",l.slice(0,10).map(u=>({id:u.id,title:u.title,text:u.textContent?.trim().substring(0,20),ariaLabel:u.getAttribute("aria-label")})));for(let u of l){let _=(u.textContent||"").toLowerCase(),C=(u.title||"").toLowerCase(),b=(u.getAttribute("aria-label")||"").toLowerCase(),x=u.id;if(x==="primaryEditorHighlight"||x==="editorHighlight"||_.includes("highlight")||C.includes("highlight")||C.includes("\uAC15\uC870")||b.includes("highlight"))return console.log("\u2705 \uD14D\uC2A4\uD2B8\uB85C \uD558\uC774\uB77C\uC774\uD2B8 \uBC84\uD2BC \uBC1C\uACAC:",{id:x,title:C,ariaLabel:b,text:_.substring(0,30)}),u.click(),console.log("\u2705 \uD558\uC774\uB77C\uC774\uD2B8 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654 \uC644\uB8CC"),!0}return console.log("\u274C \uD558\uC774\uB77C\uC774\uD2B8 \uBC84\uD2BC\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),!1})()},150)}catch(e){console.error("\u274C PDF \uD3B8\uC9D1 \uBAA8\uB4DC \uBE44\uD65C\uC131\uD654 \uC2E4\uD328:",e)}}updatePdfViewerInfo(t,e,n){this.pdfViewerScale=t}onPdfViewerScroll(t){}onSidebarClose(){}onThumbnailClick(t){console.log("\u{1F4C4} \uC378\uB124\uC77C \uD074\uB9AD:",t.pageNumber),this.currentPage=t.pageNumber,this.leftPanelThumbnails.forEach(e=>{e.active=e.pageNumber===t.pageNumber}),this.cdr.detectChanges()}onPropertiesClose(){}onAiTranslateClose(){console.log("\u{1F6AA} [onAiTranslateClose] AI \uBC88\uC5ED \uD328\uB110 \uB2EB\uAE30"),this.pdfToolsPanelMenuId=null,this.closeRightPanel(),console.log("   - showRightPanel:",this.showRightPanel),console.log("   - pdfToolsPanelMenuId:",this.pdfToolsPanelMenuId)}onTranslationComplete(t){console.log("\u{1F389} [onTranslationComplete] \uBC88\uC5ED \uC644\uB8CC:",t),console.log("   - showRightPanel \uC0C1\uD0DC:",this.showRightPanel),console.log("   - isRightPanelCollapsed \uC0C1\uD0DC:",this.isRightPanelCollapsed),console.log("   - pdfToolsPanelMenuId:",this.pdfToolsPanelMenuId),this.showSnackbar("\uBC88\uC5ED\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u26A0\uFE0F [onTranslationComplete] \uD328\uB110\uC744 \uB2EB\uC9C0 \uC54A\uACE0 \uC720\uC9C0\uD569\uB2C8\uB2E4.")}onAiFeaturesClose(){this.pdfToolsPanelMenuId=null,this.closeRightPanel()}onPdfContentClose(){}onBookmarkClick(t){this.currentPage=t.page||1}closePageReorderPanel(){this.pageReorderVisible=!1,this.selectedPagesInReorder=[],this.currentActiveMenu="\uD648",this.originalPdfUrl&&(URL.revokeObjectURL(this.originalPdfUrl),this.originalPdfUrl=null,console.log("\u{1F5D1}\uFE0F \uC6D0\uBCF8 PDF URL \uC815\uB9AC \uC644\uB8CC (\uD328\uB110 \uB2EB\uAE30)"))}onPageSelectedInReorder(t){this.selectedPagesInReorder=t,console.log("\u{1F4C4} \uC120\uD0DD\uB41C \uD398\uC774\uC9C0\uB4E4:",t)}onPageReorderComplete(t){return P(this,null,function*(){console.log("Page reorder complete:",t),this.showSnackbar("\uD398\uC774\uC9C0 \uC21C\uC11C\uAC00 \uBCC0\uACBD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")})}onDeletePages(t){return P(this,null,function*(){console.log("Delete pages:",t)})}onConfirmDelete(t){return P(this,null,function*(){try{if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let e=t.pages.length;console.log("\u{1F5D1}\uFE0F \uD398\uC774\uC9C0 \uC0AD\uC81C \uC2DC\uC791:",t.pages,"\uCD1D",e,"\uAC1C");let n=yield this.pdfPageDeleterService.deletePages(this.pdfSrc,t.pages);this.pdfSrc&&this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=n,this.totalPages-=e,console.log("\u2705 \uB0A8\uC740 \uD398\uC774\uC9C0 \uC218:",this.totalPages),this.cdr.detectChanges(),t.callback&&t.callback(),this.showSnackbar(`${e}\uAC1C \uD398\uC774\uC9C0 \uC0AD\uC81C \uC644\uB8CC (\uB0A8\uC740 \uD398\uC774\uC9C0: ${this.totalPages})`)}catch(e){console.error("Error deleting pages:",e),this.showSnackbar("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}printPdf(){if(!this.pdfSrc&&(!this.pdfPages||this.pdfPages.length===0)){this.showSnackbar("\uC778\uC1C4\uD560 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=!!this.pdfSrc,e=this.pdfPages&&this.pdfPages.length>0&&this.pdfPages.some(n=>n.elements&&n.elements.length>0);if(!t&&!e){this.showSnackbar("\uC778\uC1C4\uD560 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.pdfPrintModalComponent&&(this.pdfPrintModalComponent.hasOriginalPdf=t,this.pdfPrintModalComponent.hasEditedPdf=e,this.pdfPrintModalComponent.open())}onPrintTypeSelected(t){return P(this,null,function*(){t==="original"?this.pdfSrc?window.print():this.showSnackbar("\uC6D0\uBCF8 PDF\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."):t==="edited"&&(yield this.printEditedPdf())})}printEditedPdf(){return P(this,null,function*(){if(!this.pdfPages||this.pdfPages.length===0){this.showSnackbar("\uD3B8\uC9D1\uB41C \uB0B4\uC6A9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let t=this.currentFileName||"document.pdf";this.snackbar.showInfo("\uC778\uC1C4\uC6A9 PDF\uB97C \uC0DD\uC131\uD558\uB294 \uC911...");let e=yield this.pdfExportFullService.generatePdfBytes(this.pdfPages,{fileName:t.replace(".pdf","_print"),showDebugModal:!1},this.cdr);if(!e){this.snackbar.showError("PDF \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.");return}let n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),o=document.createElement("iframe");o.style.display="none",o.src=i,document.body.appendChild(o),o.onload=()=>{setTimeout(()=>{try{let l=o.contentWindow;if(!l)throw new Error("iframe contentWindow\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");let u=()=>{try{document.body.removeChild(o),URL.revokeObjectURL(i)}catch(C){console.error("\uB9AC\uC18C\uC2A4 \uC815\uB9AC \uC2E4\uD328:",C)}};l.addEventListener("afterprint",u);let _=setTimeout(u,3e5);l.print(),this.snackbar.showSuccess("\uC778\uC1C4 \uB2E4\uC774\uC5BC\uB85C\uADF8\uAC00 \uC5F4\uB838\uC2B5\uB2C8\uB2E4.")}catch(l){console.error("\uC778\uC1C4 \uC2E4\uD589 \uC2E4\uD328:",l),document.body.removeChild(o),URL.revokeObjectURL(i),this.snackbar.showWarning("\uC778\uC1C4\uB97C \uC2E4\uD589\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. PDF\uB97C \uB2E4\uC6B4\uB85C\uB4DC\uD569\uB2C8\uB2E4.");let u=new Blob([e],{type:"application/pdf"}),_=URL.createObjectURL(u),C=document.createElement("a");C.href=_,C.download=`${t.replace(".pdf","_print")}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(_)}},500)},o.onerror=()=>{document.body.removeChild(o),URL.revokeObjectURL(i),this.snackbar.showError("PDF \uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}catch(t){console.error("Error printing edited PDF:",t),this.snackbar.showError("\uC778\uC1C4 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}onPrintModalClosed(){}onEmailPdf(){return P(this,null,function*(){if(!this.pdfSrc&&!this.currentFileName){this.snackbar.showWarning("\uC804\uC1A1\uD560 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=this.currentFileName||"document.pdf";try{if(navigator.share){let e=null;if(this.pdfSrc)e=yield(yield fetch(this.pdfSrc)).blob();else if(this.pdfPages&&this.pdfPages.length>0){this.snackbar.showInfo("\uBB38\uC11C\uB97C \uC900\uBE44\uD558\uB294 \uC911..."),this.snackbar.showWarning("\uD3B8\uC9D1 \uC911\uC778 \uBB38\uC11C\uB294 \uBA3C\uC800 \uC800\uC7A5\uD574\uC8FC\uC138\uC694.");return}if(!e){this.snackbar.showError("\uACF5\uC720\uD560 PDF \uD30C\uC77C\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=new File([e],t,{type:"application/pdf"});yield navigator.share({title:t,text:`${t} \uBB38\uC11C\uB97C \uACF5\uC720\uD569\uB2C8\uB2E4.`,files:[n]}),this.snackbar.showSuccess("\uBB38\uC11C\uAC00 \uACF5\uC720\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}else{console.warn("Web Share API \uBBF8\uC9C0\uC6D0 - mailto\uB85C \uD3F4\uBC31");let e=encodeURIComponent(`${t} \uACF5\uC720`),n=encodeURIComponent(`\uC548\uB155\uD558\uC138\uC694,

\uCCA8\uBD80\uB41C PDF \uBB38\uC11C\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.

\uBB38\uC11C\uBA85: ${t}

* \uCC38\uACE0: \uBE0C\uB77C\uC6B0\uC800\uAC00 \uD30C\uC77C \uACF5\uC720\uB97C \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uC544 PDF\uB294 \uC218\uB3D9\uC73C\uB85C \uCCA8\uBD80\uD574\uC8FC\uC138\uC694.

\uAC10\uC0AC\uD569\uB2C8\uB2E4.`),i=`mailto:?subject=${e}&body=${n}`;window.location.href=i,this.snackbar.showInfo("\uC774\uBA54\uC77C \uD074\uB77C\uC774\uC5B8\uD2B8\uAC00 \uC5F4\uB838\uC2B5\uB2C8\uB2E4. PDF\uB294 \uC218\uB3D9\uC73C\uB85C \uCCA8\uBD80\uD574\uC8FC\uC138\uC694.")}}catch(e){e.name==="AbortError"?console.log("\uACF5\uC720 \uCDE8\uC18C\uB428"):(console.error("\uBB38\uC11C \uACF5\uC720 \uC2E4\uD328:",e),this.snackbar.showError("\uBB38\uC11C \uACF5\uC720\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."))}})}onMenuChanged(t){if(this.currentActiveMenu==="\uD3B8\uC9D1"&&t!=="\uD3B8\uC9D1"&&this.pdfEditorVisible&&this.pdfSrc){this.dialog.open(lo,{data:{title:"\uD3B8\uC9D1 \uBAA8\uB4DC \uC885\uB8CC",message:"\uD3B8\uC9D1 \uBAA8\uB4DC\uB97C \uC885\uB8CC\uD558\uACE0 \uC6D0\uBCF8 PDF\uB85C \uB3CC\uC544\uAC00\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",confirmText:"\uD655\uC778",cancelText:"\uCDE8\uC18C",type:"warning"},width:"400px"}).afterClosed().subscribe(n=>{n&&this.proceedMenuChange(t)});return}if(t==="\uD3B8\uC9D1"&&this.pdfSrc&&this.savedEditorState){this.dialog.open(fn,{data:{title:"\uD3B8\uC9D1 \uBAA8\uB4DC \uC7AC\uAC1C",message:`\uC774\uC804 \uD3B8\uC9D1 \uB0B4\uC6A9\uC774 \uC788\uC2B5\uB2C8\uB2E4.
\uC5B4\uB5BB\uAC8C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`},width:"450px",disableClose:!1}).afterClosed().subscribe(n=>{n==="continue"?(console.log("\u{1F4DD} [Ez-Reader] \uC800\uC7A5\uB41C \uD3B8\uC9D1 \uC0C1\uD0DC \uBCF5\uC6D0"),this.currentActiveMenu="\uD3B8\uC9D1",this.pdfPages=JSON.parse(JSON.stringify(this.savedEditorState.pdfPages)),this.pdfEditorVisible=!0,this.pdfAnalysisData=this.savedEditorState.pdfAnalysisData,this.currentTabView="editor",this.tabBarComponent&&this.tabBarComponent.updateActiveTabView("editor",this.pdfPages),this.showSnackbar("\uD3B8\uC9D1 \uC0C1\uD0DC\uB97C \uBCF5\uC6D0\uD588\uC2B5\uB2C8\uB2E4.")):n==="reanalyze"&&(console.log("\u{1F504} [Ez-Reader] \uC800\uC7A5\uB41C \uD3B8\uC9D1 \uC0C1\uD0DC \uC0AD\uC81C \uD6C4 \uC790\uB3D9 \uBD84\uC11D"),this.currentActiveMenu="\uD3B8\uC9D1",this.savedEditorState=null,this.pdfPages=[],this.pdfEditorVisible=!1,this.pdfAnalysisData=null,this.pdfAnalysisDashboardVisible=!1,this.openPdfAnalysisDashboard())});return}this.proceedMenuChange(t)}proceedMenuChange(t){this.currentActiveMenu=t;let e={\uD648:"recent",\uBDF0\uC5B4:"viewer",\uD3B8\uC9D1:"editor",\uD30C\uC77C\uBCC0\uD658:"conversion",\uAD6C\uC131:"properties",\uBCF4\uC548:"security"};if(e[t]&&this.router.navigate([e[t]],{relativeTo:this.route}),t==="\uD648"&&this.currentTabView==="editor"){console.log("\u{1F3E0} [Ez-Reader] \uD648 \uBA54\uB274 \uC120\uD0DD \u2192 \uC6D0\uBCF8 PDF \uBCF4\uAE30"),this.onViewOriginalDocument();return}if(t==="\uD3B8\uC9D1"&&this.pdfSrc&&!this.pdfAnalysisData){console.log("\u{1F4DD} [Ez-Reader] \uD3B8\uC9D1 \uBA54\uB274 \uC120\uD0DD \u2192 \uD398\uC774\uC9C0 \uC120\uD0DD \uBAA8\uB2EC \uD45C\uC2DC"),this.showPageSelectorModal();return}t==="\uAD6C\uC131"&&this.pdfSrc?(console.log("\u2699\uFE0F [Ez-Reader] \uAD6C\uC131 \uBA54\uB274 \uC120\uD0DD \u2192 \uD398\uC774\uC9C0 \uC7AC\uBC30\uC5F4 \uD328\uB110 \uC5F4\uAE30"),this.currentTabView="viewer",this.pageReorderVisible=!0,this.showRightPanel=!1,this.originalPdfBlob&&!this.originalPdfUrl&&(this.originalPdfUrl=URL.createObjectURL(this.originalPdfBlob),console.log("\u2705 \uC6D0\uBCF8 PDF URL \uC0DD\uC131 \uC644\uB8CC (\uAD6C\uC131 \uBA54\uB274\uC6A9)"),this.pdfEditorData?.originalTotalPages&&(this.totalPages=this.pdfEditorData.originalTotalPages,console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218 \uC5C5\uB370\uC774\uD2B8:",this.totalPages)))):t!=="\uAD6C\uC131"&&(this.pageReorderVisible=!1,this.originalPdfUrl&&(URL.revokeObjectURL(this.originalPdfUrl),this.originalPdfUrl=null,console.log("\u{1F5D1}\uFE0F \uC6D0\uBCF8 PDF URL \uC815\uB9AC \uC644\uB8CC")))}onDragEnter(t){t.preventDefault(),t.stopPropagation(),this.dragCounter++,this.isDragOver=!0}onDragOver(t){t.preventDefault(),t.stopPropagation()}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.dragCounter--,this.dragCounter===0&&(this.isDragOver=!1)}onDrop(t){return P(this,null,function*(){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1,this.dragCounter=0;let e=t.dataTransfer?.files;if(e&&e.length>0){let n=e[0];n.type==="application/pdf"?yield this.onFileSelected(n):this.showSnackbar("PDF \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.")}})}showSnackbar(t){this.snackbarMessage=t,this.snackbarVisible=!0,setTimeout(()=>{this.snackbarVisible=!1},3e3)}onCreateTextEditor(){}onCreateSentenceOverlay(){}onSaveOverlayedPdf(){}onDownloadModifiedPdf(){this.saveDocument()}onDownloadPdf(){return P(this,null,function*(){console.log("\u{1F4BE} [Ez-Reader] PDF \uB2E4\uC6B4\uB85C\uB4DC \uC694\uCCAD"),this.pdfDownloadModalComponent&&(this.pdfDownloadModalComponent.hasOriginalPdf=!!this.pdfSrc,this.pdfDownloadModalComponent.hasEditedPdf=!!(this.pdfPages&&this.pdfPages.length>0),this.pdfDownloadModalComponent.open())})}onGeometryDrawingClose(){}onShapeSelected(t){}onTextEditorClose(){}onTextEditorsChanged(t){}onApplyTextsToDocument(t){}closeImageInserter(){}onImageInserted(t){}onWatermarkApplied(t){}onPenDrawingApplied(){}onStrokeCompleted(t){}onSentenceGroupsChanged(t){}onFileInputChange(t){let e=t.target;e.files&&e.files.length>0&&this.onFileSelected(e.files[0])}onDeleteRecentFile(t){return P(this,null,function*(){try{if(console.log("=== \uC0AD\uC81C \uD504\uB85C\uC138\uC2A4 \uC2DC\uC791 ==="),console.log("\uC0AD\uC81C \uB300\uC0C1 \uD30C\uC77C:",t),!(yield qe(`'${t.name}' \uBB38\uC11C\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`))){console.log("\uC0AD\uC81C \uCDE8\uC18C\uB428");return}console.log("IndexedDB\uC5D0\uC11C \uBB38\uC11C \uAC80\uC0C9 \uC911...");let n=yield this.indexedDbService.searchDocumentsByTitle(t.name);if(console.log("\uAC80\uC0C9\uB41C \uBB38\uC11C:",n),n.length===0){console.warn("\uC0AD\uC81C\uD560 \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC74C"),this.snackbar.showWarning("\uC0AD\uC81C\uD560 \uBB38\uC11C\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let i=n[0];console.log("\uC0AD\uC81C\uD560 \uBB38\uC11C ID:",i.id),yield this.indexedDbService.deleteDocument(i.id),console.log("IndexedDB\uC5D0\uC11C \uC0AD\uC81C \uC644\uB8CC"),console.log("\uCD5C\uADFC \uD30C\uC77C \uBAA9\uB85D \uAC31\uC2E0 \uC911..."),yield this.loadRecentFiles(),console.log("\uCD5C\uADFC \uD30C\uC77C \uBAA9\uB85D \uAC31\uC2E0 \uC644\uB8CC"),this.snackbar.showSuccess(`'${t.name}' \uBB38\uC11C\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),console.log("=== \uC0AD\uC81C \uD504\uB85C\uC138\uC2A4 \uC644\uB8CC ===")}catch(e){console.error("\u274C \uBB38\uC11C \uC0AD\uC81C \uC2E4\uD328:",e),this.snackbar.showError("\uBB38\uC11C \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onTranslationCompleted(t){t&&t.length>0&&this.onTranslationComplete(t[0])}onPdfRefresh(t){console.log("PDF refresh:",t)}closeSnackbar(){this.snackbarVisible=!1}confirmModalVisible=!1;confirmModalTitle="";confirmModalMessage="";confirmModalCallback;closeConfirmModal(){this.confirmModalVisible=!1,this.confirmModalCallback=void 0}confirmModalAction(){this.confirmModalCallback&&this.confirmModalCallback(),this.closeConfirmModal()}toggleLeftPanel(){this.isLeftPanelVisible=!this.isLeftPanelVisible,this.isLeftPanelVisible&&this.leftPanelThumbnails.length===0&&this.generateThumbnails()}generateThumbnails(){return P(this,null,function*(){if(!this.pdfSrc){this.leftPanelThumbnails=[{id:1,title:"\uD398\uC774\uC9C0 1",pageNumber:1,active:!0,icon:"\u{1F4C4}"},{id:2,title:"\uD398\uC774\uC9C0 2",pageNumber:2,active:!1,icon:"\u{1F4C4}"},{id:3,title:"\uD398\uC774\uC9C0 3",pageNumber:3,active:!1,icon:"\u{1F4C4}"}];return}try{let t=this.totalPages||10;this.leftPanelThumbnails=Array.from({length:t},(n,i)=>({id:i+1,title:`\uD398\uC774\uC9C0 ${i+1}`,pageNumber:i+1,active:i+1===this.currentPage,icon:""}));let e=Array.from({length:t},(n,i)=>i+1);yield this.pdfThumbnailService.generateThumbnailsBatch(this.pdfSrc,e,{scale:.2,quality:.7,format:"image/webp"},(n,i)=>{let o=this.leftPanelThumbnails.findIndex(l=>l.pageNumber===n);o!==-1&&(this.leftPanelThumbnails[o].icon=i,this.cdr.detectChanges())}),console.log("\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC:",this.leftPanelThumbnails.length)}catch(t){console.error("\uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:",t),this.snackbar.showError("\uC378\uB124\uC77C \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}toggleRightPanel(){this.showRightPanel=!this.showRightPanel,this.showRightPanel&&(this.isRightPanelCollapsed=!1)}togglePdfSettings(){let t={width:"800px",maxWidth:"90vw",panelClass:"pdf-settings-dialog",hasBackdrop:!0,disableClose:!1,autoFocus:!0,restoreFocus:!0};this.dialog.open(vt,t),console.log("\u2699\uFE0F PDF \uC124\uC815 \uBAA8\uB2EC \uC5F4\uB9BC")}closeRightPanel(){if(console.log("\u{1F534} [Ez-Reader] closeRightPanel \uD638\uCD9C"),console.log("   - pdfToolsPanelMenuId:",this.pdfToolsPanelMenuId),this.pdfToolsPanelMenuId==="ai-translate"||this.pdfToolsPanelMenuId==="ai-summary"){console.log("   \u26A0\uFE0F AI \uBA54\uB274 \uC5F4\uB9BC \u2192 \uB2EB\uAE30 \uBB34\uC2DC");return}this.pdfToolsPanelMenuId=null,console.log("   - pdfToolsPanelMenuId \u2192 null"),this.isRightPanelCollapsed=!0,console.log("   - isRightPanelCollapsed \u2192 true (\uCD95\uC18C)"),console.log("   - showRightPanel:",this.showRightPanel,"(\uBCC0\uACBD \uC548 \uD568)"),this.cdr.detectChanges()}expandRightPanel(){this.isRightPanelCollapsed=!1}toggleImageCoordinates(){this.showImageCoordinates=!this.showImageCoordinates,console.log(`\u{1F41B} [ez-reader-main] \uC774\uBBF8\uC9C0 \uC88C\uD45C \uD45C\uC2DC: ${this.showImageCoordinates?"ON":"OFF"}`)}showPageSelectorModal(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{this.snackbar.showInfo("\uD398\uC774\uC9C0 \uC378\uB124\uC77C \uC0DD\uC131 \uC911...");let t=this.totalPages||10;try{t=(yield window.pdfjsLib.getDocument(this.pdfSrc).promise).numPages,console.log("\u{1F4CA} [\uD398\uC774\uC9C0\uC120\uD0DD] \uC6D0\uBCF8 PDF\uC5D0\uC11C \uD398\uC774\uC9C0 \uC218 \uD655\uC778:",t,"(\uD3B8\uC9D1 \uBAA8\uB4DC:",this.pdfEditorVisible,")")}catch(n){console.warn("\u26A0\uFE0F \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218 \uD655\uC778 \uC2E4\uD328, \uAE30\uBCF8\uAC12 \uC0AC\uC6A9:",n),this.pdfEditorVisible&&this.pdfEditorData?.originalTotalPages&&(t=this.pdfEditorData.originalTotalPages,console.log("\u{1F4CA} [\uD398\uC774\uC9C0\uC120\uD0DD] pdfEditorData\uC5D0\uC11C \uD398\uC774\uC9C0 \uC218 \uC0AC\uC6A9:",t))}let e=Array.from({length:t},(n,i)=>i+1);this.pageSelectorThumbnails=e.map(n=>({pageNumber:n,thumbnail:"",selected:n===1,isLoading:!0})),this.pageSelectorVisible=!0,yield this.pdfThumbnailService.generateThumbnailsBatch(this.pdfSrc,e,{scale:.3,quality:.8,format:"image/webp"},(n,i)=>{let o=this.pageSelectorThumbnails.find(l=>l.pageNumber===n);o&&(o.thumbnail=i,o.isLoading=!1,this.cdr.detectChanges())}),console.log("\u2705 \uD398\uC774\uC9C0 \uC120\uD0DD \uBAA8\uB2EC \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC")}catch(t){console.error("\uD398\uC774\uC9C0 \uC120\uD0DD \uBAA8\uB2EC \uD45C\uC2DC \uC2E4\uD328:",t),this.showSnackbar("\uD398\uC774\uC9C0 \uC120\uD0DD \uBAA8\uB2EC\uC744 \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.pageSelectorVisible=!1}})}onPageSelectorClose(){this.pageSelectorVisible=!1,this.pageSelectorThumbnails=[]}onPageSelectorConfirm(t){return P(this,null,function*(){console.log("\u{1F4C4} [onPageSelectorConfirm] \uC120\uD0DD\uB41C \uD398\uC774\uC9C0:",t),console.log("\u{1F4C4} [onPageSelectorConfirm] \uBCC0\uACBD \uC804 selectedAnalysisPage:",this.selectedAnalysisPage),this.selectedAnalysisPage=t,console.log("\u{1F4C4} [onPageSelectorConfirm] \uBCC0\uACBD \uD6C4 selectedAnalysisPage:",this.selectedAnalysisPage),this.pageSelectorVisible=!1,console.log("\u{1F4C4} [onPageSelectorConfirm] \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC774\uB3D9:",t),this.currentPage=t,console.log("\u{1F4C4} [onPageSelectorConfirm] executePdfAnalysis \uD638\uCD9C \uC2DC\uC791"),yield this.executePdfAnalysis({showDashboard:!0}),console.log("\u{1F4C4} [onPageSelectorConfirm] executePdfAnalysis \uD638\uCD9C \uC644\uB8CC")})}onAddFormField(t){if(!this.pdfEditorVisible){this.showSnackbar("\uD3FC \uC694\uC18C\uB294 \uD3B8\uC9D1 \uBAA8\uB4DC\uC5D0\uC11C \uCD94\uAC00\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.");return}if(!this.pdfPages||this.pdfPages.length===0){this.showSnackbar("\uBA3C\uC800 \uD3B8\uC9D1\uD560 \uD398\uC774\uC9C0\uB97C \uBD88\uB7EC\uC640 \uC8FC\uC138\uC694.");return}if(t==="checkbox"){this.addCheckboxFormField();return}if(t==="radio"){this.addRadioFormField();return}if(t==="dropdown"){this.addDropdownFormField();return}if(t==="date"){this.addDateFormField();return}let e=this.formFieldLabels[t]||"\uD3FC \uC694\uC18C";this.showSnackbar(`${e} \uCD94\uAC00 \uAE30\uB2A5\uC744 \uC900\uBE44 \uC911\uC785\uB2C8\uB2E4.`),this.debugLogger.info("\uD3FC\uB3C4\uAD6C",`\uD3FC \uC694\uC18C \uCD94\uAC00 \uC694\uCCAD(\uBBF8\uAD6C\uD604): ${t}`)}addCheckboxFormField(){let t=Math.max(0,Math.min(this.currentPage-1,this.pdfPages.length-1)),e=this.pdfPages[t];if(!e){this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=160,i=32,o=e.width||595,l=e.height||842,u=Math.max(32,(o-n)/2),_=Math.max(48,l*.3-i/2),b=`\uCCB4\uD06C\uBC15\uC2A4 ${e.elements.filter(v=>v.type==="form-checkbox").length+1}`,x=this.pdfElementManager.createFormCheckboxElement({x:u,y:_,width:n,height:i,size:20,label:b,checked:!1});this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,t,x),this.selectedElement=x,this.showSnackbar(`${b}\uAC00 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.debugLogger.info("\uD3FC\uB3C4\uAD6C",`\uD3FC \uCCB4\uD06C\uBC15\uC2A4 \uCD94\uAC00 (\uD398\uC774\uC9C0 ${t+1})`),this.openElementPropertiesPanel()}addRadioFormField(){let t=Math.max(0,Math.min(this.currentPage-1,this.pdfPages.length-1)),e=this.pdfPages[t];if(!e){this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=160,i=32,o=e.width||595,l=e.height||842,u=Math.max(32,(o-n)/2),_=Math.max(48,l*.3-i/2),C=e.elements.filter(k=>k.type==="form-radio").length+1,b=`\uB77C\uB514\uC624 \uC635\uC158 ${C}`,x=`radio-group-${t+1}`,v=this.pdfElementManager.createFormRadioElement({x:u,y:_,width:n,height:i,size:18,label:b,value:`option-${C}`,groupName:x,selected:!1});this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,t,v),this.selectedElement=v,this.showSnackbar(`${b}\uC774 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.debugLogger.info("\uD3FC\uB3C4\uAD6C",`\uD3FC \uB77C\uB514\uC624 \uBC84\uD2BC \uCD94\uAC00 (\uD398\uC774\uC9C0 ${t+1})`),this.openElementPropertiesPanel()}addDropdownFormField(){let t=Math.max(0,Math.min(this.currentPage-1,this.pdfPages.length-1)),e=this.pdfPages[t];if(!e){this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=260,i=44,o=e.width||595,l=e.height||842,u=Math.max(32,(o-n)/2),_=Math.max(56,l*.4-i/2),b=`\uB4DC\uB86D\uB2E4\uC6B4 ${e.elements.filter(v=>v.type==="form-dropdown").length+1}`,x=this.pdfElementManager.createFormDropdownElement({x:u,y:_,width:n,height:i,label:b,options:["\uC635\uC158 1","\uC635\uC158 2","\uC635\uC158 3"],selectedOption:"\uC635\uC158 1"});this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,t,x),this.selectedElement=x,this.showSnackbar(`${b}\uC774 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.debugLogger.info("\uD3FC\uB3C4\uAD6C",`\uD3FC \uB4DC\uB86D\uB2E4\uC6B4 \uCD94\uAC00 (\uD398\uC774\uC9C0 ${t+1})`),this.openElementPropertiesPanel()}addDateFormField(){let t=Math.max(0,Math.min(this.currentPage-1,this.pdfPages.length-1)),e=this.pdfPages[t];if(!e){this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=260,i=56,o=e.width||595,l=e.height||842,u=Math.max(32,(o-n)/2),_=Math.max(64,l*.45-i/2),b=`\uB0A0\uC9DC \uD544\uB4DC ${e.elements.filter(v=>v.type==="form-date").length+1}`,x=this.pdfElementManager.createFormDateElement({x:u,y:_,width:n,height:i,label:b,placeholder:"YYYY-MM-DD",dateFormat:"YYYY-MM-DD",defaultValue:""});this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,t,x),this.selectedElement=x,this.showSnackbar(`${b}\uC774 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.debugLogger.info("\uD3FC\uB3C4\uAD6C",`\uD3FC \uB0A0\uC9DC \uD544\uB4DC \uCD94\uAC00 (\uD398\uC774\uC9C0 ${t+1})`),this.openElementPropertiesPanel()}openElementPropertiesPanel(){this.showRightPanel=!0,this.isRightPanelCollapsed=!1,this.pdfToolsPanelMenuId="element-properties",this.cdr.detectChanges()}addText(){console.log("\u{1F4DD} \uD14D\uC2A4\uD2B8 \uCD94\uAC00 \uC2DC\uC791"),this.textEditorData={text:"\uC0C8 \uD14D\uC2A4\uD2B8",fontSize:16,fontFamily:"Noto Sans KR",fontWeight:"normal",fontStyle:"normal",color:"#000000",textAlign:"left",x:100,y:100,width:200,height:30},this.showTextEditorModal=!0,console.log("\u2705 \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30 \uBAA8\uB2EC \uC5F4\uB9BC")}onTextEditorApply(t){console.log("\u{1F4BE} \uD14D\uC2A4\uD2B8 \uC800\uC7A5:",t);let e=this.pdfElementManager.createTextElement(t),n=this.currentPage-1;n>=0&&n<this.pdfPages.length?(this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,n,e),this.selectedElement=e,this.showSnackbar("\uD14D\uC2A4\uD2B8\uAC00 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u2705 \uD14D\uC2A4\uD2B8 \uC694\uC18C \uCD94\uAC00 \uC644\uB8CC:",e)):(console.warn("\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",n),this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")),this.showTextEditorModal=!1}onTextEditorCancel(){console.log("\u274C \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1\uAE30 \uCDE8\uC18C"),this.showTextEditorModal=!1}openFileConversionModal(){if(!this.pdfSrc||!this.currentFileName){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}console.log("\u{1F4C4} \uD30C\uC77C \uBCC0\uD658 \uBAA8\uB2EC \uC5F4\uAE30:",this.currentFileName),this.showFileConversionModal=!0}onFileConversionModalClose(){console.log("\u274C \uD30C\uC77C \uBCC0\uD658 \uBAA8\uB2EC \uB2EB\uAE30"),this.showFileConversionModal=!1}rotateCurrentPageLeft(){return P(this,null,function*(){yield this.onRotateAllPagesLeft()})}rotateCurrentPageRight(){return P(this,null,function*(){yield this.onRotateAllPagesRight()})}uploadCurrentPdf(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{let t=this.currentFileName||`\uBB38\uC11C_${new Date().toLocaleDateString()}`,n=(yield this.indexedDbService.getAllDocuments()).find(i=>i.title===t);setTimeout(()=>{this.saveConfirmModalComponent?.open(t,n)},0)}catch(t){console.error("\uBB38\uC11C \uC800\uC7A5 \uC900\uBE44 \uC2E4\uD328:",t),this.showSnackbar("\uBB38\uC11C \uC800\uC7A5 \uC900\uBE44\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onSaveConfirmModalClose(){this.showSnackbar("\uC5C5\uB85C\uB4DC\uAC00 \uCDE8\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}onSaveConfirmModalConfirm(t){return P(this,null,function*(){try{this.showSnackbar("\uBB38\uC11C\uB97C \uC5C5\uB85C\uB4DC\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4...");let n=yield(yield fetch(this.pdfSrc)).blob(),i=new FileReader,o=yield new Promise((b,x)=>{i.onloadend=()=>b(i.result),i.onerror=x,i.readAsDataURL(n)}),u=(yield this.indexedDbService.getAllDocuments()).find(b=>b.title===t.title),_={id:u?.id||Date.now().toString(),title:t.title,pages:this.pdfPages.map((b,x)=>({type:"pdf-page",content:`\uD398\uC774\uC9C0 ${x+1}`,order:x})),elementCount:this.pdfPages.length,createdAt:u?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",pdfSrc:this.pdfSrc,pdfBase64:o,fileName:this.currentFileName||void 0,documentType:"viewer"};yield this.indexedDbService.saveDocument(_);let C=t.overwrite?"\uC5C5\uB370\uC774\uD2B8":"\uC800\uC7A5";this.showSnackbar(`${t.title} \uBB38\uC11C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C ${C}\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.currentFileName=t.title}catch(e){console.error("PDF \uC5C5\uB85C\uB4DC \uC2E4\uD328:",e),this.showSnackbar("PDF \uC5C5\uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}exportCurrentPdf(){return P(this,null,function*(){this.pdfDownloadModalComponent&&(this.pdfDownloadModalComponent.hasOriginalPdf=!!this.pdfSrc,this.pdfDownloadModalComponent.hasEditedPdf=!!(this.pdfPages&&this.pdfPages.length>0),this.pdfDownloadModalComponent.open())})}onDownloadTypeSelected(t){return P(this,null,function*(){let e=this.currentFileName||"document.pdf";if(console.log("\u{1F50D} PDF \uB2E4\uC6B4\uB85C\uB4DC \uD0C0\uC785:",t),console.log("  - pdfEditorVisible:",this.pdfEditorVisible),console.log("  - currentTabView:",this.currentTabView),console.log("  - pdfSrc:",this.pdfSrc?"\uC788\uC74C":"\uC5C6\uC74C"),console.log("  - pdfPages \uAC1C\uC218:",this.pdfPages?.length||0),t==="edited"){if(!this.pdfPages||this.pdfPages.length===0){this.showSnackbar("\uD3B8\uC9D1\uB41C \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F4DD} \uD3B8\uC9D1\uBCF8 PDF \uB0B4\uBCF4\uB0B4\uAE30 \uC2DC\uC791...");try{yield this.pdfExportFullService.exportToPdf(this.pdfPages,{fileName:e.replace(".pdf",""),showDebugModal:!1},this.cdr),this.showSnackbar(`\uD3B8\uC9D1\uB41C PDF\uAC00 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4: ${e}`),console.log("\u2705 \uD3B8\uC9D1\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC")}catch(n){console.error("\u274C \uD3B8\uC9D1\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",n),this.showSnackbar("PDF \uB2E4\uC6B4\uB85C\uB4DC\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}else{if(!this.pdfSrc){this.showSnackbar("\uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}console.log("\u{1F4C4} \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC2DC\uC791..."),this.pdfPageManager.downloadPdf(this.pdfSrc,e),this.showSnackbar(`${e} \uB2E4\uC6B4\uB85C\uB4DC \uC2DC\uC791`),console.log("\u2705 \uC6D0\uBCF8 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC")}})}mergePdfFiles(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("\uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}this.showMergeModal=!0,setTimeout(()=>{this.mergeModalComponent?.open()},0)})}onMergeModalClose(){this.showMergeModal=!1}onMergeModalConfirm(t){return P(this,null,function*(){t.type==="local"?yield this.mergeWithLocalFiles():t.type==="saved"&&t.selectedDocs&&(yield this.mergeWithSelectedDocuments(t.selectedDocs))})}mergeWithLocalFiles(){return P(this,null,function*(){let t=document.createElement("input");t.type="file",t.accept="application/pdf",t.multiple=!0,t.onchange=e=>P(this,null,function*(){let n=e.target.files;if(n.length!==0)try{this.showSnackbar(`${n.length}\uAC1C\uC758 PDF \uD30C\uC77C\uC744 \uBCD1\uD569\uD558\uB294 \uC911...`);let i=[this.pdfSrc];for(let l of n){let u=URL.createObjectURL(l);i.push(u)}let o=yield this.pdfPageManager.mergePdfs(i);this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),i.slice(1).forEach(l=>URL.revokeObjectURL(l)),this.pdfSrc=o,this.totalPages=yield this.pdfPageManager.getPageCount(o),this.isLeftPanelVisible&&this.generateThumbnails(),this.showSnackbar("PDF \uBCD1\uD569\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(i){console.error("PDF \uBCD1\uD569 \uC2E4\uD328:",i),this.showSnackbar("PDF \uBCD1\uD569\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}}),t.click()})}mergeWithSelectedDocuments(t){return P(this,null,function*(){try{this.showSnackbar(`${t.length}\uAC1C\uC758 \uBB38\uC11C\uB97C \uBCD1\uD569\uD558\uB294 \uC911...`);let e=[this.pdfSrc];for(let i of t)if(i.pdfBase64){let o=this.base64ToBlob(i.pdfBase64),l=URL.createObjectURL(o);e.push(l)}let n=yield this.pdfPageManager.mergePdfs(e);this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),e.slice(1).forEach(i=>URL.revokeObjectURL(i)),this.pdfSrc=n,this.totalPages=yield this.pdfPageManager.getPageCount(n),this.isLeftPanelVisible&&this.generateThumbnails(),this.showSnackbar("PDF \uBCD1\uD569\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("PDF \uBCD1\uD569 \uC2E4\uD328:",e),this.showSnackbar("PDF \uBCD1\uD569\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}mergeWithSavedDocuments(){return P(this,null,function*(){try{let e=(yield this.indexedDbService.getAllDocuments()).filter(_=>_.pdfBase64);if(e.length===0){this.showSnackbar("\uBCD1\uD569\uD560 PDF \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let n=e.map((_,C)=>`${C+1}. ${_.title}`).join(`
`),i=prompt(`\uBCD1\uD569\uD560 \uBB38\uC11C \uBC88\uD638\uB97C \uC27C\uD45C\uB85C \uAD6C\uBD84\uD558\uC5EC \uC785\uB825\uD558\uC138\uC694 (\uC608: 1,3,5):

${n}`);if(!i){this.showSnackbar("\uBCD1\uD569\uC774 \uCDE8\uC18C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");return}let o=i.split(",").map(_=>parseInt(_.trim())-1).filter(_=>_>=0&&_<e.length);if(o.length===0){this.showSnackbar("\uC720\uD6A8\uD55C \uBB38\uC11C\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}this.showSnackbar(`${o.length}\uAC1C\uC758 \uBB38\uC11C\uB97C \uBCD1\uD569\uD558\uB294 \uC911...`);let l=[this.pdfSrc];for(let _ of o){let C=e[_];if(C.pdfBase64){let b=this.base64ToBlob(C.pdfBase64),x=URL.createObjectURL(b);l.push(x)}}let u=yield this.pdfPageManager.mergePdfs(l);this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),l.slice(1).forEach(_=>URL.revokeObjectURL(_)),this.pdfSrc=u,this.totalPages=yield this.pdfPageManager.getPageCount(u),this.isLeftPanelVisible&&this.generateThumbnails(),this.showSnackbar("PDF \uBCD1\uD569\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}catch(t){console.error("PDF \uBCD1\uD569 \uC2E4\uD328:",t),this.showSnackbar("PDF \uBCD1\uD569\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}mergeOriginalAndEdited(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}if(!this.pdfEditorVisible||!this.pdfEditorData){this.showSnackbar("\uD3B8\uC9D1 \uBAA8\uB4DC\uC5D0\uC11C\uB9CC \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.");return}if(!this.pdfPages||this.pdfPages.length===0){this.showSnackbar("\uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let t=this.pdfEditorData.targetPage;if(!t||t<1){this.showSnackbar("\uC6D0\uBCF8 \uD398\uC774\uC9C0 \uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{let n=yield(yield fetch(this.pdfSrc)).arrayBuffer(),o=(yield PDFLib.PDFDocument.load(n)).getPageCount();console.log(`\u{1F4C4} PDF \uCD1D \uD398\uC774\uC9C0 \uC218: ${o}`)}catch(e){console.error("\u274C PDF \uD398\uC774\uC9C0 \uC218 \uD655\uC778 \uC2E4\uD328:",e),this.showSnackbar("PDF \uD398\uC774\uC9C0 \uC218\uB97C \uD655\uC778\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{if(!(yield qe(`\uC6D0\uBCF8 PDF\uC758 ${t}\uD398\uC774\uC9C0\uB97C \uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0\uB85C \uAD50\uCCB4\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`)))return;this.mergeProgressVisible=!0,this.mergeProgressStep="\uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0\uB97C PDF\uB85C \uC0DD\uC131 \uC911...",this.mergeProgressPercent=0,console.log("\u{1F504} [mergeOriginalAndEdited] 1\uB2E8\uACC4: \uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0\uB97C PDF\uB85C \uC0DD\uC131"),this.mergeProgressPercent=10;let n=yield this.pdfExportFullService.generatePdfBytes(this.pdfPages);if(!n)throw new Error("\uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0 PDF \uC0DD\uC131 \uC2E4\uD328");let i=new Blob([new Uint8Array(n)],{type:"application/pdf"}),o=URL.createObjectURL(i);console.log("\u2705 \uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0 PDF \uC0DD\uC131 \uC644\uB8CC"),this.mergeProgressPercent=25,console.log("\u{1F504} [mergeOriginalAndEdited] 2\uB2E8\uACC4: \uC6D0\uBCF8 PDF \uBD84\uB9AC"),this.mergeProgressStep="\uC6D0\uBCF8 PDF \uBD84\uC11D \uC911...",this.mergeProgressPercent=30;let l=this.pdfEditorData.originalTotalPages;if(!l){console.log("\u26A0\uFE0F originalTotalPages \uC5C6\uC74C - \uC6D0\uBCF8 PDF\uC5D0\uC11C \uC9C1\uC811 \uD655\uC778");try{let D=yield(yield fetch(this.pdfSrc)).arrayBuffer();l=(yield PDFLib.PDFDocument.load(D)).getPageCount(),console.log("\u2705 \uC6D0\uBCF8 PDF\uC5D0\uC11C \uD398\uC774\uC9C0 \uC218 \uD655\uC778:",l)}catch(S){throw console.error("\u274C \uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218 \uD655\uC778 \uC2E4\uD328:",S),new Error("\uC6D0\uBCF8 PDF \uD398\uC774\uC9C0 \uC218\uB97C \uD655\uC778\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}}console.log("   \uC6D0\uBCF8 \uCD1D \uD398\uC774\uC9C0:",l),console.log("   \uAD50\uCCB4\uD560 \uD398\uC774\uC9C0:",t),this.mergeProgressPercent=40;let u=null;if(t>1){this.mergeProgressStep=`\uC55E\uBD80\uBD84 \uD398\uC774\uC9C0 \uCD94\uCD9C \uC911 (1-${t-1})...`;let S=Array.from({length:t-1},(j,W)=>W+1);console.log("   \uC55E\uBD80\uBD84 \uD398\uC774\uC9C0:",S),u=yield this.pdfPageManager.extractPages(this.pdfSrc,S);let I=yield(yield fetch(u)).arrayBuffer(),H=yield PDFLib.PDFDocument.load(I);console.log("\u2705 \uC55E\uBD80\uBD84 \uCD94\uCD9C \uC644\uB8CC (\uD398\uC774\uC9C0 1 ~",t-1,"), \uC2E4\uC81C \uD398\uC774\uC9C0 \uC218:",H.getPageCount())}else console.log("   \uC55E\uBD80\uBD84 \uC5C6\uC74C (\uCCAB \uD398\uC774\uC9C0 \uAD50\uCCB4)");this.mergeProgressPercent=55;let _=null;if(t<l){this.mergeProgressStep=`\uB4B7\uBD80\uBD84 \uD398\uC774\uC9C0 \uCD94\uCD9C \uC911 (${t+1}-${l})...`;let S=Array.from({length:l-t},(D,I)=>t+1+I);console.log("   \uB4B7\uBD80\uBD84 \uD398\uC774\uC9C0:",S),console.log("   \uB4B7\uBD80\uBD84 \uD398\uC774\uC9C0 \uAC1C\uC218:",S.length),console.log("   \uB4B7\uBD80\uBD84 \uCCAB \uD398\uC774\uC9C0:",S[0]),console.log("   \uB4B7\uBD80\uBD84 \uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0:",S[S.length-1]);try{_=yield this.pdfPageManager.extractPages(this.pdfSrc,S);let I=yield(yield fetch(_)).arrayBuffer(),H=yield PDFLib.PDFDocument.load(I);console.log("\u2705 \uB4B7\uBD80\uBD84 \uCD94\uCD9C \uC644\uB8CC (\uD398\uC774\uC9C0",t+1,"~",l,"), \uC2E4\uC81C \uD398\uC774\uC9C0 \uC218:",H.getPageCount()),console.log("   \uB4B7\uBD80\uBD84 URL:",_.substring(0,50))}catch(D){throw console.error("\u274C \uB4B7\uBD80\uBD84 \uCD94\uCD9C \uC2E4\uD328:",D),D}}else console.log("   \uB4B7\uBD80\uBD84 \uC5C6\uC74C (\uB9C8\uC9C0\uB9C9 \uD398\uC774\uC9C0 \uAD50\uCCB4)");this.mergeProgressPercent=70,console.log("\u{1F504} [mergeOriginalAndEdited] 3\uB2E8\uACC4: PDF \uBCD1\uD569"),this.mergeProgressStep="PDF \uD398\uC774\uC9C0 \uBCD1\uD569 \uC911...",this.mergeProgressPercent=75;let C=[];u&&(C.push(u),console.log("   - \uC55E\uBD80\uBD84 \uCD94\uAC00:",u.substring(0,50))),C.push(o),console.log("   - \uD3B8\uC9D1\uBCF8 \uCD94\uAC00:",o.substring(0,50)),_&&(C.push(_),console.log("   - \uB4B7\uBD80\uBD84 \uCD94\uAC00:",_.substring(0,50))),console.log("   \uBCD1\uD569\uD560 PDF \uAC1C\uC218:",C.length);let b=yield this.pdfPageManager.mergePdfs(C);console.log("\u2705 PDF \uBCD1\uD569 \uC644\uB8CC:",b.substring(0,50)),this.mergeProgressPercent=90,this.mergeProgressStep="\uCD5C\uC885 PDF \uC0DD\uC131 \uC911...";let v=yield(yield fetch(b)).arrayBuffer(),B=(yield PDFLib.PDFDocument.load(v)).getPageCount();if(console.log("   \uBCD1\uD569\uB41C PDF \uD398\uC774\uC9C0 \uC218:",B),console.log("   \uC608\uC0C1 \uD398\uC774\uC9C0 \uC218:",l),URL.revokeObjectURL(o),u&&URL.revokeObjectURL(u),_&&URL.revokeObjectURL(_),this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=b,this.mergeProgressPercent=95,this.cdr.detectChanges(),this.tabBarComponent){let D=yield(yield fetch(b)).blob();yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,b,D)}this.pdfEditorVisible=!1,this.pdfEditorData=null,this.pdfPages=[],this.currentTabView="viewer",this.currentPage=t,this.mergeProgressPercent=100,this.mergeProgressStep="\uC644\uB8CC!",setTimeout(()=>{this.mergeProgressVisible=!1},500),this.showSnackbar(`\u2705 \uC6D0\uBCF8 ${t}\uD398\uC774\uC9C0\uAC00 \uD3B8\uC9D1\uD55C \uD398\uC774\uC9C0\uB85C \uAD50\uCCB4\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}catch(e){console.error("\uC6D0\uBCF8/\uD3B8\uC9D1\uBCF8 \uBCD1\uD569 \uC2E4\uD328:",e),this.mergeProgressVisible=!1,this.showSnackbar("\uC6D0\uBCF8/\uD3B8\uC9D1\uBCF8 \uBCD1\uD569\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}base64ToBlob(t){let e=t.split(",")[1]||t,n=atob(e),i=new Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);let o=new Uint8Array(i);return new Blob([o],{type:"application/pdf"})}openLockModal(){if(!this.pdfSrc){this.snackbar.showWarning("\uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}setTimeout(()=>{this.lockModalComponent?.open()},0)}onLockModalClose(){}onLockModalConfirm(t){return P(this,null,function*(){if(this.pdfSrc)try{this.snackbar.showInfo("\uAD8C\uD55C \uC124\uC815\uC744 \uC801\uC6A9\uD558\uB294 \uC911...");let e=yield this.pdfSecurityService.applyPermissionsAsMetadata(this.pdfSrc,t);this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=e;let n=this.pdfSecurityService.getPermissionDescription(t);this.snackbar.showSuccess(`\uAD8C\uD55C \uC124\uC815\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. (${n})`)}catch(e){console.error("\uAD8C\uD55C \uC124\uC815 \uC2E4\uD328:",e),this.snackbar.showError("\uAD8C\uD55C \uC124\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}openPasswordModal(){if(!this.pdfSrc){this.snackbar.showWarning("\uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}setTimeout(()=>{this.passwordModalComponent?.open()},0)}onPasswordModalClose(){}onPasswordModalConfirm(t){return P(this,null,function*(){if(this.pdfSrc)try{this.snackbar.showInfo("\uBE44\uBC00\uBC88\uD638 \uC124\uC815 \uC911..."),this.snackbar.showWarning("\uBE44\uBC00\uBC88\uD638 \uC554\uD638\uD654\uB294 \uC11C\uBC84 API\uAC00 \uD544\uC694\uD569\uB2C8\uB2E4. \uD604\uC7AC\uB294 \uBA54\uD0C0\uB370\uC774\uD130\uB85C\uB9CC \uC800\uC7A5\uB429\uB2C8\uB2E4.")}catch(e){console.error("\uBE44\uBC00\uBC88\uD638 \uC124\uC815 \uC2E4\uD328:",e),this.snackbar.showError("\uBE44\uBC00\uBC88\uD638 \uC124\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}openSecuritySettings(){if(!this.pdfSrc){this.snackbar.showWarning("\uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}setTimeout(()=>{this.securitySettingsComponent?.open()},0)}toggleFavorite(){return P(this,null,function*(){if(!this.currentDocumentName){this.snackbar.showWarning("\uC5F4\uB9B0 \uBB38\uC11C\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{this.currentDocumentIsFavorite=!this.currentDocumentIsFavorite;let t=yield this.indexedDbService.getDocumentByTitle(this.currentDocumentName);if(t){t.isFavorite=this.currentDocumentIsFavorite,yield this.indexedDbService.updateDocument(t),yield this.loadRecentFiles();let e=this.currentDocumentIsFavorite?`"${this.currentDocumentName}"\uC744(\uB97C) \uC990\uACA8\uCC3E\uAE30\uC5D0 \uCD94\uAC00\uD588\uC2B5\uB2C8\uB2E4.`:`"${this.currentDocumentName}"\uC744(\uB97C) \uC990\uACA8\uCC3E\uAE30\uC5D0\uC11C \uC81C\uAC70\uD588\uC2B5\uB2C8\uB2E4.`;this.showSnackbar(e)}}catch(t){console.error("\uC990\uACA8\uCC3E\uAE30 \uD1A0\uAE00 \uC2E4\uD328:",t),this.snackbar.showError("\uC990\uACA8\uCC3E\uAE30 \uC124\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),this.currentDocumentIsFavorite=!this.currentDocumentIsFavorite}})}updateFavoriteStatus(){return P(this,null,function*(){if(!this.currentDocumentName){this.currentDocumentIsFavorite=!1;return}try{let t=yield this.indexedDbService.getDocumentByTitle(this.currentDocumentName);this.currentDocumentIsFavorite=t?.isFavorite||!1}catch(t){console.error("\uC990\uACA8\uCC3E\uAE30 \uC0C1\uD0DC \uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328:",t),this.currentDocumentIsFavorite=!1}})}onSecuritySettingsClose(){}onSecuritySettingsConfirm(t){return P(this,null,function*(){if(this.pdfSrc)try{this.snackbar.showInfo("\uBCF4\uC548 \uC124\uC815\uC744 \uC801\uC6A9\uD558\uB294 \uC911...");let e=this.pdfSecurityService.validateSecurityConfig(t);if(!e.isValid){this.snackbar.showError(`\uC124\uC815 \uC624\uB958: ${e.errors.join(", ")}`);return}let n=yield this.pdfSecurityService.applyPermissionsAsMetadata(this.pdfSrc,t.permissions);this.pdfSrc&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=n;let i="\uBCF4\uC548 \uC124\uC815\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.";t.passwords&&(t.passwords.userPassword||t.passwords.ownerPassword)?(i+=" (\uC8FC\uC758: \uC2E4\uC81C \uC554\uD638\uD654\uB294 \uC11C\uBC84 API \uD544\uC694)",this.snackbar.showWarning(i)):this.snackbar.showSuccess(i)}catch(e){console.error("\uBCF4\uC548 \uC124\uC815 \uC2E4\uD328:",e),this.snackbar.showError("\uBCF4\uC548 \uC124\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}openHighlightPropertiesModal(){if(console.log("\u{1F3A8} [openHighlightPropertiesModal] \uC2DC\uC791"),console.log("\u{1F3A8} [openHighlightPropertiesModal] pdfSrc:",this.pdfSrc),!this.pdfSrc){this.snackbar.showWarning("\uBA3C\uC800 PDF\uB97C \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}console.log("\u{1F3A8} [openHighlightPropertiesModal] highlightPropertiesModalComponent:",this.highlightPropertiesModalComponent),setTimeout(()=>{this.highlightPropertiesModalComponent?(console.log("\u{1F3A8} [openHighlightPropertiesModal] open() \uD638\uCD9C"),this.highlightPropertiesModalComponent.open()):console.error("\u274C [openHighlightPropertiesModal] \uBAA8\uB2EC \uCEF4\uD3EC\uB10C\uD2B8\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4")},0)}onHighlightPropertiesModalClose(){console.log("\u{1F3A8} [onHighlightPropertiesModalClose] \uBAA8\uB2EC \uB2EB\uAE30")}onHighlightPropertiesModalConfirm(t){console.log("\u{1F3A8} \uD558\uC774\uB77C\uC774\uD2B8 \uC18D\uC131 \uC801\uC6A9:",t),this.currentHighlightColor=t.color,this.currentHighlightOpacity=t.opacity,this.applyHighlightPropertiesToPdfJs(t.color,t.opacity),this.onToolbarAction("highlight"),this.snackbar.showSuccess(`\uD558\uC774\uB77C\uC774\uD2B8 \uC124\uC815 \uC644\uB8CC (\uC0C9\uC0C1: ${t.color}, \uD22C\uBA85\uB3C4: ${Math.round(t.opacity*100)}%)`)}applyHighlightPropertiesToPdfJs(t,e){try{console.log("\u{1F3A8} [applyHighlightPropertiesToPdfJs] \uC0C9\uC0C1 \uC801\uC6A9:",t,"\uD22C\uBA85\uB3C4:",e),setTimeout(()=>{let n=document.querySelectorAll("#editorHighlightParamsToolbar button.colorPicker");console.log("\u{1F3A8} \uC0C9\uC0C1 \uBC84\uD2BC \uAC1C\uC218:",n.length);let i=document.querySelector("ngx-extended-pdf-viewer");if(i){let l=this.hexToRgb(t);l&&(i.style.setProperty("--highlight-bg-color",`rgba(${l.r}, ${l.g}, ${l.b}, ${e})`),i.style.setProperty("--highlight-selected-bg-color",`rgba(${l.r}, ${l.g}, ${l.b}, ${Math.min(e+.2,1)})`),console.log("\u2705 CSS \uBCC0\uC218\uB85C \uD558\uC774\uB77C\uC774\uD2B8 \uC0C9\uC0C1 \uC124\uC815 \uC644\uB8CC:",`rgba(${l.r}, ${l.g}, ${l.b}, ${e})`))}let o=document.querySelector('#editorHighlightParamsToolbar input[type="color"]');o&&(o.value=t,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})),console.log("\u2705 \uC0C9\uC0C1 input \uC124\uC815 \uC644\uB8CC:",t))},300)}catch(n){console.error("\u274C \uD558\uC774\uB77C\uC774\uD2B8 \uC18D\uC131 \uC801\uC6A9 \uC2E4\uD328:",n)}}hexToRgb(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}onRotateAllPagesLeft(){return P(this,null,function*(){if(console.log("\u{1F504} [\uD68C\uC804 \uC2DC\uC791] currentActiveMenu:",this.currentActiveMenu),!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804 \uC911...");let t=yield this.pdfPageManager.rotateAllPages(this.pdfSrc,-90);if(console.log("\u{1F504} [\uD68C\uC804 \uC911\uAC04] currentActiveMenu:",this.currentActiveMenu),this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=t,this.tabBarComponent&&this.currentFileName){let n=yield(yield fetch(t)).blob();yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,t,n)}console.log("\u{1F504} [\uD68C\uC804 \uC644\uB8CC] currentActiveMenu:",this.currentActiveMenu),this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uC67C\uCABD \uD68C\uC804 \uC644\uB8CC")}catch(t){console.error("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804 \uC2E4\uD328:",t),this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."),console.log("\u{1F504} [\uD68C\uC804 \uC5D0\uB7EC] currentActiveMenu:",this.currentActiveMenu)}})}onRotateAllPagesRight(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804 \uC911...");let t=yield this.pdfPageManager.rotateAllPages(this.pdfSrc,90);if(this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=t,this.tabBarComponent&&this.currentFileName){let n=yield(yield fetch(t)).blob();yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,t,n)}this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uC624\uB978\uCABD \uD68C\uC804 \uC644\uB8CC")}catch(t){console.error("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804 \uC2E4\uD328:",t),this.showSnackbar("\uC804\uCCB4 \uD398\uC774\uC9C0 \uD68C\uC804\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}addImage(){return P(this,null,function*(){try{console.log("\u{1F4F7} \uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC2DC\uC791");let t=yield this.imageUploadService.uploadAndCreateImageElement({maxWidth:300,maxHeight:300,centerOnPage:!0,pageWidth:595,pageHeight:842});if(!t){console.log("\u274C \uC774\uBBF8\uC9C0 \uC120\uD0DD \uCDE8\uC18C\uB428");return}let e=this.currentPage-1;e>=0&&e<this.pdfPages.length?(this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,e,t),this.selectedElement=t,this.showSnackbar("\uC774\uBBF8\uC9C0\uAC00 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u2705 \uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC644\uB8CC:",t)):(console.warn("\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",e),this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))}catch(t){console.error("\u274C \uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC2E4\uD328:",t),this.showSnackbar("\uC774\uBBF8\uC9C0 \uCD94\uAC00 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}addShape(){console.log("\u{1F537} \uB3C4\uD615 \uC120\uD0DD \uBAA8\uB2EC \uC5F4\uAE30"),this.showShapeModal=!0}onShapeSelect(t){console.log("\u{1F537} \uB3C4\uD615 \uC0DD\uC131:",t);try{let e=this.shapeCreatorService.createShape(t,{centerOnPage:!0,pageWidth:595,pageHeight:842}),n=this.currentPage-1;if(n>=0&&n<this.pdfPages.length){this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,n,e),this.selectedElement=e;let i=this.shapeCreatorService.getShapeTypeName(t);this.showSnackbar(`${i}\uC774(\uAC00) \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),console.log("\u2705 \uB3C4\uD615 \uCD94\uAC00 \uC644\uB8CC:",e)}else console.warn("\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",n),this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\u274C \uB3C4\uD615 \uC0DD\uC131 \uC2E4\uD328:",e),this.showSnackbar("\uB3C4\uD615 \uCD94\uAC00 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}finally{this.showShapeModal=!1}}onCancelShapeModal(){console.log("\u274C \uB3C4\uD615 \uC120\uD0DD \uCDE8\uC18C"),this.showShapeModal=!1}addSignature(){console.log("\u270D\uFE0F \uC11C\uBA85 \uCD94\uAC00 \uC2DC\uC791"),this.showSignaturePadModal=!0}onSignatureCreated(t){console.log("\u270D\uFE0F \uC11C\uBA85 \uC0DD\uC131:",t);try{let e=this.signatureService.createSignatureElement(t,{centerOnPage:!0,pageWidth:595,pageHeight:842}),n=this.currentPage-1;n>=0&&n<this.pdfPages.length?(this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,n,e),this.selectedElement=e,this.showSnackbar("\uC11C\uBA85\uC774 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),console.log("\u2705 \uC11C\uBA85 \uCD94\uAC00 \uC644\uB8CC:",e)):(console.warn("\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",n),this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))}catch(e){console.error("\u274C \uC11C\uBA85 \uC0DD\uC131 \uC2E4\uD328:",e),this.showSnackbar("\uC11C\uBA85 \uCD94\uAC00 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}finally{this.showSignaturePadModal=!1}}onCancelSignatureModal(){console.log("\u274C \uC11C\uBA85 \uCD94\uAC00 \uCDE8\uC18C"),this.showSignaturePadModal=!1}addWatermark(){console.log("\u{1F4A7} \uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uC2DC\uC791"),this.showWatermarkConfigModal=!0}onWatermarkCreated(t){console.log("\u{1F4A7} \uC6CC\uD130\uB9C8\uD06C \uC0DD\uC131:",t);try{let e=this.watermarkService.createPatternWatermarks(t,{pageWidth:595,pageHeight:842}),n=this.currentPage-1;if(n>=0&&n<this.pdfPages.length){e.forEach(o=>{this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,n,o)}),this.selectedElement=e[0];let i=e.length>1?`\uC6CC\uD130\uB9C8\uD06C \uD328\uD134\uC774 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4. (${e.length}\uAC1C)`:"\uC6CC\uD130\uB9C8\uD06C\uAC00 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.";this.showSnackbar(i),console.log(`\u2705 \uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uC644\uB8CC: ${e.length}\uAC1C`)}else console.warn("\u26A0\uFE0F \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD398\uC774\uC9C0 \uC778\uB371\uC2A4:",n),this.showSnackbar("\uD398\uC774\uC9C0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}catch(e){console.error("\u274C \uC6CC\uD130\uB9C8\uD06C \uC0DD\uC131 \uC2E4\uD328:",e),this.showSnackbar("\uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}finally{this.showWatermarkConfigModal=!1}}onCancelWatermarkModal(){console.log("\u274C \uC6CC\uD130\uB9C8\uD06C \uCD94\uAC00 \uCDE8\uC18C"),this.showWatermarkConfigModal=!1}addVectorPath(){console.log("\u{1F3A8} \uBCA1\uD130 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uBAA8\uB2EC \uC5F4\uAE30"),console.log("\u{1F3A8} \uD604\uC7AC showVectorPathDrawer \uC0C1\uD0DC:",this.showVectorPathDrawer),this.showVectorPathDrawer=!0,console.log("\u{1F3A8} \uBCC0\uACBD \uD6C4 showVectorPathDrawer \uC0C1\uD0DC:",this.showVectorPathDrawer),this.cdr.detectChanges(),console.log("\u{1F3A8} \uBCC0\uACBD \uAC10\uC9C0 \uC644\uB8CC")}onVectorPathsChanged(t){if(console.log("\u{1F3A8} \uBCA1\uD130 \uD328\uC2A4 \uC801\uC6A9:",t),!t||t.length===0){console.warn("\u26A0\uFE0F \uC801\uC6A9\uD560 \uD328\uC2A4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}t.forEach((e,n)=>{try{let i=this.vectorPathService.createVectorPathElement({pathData:e.d,strokeColor:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity},{pageWidth:595,pageHeight:842}),o=this.currentPage-1;o>=0&&o<this.pdfPages.length&&(this.pdfPages=this.pdfElementManager.addElementToPage(this.pdfPages,o,i),n===t.length-1&&(this.selectedElement=i),console.log(`\u2705 \uBCA1\uD130 \uD328\uC2A4 ${n+1}/${t.length} \uCD94\uAC00 \uC644\uB8CC`))}catch(i){console.error(`\u274C \uBCA1\uD130 \uD328\uC2A4 ${n+1} \uC0DD\uC131 \uC2E4\uD328:`,i)}}),this.showSnackbar(`${t.length}\uAC1C\uC758 \uBCA1\uD130 \uD328\uC2A4\uAC00 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),this.showVectorPathDrawer=!1}onCloseVectorPathDrawer(){console.log("\u274C \uBCA1\uD130 \uD328\uC2A4 \uADF8\uB9AC\uAE30 \uCDE8\uC18C"),this.showVectorPathDrawer=!1}addPage(){console.log("Add page - \uAD6C\uD604 \uD544\uC694"),this.showSnackbar("\uD398\uC774\uC9C0 \uCD94\uAC00 \uAE30\uB2A5\uC740 \uC544\uC9C1 \uAD6C\uD604\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")}deleteCurrentPage(){return P(this,null,function*(){if(!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}if(!this.pageReorderVisible){this.showSnackbar("\uD398\uC774\uC9C0 \uC7AC\uBC30\uC5F4 \uBAA8\uB4DC\uC5D0\uC11C \uD398\uC774\uC9C0\uB97C \uC120\uD0DD\uD55C \uD6C4 \uC0AD\uC81C\uD574\uC8FC\uC138\uC694.");return}if(this.selectedPagesInReorder.length===0){this.showSnackbar("\uC0AD\uC81C\uD560 \uD398\uC774\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");return}if(this.totalPages-this.selectedPagesInReorder.length<1){this.showSnackbar("\uCD5C\uC18C 1\uAC1C\uC758 \uD398\uC774\uC9C0\uB294 \uB0A8\uC544\uC788\uC5B4\uC57C \uD569\uB2C8\uB2E4.");return}try{let t=this.selectedPagesInReorder.length,e=this.selectedPagesInReorder.sort((o,l)=>o-l).join(", ");if(!(yield qe(`\uD398\uC774\uC9C0 ${e}\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? (\uCD1D ${t}\uAC1C)`)))return;this.showSnackbar(`${t}\uAC1C \uD398\uC774\uC9C0 \uC0AD\uC81C \uC911...`);let i=yield this.pdfPageManager.deletePages(this.pdfSrc,this.selectedPagesInReorder);if(this.pdfSrc.startsWith("blob:")&&URL.revokeObjectURL(this.pdfSrc),this.pdfSrc=i,this.totalPages-=t,this.selectedPagesInReorder=[],this.cdr.detectChanges(),this.tabBarComponent&&this.currentFileName){let l=yield(yield fetch(i)).blob();yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,i,l)}this.showSnackbar(`${t}\uAC1C \uD398\uC774\uC9C0 \uC0AD\uC81C \uC644\uB8CC (\uB0A8\uC740 \uD398\uC774\uC9C0: ${this.totalPages})`)}catch(t){console.error("\uD398\uC774\uC9C0 \uC0AD\uC81C \uC2E4\uD328:",t),this.showSnackbar("\uD398\uC774\uC9C0 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}zoomIn(){this.zoomLevel=Math.min(this.zoomLevel+10,200),this.showSnackbar(`\uD655\uB300: ${this.zoomLevel}%`)}zoomOut(){this.zoomLevel=Math.max(this.zoomLevel-10,50),this.showSnackbar(`\uCD95\uC18C: ${this.zoomLevel}%`)}rotateCurrentPage(){console.log("Rotate page - \uAD6C\uD604 \uD544\uC694"),this.showSnackbar("\uD398\uC774\uC9C0 \uD68C\uC804 \uAE30\uB2A5\uC740 \uC544\uC9C1 \uAD6C\uD604\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")}onElementPropertyChange(t){console.log("Element property change:",t)}onDeselectElement(){this.selectedElement=null}onElementClick(t){this.selectedElement=t,console.log("\u2705 \uC694\uC18C \uC120\uD0DD:",t)}onElementSelected(t){console.log("\u{1F3AF} [EzReaderMain] \uC694\uC18C \uC120\uD0DD\uB428:",t.type,t.id),this.selectedElement=t,this.showRightPanel?(console.log("\u{1F4DD} \uC6B0\uCE21 \uD328\uB110\uC5D0 \uC120\uD0DD\uB41C \uC694\uC18C \uC18D\uC131 \uD45C\uC2DC"),this.cdr.detectChanges()):console.log("\u26A0\uFE0F \uC6B0\uCE21 \uD328\uB110\uC774 \uB2EB\uD600\uC788\uC5B4 \uC694\uC18C \uC18D\uC131\uC744 \uD45C\uC2DC\uD558\uC9C0 \uC54A\uC74C (\uC694\uC18C\uB294 \uC800\uC7A5\uB428)")}onElementUpdate(t){console.log("\u{1F4DD} \uC694\uC18C \uC5C5\uB370\uC774\uD2B8:",t),this.pdfEditorVisible&&this.tabBarComponent&&(this.pdfEditorData={pages:this.pdfPages,currentPage:this.currentPage,totalPages:this.pdfPages.length,targetPage:this.pdfEditorData?.targetPage},this.tabBarComponent.updateActiveTabView("editor",this.pdfEditorData))}onDeleteElement(){this.selectedElement&&(console.log("Delete element:",this.selectedElement),this.selectedElement=null,this.showSnackbar("\uC694\uC18C\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))}onPageSelect(t){this.currentPage=t}onSidebarAction(t){if(t.type==="menu-click"&&t.menuId==="request-thumbnails"){console.log("\u{1F4F8} [onSidebarAction] \uC378\uB124\uC77C \uC0DD\uC131 \uC694\uCCAD:",t.source),this.generateThumbnailsForAI(t.source);return}if(t.type==="menu-click"&&t.menuId==="pdf-analysis"){console.log("\u{1F50D} [onSidebarAction] PDF \uBD84\uC11D \uC694\uCCAD:",t.source,"\uD398\uC774\uC9C0:",t.data?.targetPage),this.startPdfAnalysis(t.source,t.data?.targetPage);return}if(t.type==="menu-click"){if(t.menuId)this.pdfToolsPanelMenuId=t.menuId;else if(t.menuId===""){console.log("\u{1F4DD} [onSidebarAction] pdfToolsPanelMenuId \uCD08\uAE30\uD654 (\uBE48 \uBB38\uC790\uC5F4 \uBC1B\uC74C)"),this.pdfToolsPanelMenuId=null;return}this.isRightPanelCollapsed&&(this.expandRightPanel(),this.cdr.detectChanges()),this.showRightPanel||(this.showRightPanel=!0,this.isRightPanelCollapsed=!1,this.cdr.detectChanges())}t.type==="menu-click"&&t.menuId==="pdf-analysis"&&(console.log("\u{1F4CA} PDF \uBD84\uC11D \uC2E4\uD589 \uC694\uCCAD"),t.data?.targetPage&&(this.selectedAnalysisPage=t.data.targetPage,console.log("\u{1F4C4} \uBD84\uC11D \uD398\uC774\uC9C0 \uC124\uC815:",this.selectedAnalysisPage)),t.source==="ai-translate"?this.openPdfAnalysisDashboard({showDashboard:!1,reopenMenu:"ai-translate"}):t.source==="ai-summary"?this.openPdfAnalysisDashboard({showDashboard:!1,reopenMenu:"ai-summary"}):this.openPdfAnalysisDashboard())}keepOnlyFirstPage(){console.log("Keep only first page - \uAD6C\uD604 \uD544\uC694"),this.showSnackbar("\uCCAB \uD398\uC774\uC9C0\uB9CC \uB0A8\uAE30\uAE30 \uAE30\uB2A5\uC740 \uC544\uC9C1 \uAD6C\uD604\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")}generateThumbnailsForAI(t){return P(this,null,function*(){if(console.log("\u{1F4F8} [generateThumbnailsForAI] \uC2DC\uC791:",t),!this.pdfSrc){this.showSnackbar("PDF \uD30C\uC77C\uC744 \uBA3C\uC800 \uC5F4\uC5B4\uC8FC\uC138\uC694.");return}try{this.showSnackbar("\uC378\uB124\uC77C\uC744 \uC0DD\uC131\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4...");let e=Math.min(this.totalPages,10),n=Array.from({length:e},(o,l)=>l+1);this.leftPanelThumbnails=n.map(o=>({id:o,title:`\uD398\uC774\uC9C0 ${o}`,pageNumber:o,active:o===this.currentPage,icon:"",isLoading:!0})),this.cdr.detectChanges();let i=this.pdfThumbnailService.generateThumbnailsBatch(this.pdfSrc,n,{scale:.3,quality:.8,format:"image/jpeg"},(o,l)=>{console.log(`\u{1F4F8} \uC378\uB124\uC77C \uC0DD\uC131\uB428: \uD398\uC774\uC9C0 ${o}`);let u=this.leftPanelThumbnails.findIndex(_=>_.pageNumber===o);u!==-1&&(this.leftPanelThumbnails[u].icon=l,this.leftPanelThumbnails[u].isLoading=!1,this.leftPanelThumbnails=[...this.leftPanelThumbnails],this.cdr.detectChanges())});setTimeout(()=>{console.log("\u23F0 1\uCD08 \uACBD\uACFC - \uBAA8\uB4E0 \uB85C\uB529 \uC0C1\uD0DC \uAC15\uC81C \uC885\uB8CC"),this.leftPanelThumbnails.forEach(o=>{o.isLoading=!1}),this.leftPanelThumbnails=[...this.leftPanelThumbnails],this.cdr.detectChanges()},1e3),yield i,console.log("\u{1F4F8} \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC, \uBAA8\uB4E0 \uB85C\uB529 \uC0C1\uD0DC \uD574\uC81C"),this.leftPanelThumbnails.forEach(o=>{o.isLoading=!1,o.icon||console.warn("\u26A0\uFE0F \uC378\uB124\uC77C \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uB294 \uD398\uC774\uC9C0:",o.pageNumber)}),this.leftPanelThumbnails=[...this.leftPanelThumbnails],console.log("\u2705 \uC378\uB124\uC77C \uC0DD\uC131 \uC644\uB8CC:",this.leftPanelThumbnails.length),this.showSnackbar("\uC378\uB124\uC77C \uC0DD\uC131\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uD398\uC774\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694."),this.cdr.detectChanges()}catch(e){console.error("\u274C \uC378\uB124\uC77C \uC0DD\uC131 \uC2E4\uD328:",e),this.showSnackbar("\uC378\uB124\uC77C \uC0DD\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."),this.leftPanelThumbnails.forEach(n=>{n.isLoading=!1}),this.cdr.detectChanges()}})}startPdfAnalysis(t,e){return P(this,null,function*(){if(console.log("\u{1F50D} [startPdfAnalysis] \uC2DC\uC791:",t,"\uD398\uC774\uC9C0:",e),!this.pdfTextStreamData){this.showSnackbar("PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}try{this.showSnackbar(`${e}\uD398\uC774\uC9C0 \uBD84\uC11D\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4...`),this.cdr.detectChanges(),console.log("\u2705 \uBD84\uC11D \uC900\uBE44 \uC644\uB8CC - \uC790\uC2DD \uCEF4\uD3EC\uB10C\uD2B8\uC5D0\uC11C \uD14D\uC2A4\uD2B8 \uCD94\uCD9C \uC2DC\uC791")}catch(n){console.error("\u274C PDF \uBD84\uC11D \uC2E4\uD328:",n),this.showSnackbar("PDF \uBD84\uC11D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}initializeNewDocumentForCombined(){this.pdfPages=[],this.currentPage=1,this.totalPages=0,console.log("\u{1F195} [Ez-Reader] \uC0C8 \uBB38\uC11C \uCD08\uAE30\uD654 \uC644\uB8CC")}extractImagesFromPdfForCombined(){return P(this,null,function*(){let t=new Map;if(console.log("\u{1F5BC}\uFE0F [Ez-Reader] \uD63C\uD569 \uBB38\uC11C \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC2DC\uC791"),console.log("   - this.imageData:",!!this.imageData),console.log("   - this.pdfAnalysisData?.imageInfo:",!!this.pdfAnalysisData?.imageInfo),this.pdfAnalysisData?.imageInfo?.images&&this.pdfAnalysisData.imageInfo.images.length>0){console.log("\u{1F3AF} [Ez-Reader] PdfImageExtractorService\uB85C \uC774\uBBF8\uC9C0 \uCD94\uCD9C");try{let e=this.pdfImageExtractor.extractFromAnalysisData(this.pdfAnalysisData,{preferOriginal:!0});console.log(`\uFFFD [Ez-Reader] \uCD94\uCD9C \uACB0\uACFC: ${e.images.length}\uAC1C \uC774\uBBF8\uC9C0`);for(let n of e.images){console.log(`   \u{1F5BC}\uFE0F \uD398\uC774\uC9C0 ${n.pageNumber}: PDF \uC88C\uD45C x=${n.x.toFixed(2)}, y=${n.y.toFixed(2)}, w=${n.width.toFixed(2)}, h=${n.height.toFixed(2)}`);let i=this.pdfAnalysisData?.pageHeight||841.89,o=i-n.y-n.height;console.log(`   \u{1F504} \uC88C\uD45C \uBCC0\uD658: PDF Y=${n.y.toFixed(2)} \u2192 Canvas Y=${o.toFixed(2)} (\uD398\uC774\uC9C0 \uB192\uC774=${i})`);let l={id:`image-from-analysis-${Date.now()}-${Math.random()}`,type:"image",x:n.x,y:o,width:n.width,height:n.height,src:n.src,transform:n.transform,pageNumber:n.pageNumber,zIndex:-1};console.log(`   \u2705 \uC774\uBBF8\uC9C0 \uC694\uC18C \uC0DD\uC131 \uC644\uB8CC (Transform: ${n.transform?`[${n.transform.map(_=>_.toFixed(2)).join(", ")}]`:"N/A"})`);let u=t.get(n.pageNumber)||[];u.push(l),t.set(n.pageNumber,u)}return console.log(`\u2705 [Ez-Reader] PdfImageExtractorService\uC5D0\uC11C \uC774\uBBF8\uC9C0 ${e.images.length}\uAC1C \uCD94\uCD9C \uC644\uB8CC`),console.log("   \u{1F4CA} \uD398\uC774\uC9C0\uBCC4 \uBD84\uD3EC:",Array.from(t.entries()).map(([n,i])=>`\uD398\uC774\uC9C0${n}:${i.length}\uAC1C`)),t}catch(e){console.error("\u274C [Ez-Reader] PdfImageExtractorService \uC2E4\uD328:",e)}}if(this.imageData?.images&&this.imageData.images.length>0){console.warn("\u26A0\uFE0F [Ez-Reader] Fallback: this.imageData \uC0AC\uC6A9 (\uC88C\uD45C\uAC00 \uC815\uD655\uD558\uC9C0 \uC54A\uC744 \uC218 \uC788\uC74C)"),console.log(`\u{1F3AF} [Ez-Reader] this.imageData\uC5D0\uC11C \uC774\uBBF8\uC9C0 \uCD94\uCD9C: ${this.imageData.images.length}\uAC1C \uD398\uC774\uC9C0`);try{for(let n of this.imageData.images){let i=n.pageNumber,o=n.images||[];console.log(`   \u{1F4C4} \uD398\uC774\uC9C0 ${i}: ${o.length}\uAC1C \uC774\uBBF8\uC9C0`);for(let l=0;l<o.length;l++){let u=o[l],_=yield this.convertImageToDataUrl(u);(!_||_.includes("placeholder"))&&console.warn("      \u26A0\uFE0F \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328 - placeholder \uC0AC\uC6A9");let C={id:`image-combined-${i}-${Date.now()}-${Math.random()}`,type:"image",x:0,y:0,width:u.width?u.width/4:595,height:u.height?u.height/4:842,src:_,zIndex:-1},b=t.get(i)||[];b.push(C),t.set(i,b),console.log(`      \u2705 \uC774\uBBF8\uC9C0 \uCD94\uAC00 (\uBCF4\uC815\uB428): x=0, y=0, w=${C.width.toFixed(1)}, h=${C.height.toFixed(1)}`)}}let e=Array.from(t.values()).reduce((n,i)=>n+i.length,0);return console.log(`\u2705 [Ez-Reader] this.imageData\uC5D0\uC11C \uC774\uBBF8\uC9C0 ${e}\uAC1C \uCD94\uCD9C \uC644\uB8CC (\uC88C\uD45C \uBCF4\uC815 \uC801\uC6A9)`),t}catch(e){console.error("\u274C [Ez-Reader] this.imageData \uC774\uBBF8\uC9C0 \uCD94\uCD9C \uC2E4\uD328:",e)}}return t.size===0&&console.warn("\u26A0\uFE0F [Ez-Reader] \uCD94\uCD9C\uB41C \uC774\uBBF8\uC9C0\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),t})}convertImageToDataUrl(t){return P(this,null,function*(){if(t.dataUrl&&typeof t.dataUrl=="string"&&t.dataUrl.startsWith("data:"))return console.log("   \u2705 \uAE30\uC874 dataUrl \uC0AC\uC6A9"),t.dataUrl;if(t.thumbnail&&typeof t.thumbnail=="string"&&t.thumbnail.startsWith("data:"))return console.log("   \u2705 \uC378\uB124\uC77C \uC0AC\uC6A9"),t.thumbnail;if(t.image)try{let e=t.image;if(e.data&&e.width&&e.height){console.log(`   \u{1F3A8} Canvas \uBCC0\uD658 \uC2DC\uC791: ${e.width}x${e.height}, kind=${e.kind}`);let n=document.createElement("canvas");n.width=e.width,n.height=e.height;let i=n.getContext("2d");if(i){let o;if(e.kind===1&&e.data.length===e.width*e.height*3){console.log("   \u{1F504} RGB \u2192 RGBA \uBCC0\uD658 \uC911...");let u=new Uint8ClampedArray(e.width*e.height*4);for(let _=0,C=0;_<e.data.length;_+=3,C+=4)u[C]=e.data[_],u[C+1]=e.data[_+1],u[C+2]=e.data[_+2],u[C+3]=255;o=new ImageData(u,e.width,e.height)}else o=new ImageData(new Uint8ClampedArray(e.data),e.width,e.height);i.putImageData(o,0,0);let l=n.toDataURL("image/png");return console.log("   \u2705 Canvas \uBCC0\uD658 \uC644\uB8CC"),l}}if(e.bitmap&&e.bitmap instanceof ImageBitmap){console.log("   \u{1F3A8} ImageBitmap \uBCC0\uD658 \uC2DC\uC791");let n=document.createElement("canvas");n.width=e.bitmap.width,n.height=e.bitmap.height;let i=n.getContext("2d");if(i){i.drawImage(e.bitmap,0,0);let o=n.toDataURL("image/png");return console.log("   \u2705 ImageBitmap \uBCC0\uD658 \uC644\uB8CC"),o}}}catch(e){console.error("\u274C Canvas \uBCC0\uD658 \uC2E4\uD328:",e)}return console.warn("\u26A0\uFE0F \uC774\uBBF8\uC9C0 \uBCC0\uD658 \uC2E4\uD328 - placeholder \uC0AC\uC6A9"),"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2RkZCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2U8L3RleHQ+PC9zdmc+"})}groupTextItemsForCombined(t){if(!t||t.length===0)return[];let e=[],n=[...t].sort((l,u)=>{let _=u.position.y-l.position.y;return Math.abs(_)>5?_:l.position.x-u.position.x}),i=[],o=n[0]?.position?.y||0;for(let l of n)Math.abs(l.position.y-o)>5?(i.length>0&&e.push(i),i=[l],o=l.position.y):i.push(l);return i.length>0&&e.push(i),e.flat()}saveDocument(){return P(this,null,function*(){try{let t=this.pdfEditorVisible?"editor":"viewer",e=this.currentFileName||`\uBB38\uC11C_${new Date().toLocaleDateString()}`;if(!this.titleInputModalComponent){console.error("TitleInputModalComponent\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showError("\uBB38\uC11C \uC800\uC7A5 \uAE30\uB2A5\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.pendingDownload=!1,this.titleInputModalComponent.open(e,"save",this.pdfEditorVisible)}catch(t){console.error("\uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",t),this.snackbar.showError("\uBB38\uC11C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onTitleConfirmed(t){return P(this,null,function*(){try{this.pendingDownload?(yield this.downloadPdfFile(t),this.pendingDownload=!1):yield this.saveDocumentToIndexedDB(t)}catch(e){console.error("\uC791\uC5C5 \uC2E4\uD328:",e),this.snackbar.showError("\uC791\uC5C5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}downloadPdfFile(t){return P(this,null,function*(){try{if(!this.pdfSrc){this.snackbar.showWarning("\uB2E4\uC6B4\uB85C\uB4DC\uD560 PDF\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}this.snackbar.showInfo("PDF\uB97C \uB2E4\uC6B4\uB85C\uB4DC\uD558\uB294 \uC911...");let n=yield(yield fetch(this.pdfSrc)).blob(),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i;let l=t.endsWith(".pdf")?t:`${t}.pdf`;o.download=l,o.click(),URL.revokeObjectURL(i),this.snackbar.showSuccess(`'${l}' \uB2E4\uC6B4\uB85C\uB4DC\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`),console.log("\u2705 PDF \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC:",l)}catch(e){console.error("\u274C PDF \uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328:",e),this.snackbar.showError("PDF \uB2E4\uC6B4\uB85C\uB4DC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}saveDocumentToIndexedDB(t){return P(this,null,function*(){try{let e=this.pdfEditorVisible?"editor":"viewer";this.snackbar.showInfo("\uBB38\uC11C\uB97C \uC800\uC7A5\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4...");let n=e==="editor"?this.getTotalElementCount():this.pdfPages.length,i=this.pdfPages.length||this.totalPages||0,o="",l="",u=0;if(this.pdfSrc&&this.pdfSrc.startsWith("blob:"))try{let k=yield(yield fetch(this.pdfSrc)).blob();u=k.size;let B=new FileReader;o=yield new Promise((S,D)=>{B.onloadend=()=>S(B.result),B.onerror=D,B.readAsDataURL(k)})}catch(v){console.warn("Blob URL\uC744 Base64\uB85C \uBCC0\uD658 \uC2E4\uD328:",v)}if(this.originalPdfBlob)try{let v=new FileReader;l=yield new Promise((k,B)=>{v.onloadend=()=>k(v.result),v.onerror=B,v.readAsDataURL(this.originalPdfBlob)}),console.log("\u2705 \uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC644\uB8CC:",l.length,"\uC790")}catch(v){console.warn("\u26A0\uFE0F \uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC2E4\uD328:",v)}let _={id:this.generateDocumentId(),title:t,pages:this.pdfPages,elementCount:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",pdfSrc:this.pdfSrc||void 0,pdfBase64:o||void 0,originalPdfBase64:l||void 0,fileName:this.currentFileName||void 0,documentType:e,pageCount:i,fileSize:u||void 0};console.log("\uBB38\uC11C \uC800\uC7A5 \uC2DC\uC791:",{title:_.title,pages:`${_.pages.length}\uAC1C \uD398\uC774\uC9C0`,elements:`${_.elementCount}\uAC1C \uC694\uC18C`,type:e,pdfSrc:!!_.pdfSrc,pdfBase64Length:_.pdfBase64?.length||0,originalPdfBase64Length:_.originalPdfBase64?.length||0});let b=(yield this.indexedDbService.getAllDocuments()).find(v=>v.title===t);b?(_.id=b.id,_.createdAt=b.createdAt,console.log("\uAE30\uC874 \uBB38\uC11C \uC5C5\uB370\uC774\uD2B8:",t)):console.log("\uC0C8 \uBB38\uC11C \uC800\uC7A5:",t),yield this.indexedDbService.saveDocument(_),this.currentFileName=t,e==="editor"&&(this.pdfEditorData={pages:this.pdfPages,currentPage:this.currentPage,totalPages:this.pdfPages.length,targetPage:this.pdfEditorData?.targetPage}),this.tabBarComponent&&(this.tabBarComponent.updateActiveTabName(t),e==="editor"&&this.tabBarComponent.updateActiveTabView("editor",this.pdfEditorData)),yield this.loadRecentFiles();let x=e==="viewer"?"PDF \uBDF0\uC5B4":"\uD3B8\uC9D1\uAE30";this.snackbar.showSuccess(`'${t}' \uBB38\uC11C\uAC00 ${x} \uBAA8\uB4DC\uB85C \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}catch(e){console.error("\uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",e),this.snackbar.showError("\uBB38\uC11C \uC800\uC7A5\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}onTitleInputModalClose(){console.log("\uC81C\uBAA9 \uC785\uB825 \uBAA8\uB2EC \uB2EB\uD798")}generateDocumentId(){return"doc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getTotalElementCount(){return this.pdfPages.reduce((t,e)=>t+(e.elements?.length||0),0)}saveOpenedPdfAsDocument(t){return P(this,null,function*(){try{let e=yield this.fileToBase64(t),n=0;try{n=this.pdfPages.length||this.totalPages||1}catch(u){console.warn("\uD398\uC774\uC9C0 \uC218 \uCD94\uCD9C \uC2E4\uD328, \uAE30\uBCF8\uAC12 \uC0AC\uC6A9:",u),n=1}let i={id:this.generateDocumentId(),title:t.name,pages:[],elementCount:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",pdfSrc:this.pdfSrc||void 0,pdfBase64:e,originalPdfBase64:e,fileName:t.name,documentType:"viewer",pageCount:n,fileSize:t.size},l=(yield this.indexedDbService.getAllDocuments()).find(u=>u.fileName===t.name&&u.documentType==="viewer");l?(i.id=l.id,i.createdAt=l.createdAt,console.log("\uAE30\uC874 PDF \uBDF0\uC5B4 \uBB38\uC11C \uC5C5\uB370\uC774\uD2B8:",t.name)):console.log("\uC0C8 PDF \uBDF0\uC5B4 \uBB38\uC11C \uC800\uC7A5:",t.name),yield this.indexedDbService.saveDocument(i),console.log("\u2705 PDF \uBB38\uC11C\uAC00 \uCD5C\uADFC \uBB38\uC11C\uC5D0 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4:",t.name)}catch(e){console.error("PDF \uBB38\uC11C \uC800\uC7A5 \uC2E4\uD328:",e)}})}fileToBase64(t){return P(this,null,function*(){return new Promise((e,n)=>{let i=new FileReader;i.onloadend=()=>e(i.result),i.onerror=n,i.readAsDataURL(t)})})}updateDocumentPageCount(t,e,n){return P(this,null,function*(){try{let o=(yield this.indexedDbService.getAllDocuments()).find(l=>(l.fileName===t||l.title===t)&&l.documentType==="viewer");o&&(o.pageCount=e,o.fileSize=n,o.updatedAt=new Date().toISOString(),yield this.indexedDbService.saveDocument(o),console.log(`\u2705 \uBB38\uC11C \uD398\uC774\uC9C0 \uC218 \uC5C5\uB370\uC774\uD2B8: ${t} - ${e}\uC7A5 (${(n/1024/1024).toFixed(2)}MB)`),yield this.loadRecentFiles())}catch(i){console.error("\uBB38\uC11C \uD398\uC774\uC9C0 \uC218 \uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328:",i)}})}loadDocumentAsViewer(t){return P(this,null,function*(){console.log("=== loadDocumentAsViewer \uC2DC\uC791 ==="),console.log("docData:",t),console.log("pdfBase64 \uC874\uC7AC:",!!t.pdfBase64),console.log("originalPdfBase64 \uC874\uC7AC:",!!t.originalPdfBase64),console.log("pdfSrc \uC874\uC7AC:",!!t.pdfSrc);let e="",n;if(t.pdfBase64)try{console.log("Base64 \uBCC0\uD658 \uC2DC\uC791...");let i=t.pdfBase64.split(",")[1]||t.pdfBase64;console.log("Base64 \uB370\uC774\uD130 \uAE38\uC774:",i.length);let o=atob(i),l=new Uint8Array(o.length);for(let u=0;u<o.length;u++)l[u]=o.charCodeAt(u);n=new Blob([l],{type:"application/pdf"}),e=URL.createObjectURL(n),console.log("\u2705 Base64 \u2192 Blob URL \uC0DD\uC131 \uC131\uACF5:",e),console.log("Blob \uD06C\uAE30:",n.size,"bytes")}catch(i){if(console.error("\u274C Base64 \uB370\uC774\uD130 \uBCC0\uD658 \uC2E4\uD328:",i),t.pdfSrc)e=t.pdfSrc,console.log("\u26A0\uFE0F \uAE30\uC874 pdfSrc \uC0AC\uC6A9:",e);else{this.snackbar.showError("PDF \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");return}}else if(t.pdfSrc)e=t.pdfSrc,console.log("\uAE30\uC874 pdfSrc \uC0AC\uC6A9:",e);else{console.error("\u274C PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),this.snackbar.showError("PDF \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}if(t.originalPdfBase64)try{console.log("\uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC2DC\uC791...");let i=t.originalPdfBase64.split(",")[1]||t.originalPdfBase64,o=atob(i),l=new Uint8Array(o.length);for(let u=0;u<o.length;u++)l[u]=o.charCodeAt(u);this.originalPdfBlob=new Blob([l],{type:"application/pdf"}),console.log("\u2705 \uC6D0\uBCF8 PDF Blob \uBCF5\uC6D0 \uC131\uACF5:",this.originalPdfBlob.size,"bytes")}catch(i){console.error("\u274C \uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC2E4\uD328:",i),this.originalPdfBlob=null}else this.originalPdfBlob=n||null,console.log("\u26A0\uFE0F \uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC5B4 \uD604\uC7AC PDF\uB97C \uC6D0\uBCF8\uC73C\uB85C \uC0AC\uC6A9");console.log("PDF \uBDF0\uC5B4 \uC0C1\uD0DC \uC124\uC815 \uC2DC\uC791..."),this.currentTabView="viewer",console.log("currentTabView\uB97C viewer\uB85C \uBCC0\uACBD"),this.currentFileName=t.fileName||t.title,this.pdfPages=t.pages||[],this.currentPage=1,this.totalPages=0,this.leftPanelThumbnails=[],console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uC0C1\uD0DC \uCD08\uAE30\uD654 (\uBDF0\uC5B4 \uBAA8\uB4DC \uB85C\uB4DC)"),setTimeout(()=>{this.pdfSrc=e,console.log("\u2705 this.pdfSrc \uC124\uC815 \uC644\uB8CC:",this.pdfSrc),console.log("this.currentFileName:",this.currentFileName),console.log("this.pdfPages.length:",this.pdfPages.length),this.cdr.detectChanges(),console.log("\u2705 \uBCC0\uACBD \uAC10\uC9C0 \uD2B8\uB9AC\uAC70 \uC644\uB8CC")},100),this.tabBarComponent&&(this.tabBarComponent.updateActiveTabName(this.currentFileName),this.tabBarComponent.updateActiveTabView("viewer",null),n&&(yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,e,n),console.log("\u2705 \uD0ED\uBC14 pdfBlobs\uC5D0 Blob \uC800\uC7A5 \uC644\uB8CC")),console.log("\uD0ED \uBC14 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC")),console.log("=== PDF \uBDF0\uC5B4 \uBAA8\uB4DC\uB85C \uB85C\uB4DC \uC644\uB8CC ===")})}loadDocumentAsEditor(t){return P(this,null,function*(){console.log("=== loadDocumentAsEditor \uC2DC\uC791 ==="),console.log("docData:",t),console.log("pdfBase64 \uC874\uC7AC:",!!t.pdfBase64),console.log("originalPdfBase64 \uC874\uC7AC:",!!t.originalPdfBase64);let e;if(t.pdfBase64)try{console.log("\uD3B8\uC9D1 PDF Base64 \uBCC0\uD658 \uC2DC\uC791...");let n=t.pdfBase64.split(",")[1]||t.pdfBase64,i=atob(n),o=new Uint8Array(i.length);for(let l=0;l<i.length;l++)o[l]=i.charCodeAt(l);e=new Blob([o],{type:"application/pdf"}),console.log("\u2705 \uD3B8\uC9D1 PDF Blob \uC0DD\uC131 \uC131\uACF5:",e.size,"bytes")}catch(n){console.error("\u274C \uD3B8\uC9D1 PDF Base64 \uBCC0\uD658 \uC2E4\uD328:",n)}if(t.originalPdfBase64)try{console.log("\uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC2DC\uC791...");let n=t.originalPdfBase64.split(",")[1]||t.originalPdfBase64,i=atob(n),o=new Uint8Array(i.length);for(let l=0;l<i.length;l++)o[l]=i.charCodeAt(l);this.originalPdfBlob=new Blob([o],{type:"application/pdf"}),console.log("\u2705 \uC6D0\uBCF8 PDF Blob \uBCF5\uC6D0 \uC131\uACF5:",this.originalPdfBlob.size,"bytes"),e||(e=this.originalPdfBlob,console.log("\u26A0\uFE0F \uD3B8\uC9D1 PDF \uC5C6\uC74C, \uC6D0\uBCF8\uC744 \uD604\uC7AC PDF\uB85C \uC0AC\uC6A9"))}catch(n){console.error("\u274C \uC6D0\uBCF8 PDF Base64 \uBCC0\uD658 \uC2E4\uD328:",n),this.originalPdfBlob=null}else this.originalPdfBlob=e||null,console.log("\u26A0\uFE0F \uC6D0\uBCF8 PDF\uAC00 \uC5C6\uC5B4 \uD604\uC7AC PDF\uB97C \uC6D0\uBCF8\uC73C\uB85C \uC0AC\uC6A9");if(this.currentFileName=t.title,this.pdfPages=t.pages||[],this.currentPage=1,this.totalPages=this.pdfPages.length,this.leftPanelThumbnails=[],console.log("\u{1F4C4} \uD398\uC774\uC9C0 \uC0C1\uD0DC \uCD08\uAE30\uD654 (\uD3B8\uC9D1\uAE30 \uBAA8\uB4DC \uB85C\uB4DC):",this.totalPages,"\uD398\uC774\uC9C0"),this.currentTabView="editor",this.currentActiveMenu="\uD3B8\uC9D1",this.pdfEditorVisible=!0,this.pdfEditorData={pages:this.pdfPages,currentPage:1,totalPages:this.pdfPages.length},this.tabBarComponent&&e){let n=URL.createObjectURL(e);this.tabBarComponent.updateActiveTabName(this.currentFileName),yield this.tabBarComponent.setActiveTabPdf(this.currentFileName,n,e),this.pdfSrc=n,console.log("\u2705 \uD0ED\uBC14 pdfBlobs\uC5D0 Blob \uC800\uC7A5 \uC644\uB8CC \uBC0F pdfSrc \uC124\uC815:",n),this.tabBarComponent.updateActiveTabView("editor",this.pdfEditorData),console.log("\u2705 \uD0ED \uBDF0\uB97C editor\uB85C \uC7AC\uC124\uC815")}else this.pdfSrc=null,this.tabBarComponent&&(this.tabBarComponent.updateActiveTabName(this.currentFileName),this.tabBarComponent.updateActiveTabView("editor",this.pdfEditorData));this.cdr.detectChanges(),console.log("=== \uD3B8\uC9D1\uAE30 \uBAA8\uB4DC\uB85C \uB85C\uB4DC \uC644\uB8CC ==="),console.log("pdfSrc:",this.pdfSrc),console.log("originalPdfBlob:",this.originalPdfBlob?.size||0,"bytes")})}static \u0275fac=function(e){return new(e||a)(G(Bt),G(At),G(un),G(Be),G(jt),G(we),G(mt),G(Re))};static \u0275cmp=L({type:a,selectors:[["ez-reader-main"]],viewQuery:function(e,n){if(e&1&&(te(sc,5),te(lc,5),te(wt,5),te(Mt,5),te(St,5),te(kt,5),te(Ot,5),te(Et,5),te(Ye,5),te(Dt,5),te(Ke,5),te(Tt,5)),e&2){let i;K(i=Z())&&(n.tabBarComponent=i.first),K(i=Z())&&(n.topMenuBarComponent=i.first),K(i=Z())&&(n.mergeModalComponent=i.first),K(i=Z())&&(n.lockModalComponent=i.first),K(i=Z())&&(n.passwordModalComponent=i.first),K(i=Z())&&(n.securitySettingsComponent=i.first),K(i=Z())&&(n.saveConfirmModalComponent=i.first),K(i=Z())&&(n.highlightPropertiesModalComponent=i.first),K(i=Z())&&(n.searchModalComponent=i.first),K(i=Z())&&(n.titleInputModalComponent=i.first),K(i=Z())&&(n.pdfDownloadModalComponent=i.first),K(i=Z())&&(n.pdfPrintModalComponent=i.first)}},hostVars:2,hostBindings:function(e,n){e&2&&O("highlight-active",n.isHighlightActive)},standalone:!1,decls:30,vars:36,consts:[["tabBar",""],["topMenuBar",""],["fileInput",""],[3,"tabChanged","currentFileName","isRecentFilesView"],[3,"searchChange","searchSubmit","fileSelected","downloadModifiedPdf","downloadPdf","printPdf","emailPdf","toggleFavorite","menuChanged","settingsClick","currentActiveMenu","pdfSrc","pdfEditorVisible","isFavorite","isSettingsOpen"],[3,"headerAction","showSnackbar","rightPanelToggle","leftPanelToggle","imageCoordinatesToggle","searchButtonClicked","activeMenu","pdfSrc","pdfEditorVisible","isRightPanelOpen","isLeftPanelOpen","isHighlightActive","isPenActive","isTextActive","showImageCoordinates","isFavorite","isSettingsOpen"],[1,"main-container"],["class","home-container",3,"drag-over","dragover","dragenter","dragleave","drop",4,"ngIf"],["class","viewer-container",4,"ngIf"],["class","editor-container",4,"ngIf"],["class","pdf-analysis-dashboard-overlay",3,"click",4,"ngIf"],["class","merge-progress-overlay",4,"ngIf"],[3,"close","message","isVisible","duration"],[3,"close","confirm",4,"ngIf"],[3,"downloadTypeSelected"],[3,"printTypeSelected","modalClosed"],[3,"close","confirm","isVisible","thumbnails"],[3,"close","confirm"],[3,"data","pageWidth","pageHeight","save","cancel",4,"ngIf"],[3,"search","close"],[3,"isVisible","pdfSrc","fileName","close",4,"ngIf"],[3,"shapeSelected","cancel",4,"ngIf"],[3,"signatureCreated","cancel",4,"ngIf"],[3,"watermarkCreated","cancel",4,"ngIf"],[3,"width","height","pathsChanged","close",4,"ngIf"],["class","confirm-modal-overlay",3,"click",4,"ngIf"],[1,"home-container",3,"dragover","dragenter","dragleave","drop"],["class","drag-overlay",4,"ngIf"],[1,"main-content-area"],[1,"file-upload-area"],[1,"upload-zone",3,"click"],["width","36","height","36","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z","fill","#007acc"],[1,"action-buttons"],["type","button",1,"file-open-btn"],[1,"file-icon"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","3","y","3","width","18","height","18","rx","3","fill","#F44336"],["d","M8 12h8M12 8v8","stroke","#fff","stroke-width","2","stroke-linecap","round"],["type","button",1,"new-doc-btn",3,"click"],["x","3","y","3","width","18","height","18","rx","3","fill","#28a745"],[1,"upload-hint"],["class","recent-files-wrap",4,"ngIf"],["type","file","accept","application/pdf",2,"display","none",3,"change"],[1,"drag-overlay"],[1,"drag-message"],["width","64","height","64","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","3","y","3","width","18","height","18","rx","3","fill","#007acc"],[1,"recent-files-wrap"],[3,"deleteFile","openRecentFile","openNewFile","files"],[1,"viewer-container"],["class","left-sidebar-container",4,"ngIf"],[3,"pdfSrc","showFloatingZoom","config","useHelperService","pdfLoaded","pageChange","zoomChange",4,"ngIf"],[3,"isVisible","currentPageCount","pdfSrc","close","pageOrderChanged","deletePages","confirmDelete","pageSelected",4,"ngIf"],["class","right-sidebar-container",3,"collapsed",4,"ngIf"],[4,"ngIf"],["title","\uBCF4\uC548","description","PDF \uBCF4\uC548 \uAE30\uB2A5\uC744 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4.",4,"ngIf"],[1,"left-sidebar-container"],[3,"close","thumbnailClick","isVisible","thumbnails"],[3,"pdfLoaded","pageChange","zoomChange","pdfSrc","showFloatingZoom","config","useHelperService"],[3,"close","pageOrderChanged","deletePages","confirmDelete","pageSelected","isVisible","currentPageCount","pdfSrc"],[1,"right-sidebar-container"],[3,"addText","addImage","addShape","addSignature","addWatermark","addVectorPath","addPage","deletePage","zoomIn","zoomOut","rotatePage","pageSelect","elementPropertyChange","deselectElement","deleteElement","panelAction","keepOnlyFirstPage","translationCompleted","addFormCheckbox","addFormRadio","addFormDropdown","addFormDateField","close","expand","selectedElement","currentPage","totalPages","zoomLevel","pdfPages","isPdfViewer","isCollapsed","openMenuId","pdfTextStreamData","pageThumbnails","currentMode"],["title","\uBCF4\uC548","description","PDF \uBCF4\uC548 \uAE30\uB2A5\uC744 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4."],[1,"editor-container"],[3,"pdfPagesChange","showImageCoordinatesChange","documentCreated","exportPdf","close","elementSelected","elementUpdated","config","documentData","pdfAnalysisData","pdfPages","showImageCoordinates"],[1,"pdf-analysis-dashboard-overlay",3,"click"],[3,"analysisData","vectorData","imageData","analyzedPage","isCompact","isDraggable","hasGeneratedDocument","createCombinedDocEvent","viewOriginalEvent","createNewDocumentEvent","createImagePdfEvent","exportPdfEvent","exportOriginalPdfEvent","closeEvent","click",4,"ngIf"],[3,"createCombinedDocEvent","viewOriginalEvent","createNewDocumentEvent","createImagePdfEvent","exportPdfEvent","exportOriginalPdfEvent","closeEvent","click","analysisData","vectorData","imageData","analyzedPage","isCompact","isDraggable","hasGeneratedDocument"],[1,"merge-progress-overlay"],[1,"merge-progress-card",3,"click"],[1,"progress-content"],[1,"progress-bar-container"],[1,"progress-bar-fill"],[1,"progress-percent"],[1,"progress-step-text"],[3,"save","cancel","data","pageWidth","pageHeight"],[3,"close","isVisible","pdfSrc","fileName"],[3,"shapeSelected","cancel"],[3,"signatureCreated","cancel"],[3,"watermarkCreated","cancel"],[3,"pathsChanged","close","width","height"],[1,"confirm-modal-overlay",3,"click"],[1,"confirm-modal-content",3,"click"],[1,"confirm-modal-header"],[1,"confirm-modal-body"],[1,"confirm-modal-footer"],[1,"confirm-modal-btn","cancel",3,"click"],[1,"confirm-modal-btn","confirm",3,"click"]],template:function(e,n){if(e&1){let i=M();r(0,"app-ez-tab-bar",3,0),h("tabChanged",function(l){return g(i),m(n.onTabChanged(l))}),s(),r(2,"app-ez-top-menu-bar",4,1),h("searchChange",function(l){return g(i),m(n.onSearchChange(l))})("searchSubmit",function(l){return g(i),m(n.onSearchModalSearch(l))})("fileSelected",function(l){return g(i),m(n.onFileSelected(l))})("downloadModifiedPdf",function(){return g(i),m(n.onDownloadModifiedPdf())})("downloadPdf",function(){return g(i),m(n.onDownloadPdf())})("printPdf",function(){return g(i),m(n.printPdf())})("emailPdf",function(){return g(i),m(n.onEmailPdf())})("toggleFavorite",function(){return g(i),m(n.toggleFavorite())})("menuChanged",function(l){return g(i),m(n.onMenuChanged(l))})("settingsClick",function(){return g(i),m(n.togglePdfSettings())}),s(),r(4,"app-ez-header",5),h("headerAction",function(l){return g(i),m(n.onHeaderAction(l))})("showSnackbar",function(l){return g(i),m(n.showSnackbar(l))})("rightPanelToggle",function(){return g(i),m(n.toggleRightPanel())})("leftPanelToggle",function(){return g(i),m(n.toggleLeftPanel())})("imageCoordinatesToggle",function(){return g(i),m(n.toggleImageCoordinates())})("searchButtonClicked",function(){return g(i),m(n.onSearchButtonClick())}),s(),r(5,"div",6),w(6,uc,29,4,"div",7)(7,vc,7,6,"div",8)(8,yc,4,8,"div",9)(9,Sc,2,1,"div",10)(10,kc,11,4,"div",11),s(),r(11,"app-ez-snackbar",12),h("close",function(){return g(i),m(n.closeSnackbar())}),s(),w(12,Oc,1,0,"app-merge-modal",13),r(13,"app-pdf-download-modal",14),h("downloadTypeSelected",function(l){return g(i),m(n.onDownloadTypeSelected(l))}),s(),r(14,"app-pdf-print-modal",15),h("printTypeSelected",function(l){return g(i),m(n.onPrintTypeSelected(l))})("modalClosed",function(){return g(i),m(n.onPrintModalClosed())}),s(),r(15,"app-page-selector-modal",16),h("close",function(){return g(i),m(n.onPageSelectorClose())})("confirm",function(l){return g(i),m(n.onPageSelectorConfirm(l))}),s(),r(16,"app-pdf-lock-modal",17),h("close",function(){return g(i),m(n.onLockModalClose())})("confirm",function(l){return g(i),m(n.onLockModalConfirm(l))}),s(),r(17,"app-pdf-password-modal",17),h("close",function(){return g(i),m(n.onPasswordModalClose())})("confirm",function(l){return g(i),m(n.onPasswordModalConfirm(l))}),s(),r(18,"app-pdf-security-settings",17),h("close",function(){return g(i),m(n.onSecuritySettingsClose())})("confirm",function(l){return g(i),m(n.onSecuritySettingsConfirm(l))}),s(),r(19,"app-save-confirm-modal",17),h("close",function(){return g(i),m(n.onSaveConfirmModalClose())})("confirm",function(l){return g(i),m(n.onSaveConfirmModalConfirm(l))}),s(),w(20,Ec,1,3,"app-text-editor-modal",18),r(21,"app-highlight-properties-modal",17),h("close",function(){return g(i),m(n.onHighlightPropertiesModalClose())})("confirm",function(l){return g(i),m(n.onHighlightPropertiesModalConfirm(l))}),s(),r(22,"app-search-modal",19),h("search",function(l){return g(i),m(n.onSearchModalSearch(l))})("close",function(){return g(i),m(n.onSearchModalClose())}),s(),w(23,Dc,1,3,"app-ez-file-conversion-modal",20)(24,Tc,1,0,"app-shared-shape-selection-modal",21)(25,Bc,1,0,"app-shared-signature-pad-modal",22)(26,Fc,1,0,"app-shared-watermark-config-modal",23)(27,Ac,1,2,"app-vector-path-drawer",24),r(28,"app-title-input-modal",17),h("close",function(){return g(i),m(n.onTitleInputModalClose())})("confirm",function(l){return g(i),m(n.onTitleConfirmed(l))}),s(),w(29,Vc,13,2,"div",25)}e&2&&(f("currentFileName",n.currentFileName)("isRecentFilesView",n.currentTabView==="home"),c(2),f("currentActiveMenu",n.currentActiveMenu)("pdfSrc",n.pdfSrc)("pdfEditorVisible",n.pdfEditorVisible)("isFavorite",n.currentDocumentIsFavorite)("isSettingsOpen",n.isSettingsOpen),c(2),f("activeMenu",n.currentActiveMenu)("pdfSrc",n.pdfSrc)("pdfEditorVisible",n.pdfEditorVisible)("isRightPanelOpen",n.showRightPanel)("isLeftPanelOpen",n.isLeftPanelVisible)("isHighlightActive",n.currentEditorTool==="highlight")("isPenActive",n.currentEditorTool==="pen")("isTextActive",n.currentEditorTool==="text")("showImageCoordinates",n.showImageCoordinates)("isFavorite",n.currentDocumentIsFavorite)("isSettingsOpen",n.isSettingsOpen),c(2),f("ngIf",n.currentTabView==="home"),c(),f("ngIf",n.currentTabView==="viewer"),c(),f("ngIf",n.currentTabView==="editor"),c(),f("ngIf",n.pdfAnalysisDashboardVisible),c(),f("ngIf",n.mergeProgressVisible),c(),f("message",n.snackbarMessage)("isVisible",n.snackbarVisible)("duration",4e3),c(),f("ngIf",n.showMergeModal),c(3),f("isVisible",n.pageSelectorVisible)("thumbnails",n.pageSelectorThumbnails),c(5),f("ngIf",n.showTextEditorModal),c(3),f("ngIf",n.showFileConversionModal),c(),f("ngIf",n.showShapeModal),c(),f("ngIf",n.showSignaturePadModal),c(),f("ngIf",n.showWatermarkConfigModal),c(),f("ngIf",n.showVectorPathDrawer),c(2),f("ngIf",n.confirmModalVisible))},dependencies:[Q,Dn,hn,vo,Po,Tn,Mt,St,kt,Ot,_n,bn,Cn,Vt,xn,vn,Ke,Tt,Xe,Ye,Pn,Bn,Fn,An,zt,Vn,In,zn,wt,Et,Dt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden;margin:0;padding:0}app-tab-bar[_ngcontent-%COMP%]{height:38px;flex-shrink:0}app-top-menu-bar[_ngcontent-%COMP%]{height:48px;flex-shrink:0}app-header[_ngcontent-%COMP%]{height:44px;flex-shrink:0}.main-container[_ngcontent-%COMP%]{display:flex;flex:1;height:calc(100vh - 130px);position:relative;overflow:hidden;min-height:0}app-page-reorder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%], .properties-panel[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(.4,1.4,.6,1),opacity .25s cubic-bezier(.4,1.4,.6,1)}.sidebar[_ngcontent-%COMP%]{transform:translate(0);opacity:1}.sidebar.closed[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0;pointer-events:none}.properties-panel[_ngcontent-%COMP%]{transform:translate(0);opacity:1}.properties-panel.closed[_ngcontent-%COMP%]{transform:translate(100%);opacity:0;pointer-events:none}.text-editors-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000}.text-editors-overlay[_ngcontent-%COMP%]   app-text-editor[_ngcontent-%COMP%]{pointer-events:auto;position:absolute}.file-select-guide.drag-over[_ngcontent-%COMP%]{border:3px dashed #007acc;background:#007acc0d;position:relative}.drag-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#007acc1a;display:flex;align-items:center;justify-content:center;border-radius:12px;z-index:1000;pointer-events:none}.drag-message[_ngcontent-%COMP%]{text-align:center;color:#007acc;pointer-events:none}.drag-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;display:block;margin-left:auto;margin-right:auto}.drag-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0}.confirm-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000}.confirm-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #0000004d;min-width:300px;max-width:500px;margin:20px}.confirm-modal-header[_ngcontent-%COMP%]{padding:20px 20px 10px}.confirm-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.confirm-modal-body[_ngcontent-%COMP%]{padding:10px 20px}.confirm-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.5;color:#666}.confirm-modal-footer[_ngcontent-%COMP%]{padding:15px 20px 20px;display:flex;justify-content:flex-end;gap:10px}.confirm-modal-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.confirm-modal-btn.cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.confirm-modal-btn.cancel[_ngcontent-%COMP%]:hover{background:#5a6268}.confirm-modal-btn.confirm[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.confirm-modal-btn.confirm[_ngcontent-%COMP%]:hover{background:#c82333}.viewer-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden}.pdf-analysis-dashboard-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:9999;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.pdf-analysis-dashboard-overlay[_ngcontent-%COMP%]     shared-pdf-analysis-dashboard{min-width:600px;max-width:90vw}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.analysis-progress[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;box-shadow:0 8px 32px #0003;max-width:500px;width:90%}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]{text-align:center}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 24px;font-size:20px;color:#333}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:12px}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#007acc,#0056b3);transition:width .3s ease}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#007acc;margin:8px 0}.analysis-progress[_ngcontent-%COMP%]   .progress-card[_ngcontent-%COMP%]   .progress-step[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.left-sidebar-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:240px;z-index:1000;transition:transform .3s ease}.pdf-editor-toolbar[_ngcontent-%COMP%]{position:absolute;top:16px;left:50%;transform:translate(-50%);z-index:999}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{display:flex;gap:8px;background:#fff;padding:8px 12px;border-radius:12px;box-shadow:0 4px 12px #00000026}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background:transparent;cursor:pointer;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5;transform:scale(1.05)}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-btn.active[_ngcontent-%COMP%]{background:#e3f2fd;box-shadow:0 0 0 2px #2196f3}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-btn.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(43%) sepia(96%) saturate(1487%) hue-rotate(187deg) brightness(95%) contrast(101%)}.pdf-editor-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px;pointer-events:none}.right-sidebar-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:350px;z-index:1000;transition:transform .3s ease}.right-sidebar-container.collapsed[_ngcontent-%COMP%]{transform:translate(calc(100% - 48px))}  ngx-extended-pdf-viewer #toolbarContainer,   ngx-extended-pdf-viewer .toolbar,   ngx-extended-pdf-viewer #mainContainer>#toolbarViewer{height:0!important;min-height:0!important;overflow:hidden!important}  ngx-extended-pdf-viewer #findbar,   ngx-extended-pdf-viewer .findbar{height:auto!important;overflow:visible!important;position:fixed!important;top:180px!important;left:50%!important;transform:translate(-50%)!important;z-index:9999!important;box-shadow:0 4px 12px #00000026!important;border-radius:8px!important;background:#fff!important;padding:12px 16px!important;min-width:600px!important;cursor:move!important}  ngx-extended-pdf-viewer #findbar:before,   ngx-extended-pdf-viewer .findbar:before{content:"\\22ee\\22ee"!important;position:absolute!important;left:8px!important;top:50%!important;transform:translateY(-50%)!important;color:#9ca3af!important;font-size:16px!important;letter-spacing:2px!important;cursor:move!important}  ngx-extended-pdf-viewer #findbar #findbarInputContainer{margin-left:20px!important}  ngx-extended-pdf-viewer #findbar .toolbarField{border-radius:4px!important;border:1px solid #e5e7eb!important;padding:6px 10px!important}  ngx-extended-pdf-viewer #findbar .toolbarField:focus{border-color:#3b82f6!important;outline:none!important;box-shadow:0 0 0 2px #3b82f61a!important}  ngx-extended-pdf-viewer #findbar .toolbarButton{border-radius:4px!important;padding:6px 12px!important;transition:background-color .2s!important}  ngx-extended-pdf-viewer #findbar .toolbarButton:hover{background-color:#f3f4f6!important}  ngx-extended-pdf-viewer #findbar .toolbarLabel{font-size:13px!important;color:#374151!important}  ngx-extended-pdf-viewer #viewerContainer{top:0!important;height:100%!important}  ngx-extended-pdf-viewer #editorHighlightParamsToolbar,   ngx-extended-pdf-viewer .editorParamsToolbar,   ngx-extended-pdf-viewer #highlightParamsToolbarContainer{display:none!important}  ngx-extended-pdf-viewer #editorUndoBar,   ngx-extended-pdf-viewer .editorUndoBar{display:none!important}.highlight-active[_nghost-%COMP%]     ngx-extended-pdf-viewer .textLayer ::selection{background:transparent!important}.highlight-active[_nghost-%COMP%]     ngx-extended-pdf-viewer .textLayer ::-moz-selection{background:transparent!important}.highlight-active[_nghost-%COMP%]     ngx-extended-pdf-viewer .annotationEditorLayer .highlightEditor>div{background-color:var(--highlight-bg-color, rgba(255, 255, 0, .4))!important}.highlight-active[_nghost-%COMP%]     ngx-extended-pdf-viewer .annotationEditorLayer .highlightEditor.selectedEditor>div{background-color:var(--highlight-selected-bg-color, rgba(255, 255, 0, .3))!important}  ngx-extended-pdf-viewer .textLayer span.highlight{background-color:#ff06!important}  ngx-extended-pdf-viewer .textLayer span.highlight.selected,   ngx-extended-pdf-viewer .textLayer span.highlight.selected.appended{background-color:#0064004d!important;opacity:1!important}.merge-progress-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.merge-progress-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:32px;box-shadow:0 8px 32px #0000004d;min-width:400px;max-width:500px}.merge-progress-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 24px;font-size:20px;font-weight:600;color:#333;text-align:center}.merge-progress-card[_ngcontent-%COMP%]   .progress-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.merge-progress-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden;position:relative}.merge-progress-card[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#007bff,#0056b3);border-radius:4px;transition:width .3s ease;position:relative}.merge-progress-card[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.merge-progress-card[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:600;color:#007bff;margin:0}.merge-progress-card[_ngcontent-%COMP%]   .progress-step-text[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#6c757d;margin:0;min-height:20px}','.home-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background:#f8f8f8;min-height:100%;padding:40px 20px;position:relative}.main-content-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100%;max-width:1200px;height:calc(100vh - 200px);min-height:500px}.file-upload-area[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.upload-zone[_ngcontent-%COMP%]{border:2px dashed #007acc;border-radius:12px;padding:30px 20px;text-align:center;background:#fff;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden;height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center}.upload-zone[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border:2px solid transparent;border-radius:12px;background:linear-gradient(45deg,#007acc,#28a745,#007acc) border-box;animation:_ngcontent-%COMP%_borderGlow 3s ease-in-out infinite;opacity:0;z-index:-1}@keyframes _ngcontent-%COMP%_borderGlow{0%,to{opacity:0}50%{opacity:.6}}.upload-zone[_ngcontent-%COMP%]:hover{border-color:#005a9e;background:#f8f9fa;transform:translateY(-2px);box-shadow:0 8px 25px #007acc26}.upload-zone[_ngcontent-%COMP%]:hover:before{opacity:.8}.upload-zone[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:15px;opacity:.7}.upload-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:#333;margin:0 0 15px;font-weight:500;line-height:1.3}.upload-hint[_ngcontent-%COMP%]{font-size:12px;color:#666;margin:10px 0 0}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:15px;flex-wrap:wrap;justify-content:center}.file-open-btn[_ngcontent-%COMP%], .new-doc-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#fff;border:1.5px solid #e0e0e0;border-radius:8px;font-size:16px;color:#222;font-weight:500;padding:10px 20px;cursor:pointer;box-shadow:0 2px 8px #00000008;transition:background .15s,border .15s,transform .15s}.file-open-btn[_ngcontent-%COMP%]:hover, .new-doc-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#d0d0d0;transform:translateY(-1px)}.new-doc-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fff4,#e8f8f0);border-color:#28a745}.new-doc-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e8f8f0,#d4f1e0);border-color:#1e7e34}.file-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.recent-files-wrap[_ngcontent-%COMP%]{flex:1;width:100%;overflow:visible;min-height:300px}.home-container.drag-over[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]{border-color:#28a745;background:#e8f5e9;transform:scale(1.02)}.drag-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#007acce6;display:flex;align-items:center;justify-content:center;z-index:1000;border-radius:12px}.drag-message[_ngcontent-%COMP%]{text-align:center;color:#fff}.drag-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;display:block;margin-left:auto;margin-right:auto}.drag-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0}@media (max-width: 1024px){.main-content-area[_ngcontent-%COMP%]{gap:15px}.upload-zone[_ngcontent-%COMP%]{height:180px;padding:25px 15px}}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:20px 15px}.main-content-area[_ngcontent-%COMP%]{gap:15px}.upload-zone[_ngcontent-%COMP%]{padding:20px 15px;height:160px}.upload-zone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.file-open-btn[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px}.recent-files-wrap[_ngcontent-%COMP%]{min-height:250px}}']})};function Ic(a,t){if(a&1&&(r(0,"option",27),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),N(" ",e.label," ")}}function zc(a,t){a&1&&(z(),y(0,"rect",39))}function Rc(a,t){a&1&&(z(),y(0,"rect",40))}function Lc(a,t){a&1&&(z(),y(0,"rect",41))}function Nc(a,t){a&1&&(z(),y(0,"rect",42))}function jc(a,t){a&1&&(z(),y(0,"rect",43))}function Wc(a,t){a&1&&(z(),y(0,"rect",44))}function Hc(a,t){a&1&&(z(),y(0,"rect",39))}function $c(a,t){a&1&&(z(),y(0,"rect",45))}function Uc(a,t){a&1&&(z(),y(0,"rect",46))}function Gc(a,t){a&1&&(z(),y(0,"rect",39))}function Qc(a,t){a&1&&(z(),y(0,"rect",43))}function qc(a,t){a&1&&(z(),y(0,"rect",47))}function Yc(a,t){if(a&1){let e=M();r(0,"button",28),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onAlignmentChange(i.value))}),z(),r(1,"svg",29),w(2,zc,1,0,"rect",30)(3,Rc,1,0,"rect",31)(4,Lc,1,0,"rect",32)(5,Nc,1,0,"rect",33)(6,jc,1,0,"rect",34)(7,Wc,1,0,"rect",35)(8,Hc,1,0,"rect",30)(9,$c,1,0,"rect",36)(10,Uc,1,0,"rect",37)(11,Gc,1,0,"rect",30)(12,Qc,1,0,"rect",34)(13,qc,1,0,"rect",38),s()()}if(a&2){let e=t.$implicit,n=p();O("active",n.fontProperties.align===e.value),f("title",e.tooltip),c(2),f("ngIf",e.value==="left"),c(),f("ngIf",e.value==="left"),c(),f("ngIf",e.value==="left"),c(),f("ngIf",e.value==="center"),c(),f("ngIf",e.value==="center"),c(),f("ngIf",e.value==="center"),c(),f("ngIf",e.value==="right"),c(),f("ngIf",e.value==="right"),c(),f("ngIf",e.value==="right"),c(),f("ngIf",e.value==="justify"),c(),f("ngIf",e.value==="justify"),c(),f("ngIf",e.value==="justify")}}function Kc(a,t){a&1&&(z(),y(0,"path",52))}function Zc(a,t){a&1&&(z(),y(0,"path",53))}function Xc(a,t){a&1&&(z(),r(0,"g"),y(1,"path",54)(2,"path",55)(3,"line",56),s())}function Jc(a,t){a&1&&(z(),r(0,"g"),y(1,"path",57)(2,"path",58)(3,"line",59),s())}function ed(a,t){a&1&&(z(),r(0,"g"),y(1,"rect",60)(2,"path",61),s())}function td(a,t){a&1&&(z(),r(0,"g"),y(1,"rect",60)(2,"circle",62)(3,"path",63),s())}function nd(a,t){if(a&1){let e=M();r(0,"button",28),h("click",function(){let i=g(e).$implicit,o=p();return m(o.onAction(i.name))}),z(),r(1,"svg",48),w(2,Kc,1,0,"path",49)(3,Zc,1,0,"path",50)(4,Xc,4,0,"g",51)(5,Jc,4,0,"g",51)(6,ed,3,0,"g",51)(7,td,4,0,"g",51),s()()}if(a&2){let e=t.$implicit;f("title",e.tooltip),c(2),f("ngIf",e.name==="undo"),c(),f("ngIf",e.name==="redo"),c(),f("ngIf",e.name==="flip-horizontal"),c(),f("ngIf",e.name==="flip-vertical"),c(),f("ngIf",e.name==="crop"),c(),f("ngIf",e.name==="convert-image")}}var Ln=class a{isVisible=!1;close=new E;fontProperties={type:"text",size:30,color:"#000000",bold:!0,italic:!1,underline:!1,strikethrough:!1,align:"left"};spacingProperties={letterSpacing:0,lineHeight:10,paragraphSpacing:0};fontTypes=[{value:"text",label:"\uD14D\uC2A4\uD2B8"},{value:"heading",label:"\uC81C\uBAA9"},{value:"caption",label:"\uCEA1\uC158"}];alignments=[{value:"left",icon:"align-left",tooltip:"\uC67C\uCABD \uC815\uB82C"},{value:"center",icon:"align-center",tooltip:"\uAC00\uC6B4\uB370 \uC815\uB82C"},{value:"right",icon:"align-right",tooltip:"\uC624\uB978\uCABD \uC815\uB82C"},{value:"justify",icon:"align-justify",tooltip:"\uC591\uCABD \uC815\uB82C"}];actions=[{name:"undo",tooltip:"\uB418\uB3CC\uB9AC\uAE30"},{name:"redo",tooltip:"\uB2E4\uC2DC\uD558\uAE30"},{name:"flip-horizontal",tooltip:"\uC88C\uC6B0\uBC18\uC804"},{name:"flip-vertical",tooltip:"\uC0C1\uD558\uBC18\uC804"},{name:"crop",tooltip:"\uC790\uB974\uAE30"},{name:"convert-image",tooltip:"\uC774\uBBF8\uC9C0 \uBCC0\uD658"}];onClose(){this.close.emit()}onFontStyleToggle(t){this.fontProperties[t]=!this.fontProperties[t]}onAlignmentChange(t){this.fontProperties.align=t}onAction(t){}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-ez-properties-panel"]],inputs:{isVisible:"isVisible"},outputs:{close:"close"},standalone:!1,decls:48,vars:21,consts:[[1,"properties-panel"],[1,"sidebar-header"],["title","\uB2EB\uAE30",1,"close-panel-btn",3,"click"],[1,"panel-section"],[1,"panel-title"],[1,"property-type"],[1,"property-value"],[1,"divider"],[1,"panel-title","collapsible"],[1,"font-controls"],[1,"property-input","font-type",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"property-input","font-size",3,"ngModelChange","ngModel"],["type","color",1,"color-input",3,"ngModelChange","ngModel"],[1,"style-buttons"],["title","\uAD75\uAC8C",1,"property-btn",3,"click"],["title","\uAE30\uC6B8\uC784",1,"property-btn",3,"click"],["title","\uBC11\uC904",1,"property-btn",3,"click"],["title","\uCDE8\uC18C\uC120",1,"property-btn",3,"click"],[1,"alignment-buttons"],["class","property-btn",3,"active","title","click",4,"ngFor","ngForOf"],[1,"spacing-controls"],["type","number","placeholder","\uC790\uAC04",1,"property-input",3,"ngModelChange","ngModel"],["type","number","placeholder","\uC904\uAC04\uACA9",1,"property-input",3,"ngModelChange","ngModel"],["type","number","placeholder","\uB2E8\uB77D\uAC04\uACA9",1,"property-input",3,"ngModelChange","ngModel"],[1,"action-buttons"],["class","property-btn",3,"title","click",4,"ngFor","ngForOf"],[3,"value"],[1,"property-btn",3,"click","title"],["width","22","height","22","viewBox","0 0 22 22"],["x","4","y","6","width","14","height","2","fill","#444",4,"ngIf"],["x","4","y","10","width","10","height","2","fill","#444",4,"ngIf"],["x","4","y","14","width","8","height","2","fill","#444",4,"ngIf"],["x","6","y","6","width","10","height","2","fill","#444",4,"ngIf"],["x","4","y","10","width","14","height","2","fill","#444",4,"ngIf"],["x","6","y","14","width","10","height","2","fill","#444",4,"ngIf"],["x","8","y","10","width","10","height","2","fill","#444",4,"ngIf"],["x","10","y","14","width","8","height","2","fill","#444",4,"ngIf"],["x","4","y","14","width","14","height","2","fill","#444",4,"ngIf"],["x","4","y","6","width","14","height","2","fill","#444"],["x","4","y","10","width","10","height","2","fill","#444"],["x","4","y","14","width","8","height","2","fill","#444"],["x","6","y","6","width","10","height","2","fill","#444"],["x","4","y","10","width","14","height","2","fill","#444"],["x","6","y","14","width","10","height","2","fill","#444"],["x","8","y","10","width","10","height","2","fill","#444"],["x","10","y","14","width","8","height","2","fill","#444"],["x","4","y","14","width","14","height","2","fill","#444"],["width","22","height","22","viewBox","0 0 22 22","fill","none"],["d","M7 11V7H3M5 9a7 7 0 1 1 2 7","stroke","#444","stroke-width","1.5","fill","none",4,"ngIf"],["d","M15 11V7h4M17 9a7 7 0 1 0-2 7","stroke","#444","stroke-width","1.5","fill","none",4,"ngIf"],[4,"ngIf"],["d","M7 11V7H3M5 9a7 7 0 1 1 2 7","stroke","#444","stroke-width","1.5","fill","none"],["d","M15 11V7h4M17 9a7 7 0 1 0-2 7","stroke","#444","stroke-width","1.5","fill","none"],["d","M7 6v10M7 6l-2 2M7 6l2 2","stroke","#444","stroke-width","1.5","fill","none"],["d","M15 6v10M15 16l2-2M15 16l-2-2","stroke","#444","stroke-width","1.5","fill","none"],["x1","11","y1","5","x2","11","y2","17","stroke","#444","stroke-width","1"],["d","M6 15h10M6 15l2 2M6 15l2-2","stroke","#444","stroke-width","1.5","fill","none"],["d","M16 7H6M16 7l-2-2M16 7l-2 2","stroke","#444","stroke-width","1.5","fill","none"],["x1","5","y1","11","x2","17","y2","11","stroke","#444","stroke-width","1"],["x","5","y","5","width","12","height","12","stroke","#444","stroke-width","1.5","fill","none"],["d","M5 5l12 12","stroke","#444","stroke-width","1"],["cx","9","cy","9","r","2","stroke","#444","stroke-width","1"],["d","M17 17l-4-6-4 5","stroke","#444","stroke-width","1"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return n.onClose()}),d(3," \xD7 "),s()(),r(4,"div",3)(5,"div",4),d(6,"\uC18D\uC131"),s(),r(7,"div",5),d(8,"\uC885\uB958"),s(),r(9,"div",6),d(10,"\uD14D\uC2A4\uD2B8"),s(),y(11,"hr",7),s(),r(12,"div",3)(13,"div",8),d(14,"\u25BC \uD3F0\uD2B8"),s(),r(15,"div",9)(16,"select",10),V("ngModelChange",function(o){return F(n.fontProperties.type,o)||(n.fontProperties.type=o),o}),w(17,Ic,2,2,"option",11),s(),r(18,"input",12),V("ngModelChange",function(o){return F(n.fontProperties.size,o)||(n.fontProperties.size=o),o}),s(),r(19,"input",13),V("ngModelChange",function(o){return F(n.fontProperties.color,o)||(n.fontProperties.color=o),o}),s()(),r(20,"div",14)(21,"button",15),h("click",function(){return n.onFontStyleToggle("bold")}),r(22,"strong"),d(23,"T"),s()(),r(24,"button",16),h("click",function(){return n.onFontStyleToggle("italic")}),r(25,"em"),d(26,"T"),s()(),r(27,"button",17),h("click",function(){return n.onFontStyleToggle("underline")}),r(28,"u"),d(29,"T"),s()(),r(30,"button",18),h("click",function(){return n.onFontStyleToggle("strikethrough")}),r(31,"s"),d(32,"T"),s()()(),r(33,"div",19),w(34,Yc,14,15,"button",20),s()(),r(35,"div",3)(36,"div",8),d(37,"\u25BC \uAC04\uACA9"),s(),r(38,"div",21)(39,"input",22),V("ngModelChange",function(o){return F(n.spacingProperties.letterSpacing,o)||(n.spacingProperties.letterSpacing=o),o}),s(),r(40,"input",23),V("ngModelChange",function(o){return F(n.spacingProperties.lineHeight,o)||(n.spacingProperties.lineHeight=o),o}),s()(),r(41,"div",21)(42,"input",24),V("ngModelChange",function(o){return F(n.spacingProperties.paragraphSpacing,o)||(n.spacingProperties.paragraphSpacing=o),o}),s()()(),r(43,"div",3)(44,"div",8),d(45,"\u25BC \uB3D9\uC791"),s(),r(46,"div",25),w(47,nd,8,7,"button",26),s()()()),e&2&&(he("display",n.isVisible?"":"none"),O("closed",!n.isVisible),c(16),A("ngModel",n.fontProperties.type),c(),f("ngForOf",n.fontTypes),c(),A("ngModel",n.fontProperties.size),c(),A("ngModel",n.fontProperties.color),c(2),O("active",n.fontProperties.bold),c(3),O("active",n.fontProperties.italic),c(3),O("active",n.fontProperties.underline),c(3),O("active",n.fontProperties.strikethrough),c(4),f("ngForOf",n.alignments),c(5),A("ngModel",n.spacingProperties.letterSpacing),c(),A("ngModel",n.spacingProperties.lineHeight),c(2),A("ngModel",n.spacingProperties.paragraphSpacing),c(5),f("ngForOf",n.actions))},dependencies:[re,Q,Ae,Ve,le,pt,We,ce,de],styles:['@charset "UTF-8";.properties-panel[_ngcontent-%COMP%]{position:fixed;top:130px;right:0;bottom:0;width:300px;background:#fff;border-left:1px solid #e0e0e0;box-shadow:-2px 0 8px #0000001a;padding:16px;overflow-y:auto;z-index:1000;transition:transform .25s cubic-bezier(.4,1.4,.6,1),opacity .25s cubic-bezier(.4,1.4,.6,1);transform:translate(0);opacity:1}.properties-panel.closed[_ngcontent-%COMP%]{transform:translate(100%);opacity:0;pointer-events:none}.sidebar-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:8px 8px 8px 0}.close-panel-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:14px;cursor:pointer;width:24px;height:24px;line-height:1;display:flex;align-items:center;justify-content:center;color:#888;border-radius:4px;transition:background .15s}.close-panel-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.panel-section[_ngcontent-%COMP%]{margin-bottom:16px}.panel-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-bottom:8px;color:#333}.panel-title.collapsible[_ngcontent-%COMP%]{cursor:pointer;font-size:13px;color:#444;font-weight:600;margin-bottom:8px}.property-type[_ngcontent-%COMP%]{font-size:13px;color:#444;margin-bottom:8px}.property-value[_ngcontent-%COMP%]{font-size:13px;color:#888;margin-bottom:12px}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #eee;margin:8px 0}.font-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.property-input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:12px}.font-type[_ngcontent-%COMP%]{width:100px}.font-size[_ngcontent-%COMP%]{width:50px}.color-input[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:4px;cursor:pointer}.style-buttons[_ngcontent-%COMP%], .alignment-buttons[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}.property-btn[_ngcontent-%COMP%]{flex:1;padding:6px;border:1px solid #ccc;background:#f8f8f8;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s;display:flex;align-items:center;justify-content:center;min-width:30px;height:30px}.property-btn.active[_ngcontent-%COMP%]{background:#007acc;color:#fff;border-color:#007acc}.property-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.property-btn.active[_ngcontent-%COMP%]:hover{background:#0056b3}.spacing-controls[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}.spacing-controls[_ngcontent-%COMP%]   .property-input[_ngcontent-%COMP%]{width:50px}.action-buttons[_ngcontent-%COMP%]   .property-btn[_ngcontent-%COMP%]{flex:0 0 auto;width:40px}']})};function id(a,t){if(a&1){let e=M();r(0,"div",18)(1,"div",8)(2,"label"),d(3,"\uC0AC\uC6A9\uC790 \uC554\uD638 (\uBB38\uC11C \uC5F4\uAE30)"),s(),r(4,"input",19),V("ngModelChange",function(i){g(e);let o=p();return F(o.securitySettings.userPassword,i)||(o.securitySettings.userPassword=i),m(i)}),s()(),r(5,"div",8)(6,"label"),d(7,"\uC18C\uC720\uC790 \uC554\uD638 (\uAD8C\uD55C \uBCC0\uACBD)"),s(),r(8,"input",20),V("ngModelChange",function(i){g(e);let o=p();return F(o.securitySettings.ownerPassword,i)||(o.securitySettings.ownerPassword=i),m(i)}),s()()()}if(a&2){let e=p();c(4),A("ngModel",e.securitySettings.userPassword),c(4),A("ngModel",e.securitySettings.ownerPassword)}}function od(a,t){if(a&1&&(r(0,"option",21),d(1),s()),a&2){let e=t.$implicit;f("value",e.value),c(),N(" ",e.label," ")}}var Nn=class a{securitySettings={passwordProtection:!1,userPassword:"",ownerPassword:"",allowPrinting:!0,allowCopying:!0,allowEditing:!0,allowAnnotations:!0,encryptionLevel:"128-bit"};encryptionLevels=[{value:"40-bit",label:"40-bit (\uB0AE\uC74C)"},{value:"128-bit",label:"128-bit (\uC911\uAC04)"},{value:"256-bit",label:"256-bit (\uB192\uC74C)"}];onTogglePasswordProtection(){this.securitySettings.passwordProtection=!this.securitySettings.passwordProtection,this.securitySettings.passwordProtection||(this.securitySettings.userPassword="",this.securitySettings.ownerPassword="")}onApplySecurity(){console.log("\uBCF4\uC548 \uC124\uC815 \uC801\uC6A9:",this.securitySettings)}onResetSecurity(){this.securitySettings={passwordProtection:!1,userPassword:"",ownerPassword:"",allowPrinting:!0,allowCopying:!0,allowEditing:!0,allowAnnotations:!0,encryptionLevel:"128-bit"}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-ez-security-panel"]],standalone:!1,decls:51,vars:8,consts:[[1,"security-panel"],[1,"security-header"],[1,"security-section"],[1,"section-title"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"],["class","password-fields",4,"ngIf"],[1,"form-group"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"permissions-list"],[1,"permission-item"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"security-actions"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"password-fields"],["type","password","placeholder","\uBB38\uC11C\uB97C \uC5F4 \uB54C \uD544\uC694\uD55C \uC554\uD638",3,"ngModelChange","ngModel"],["type","password","placeholder","\uBCF4\uC548 \uC124\uC815\uC744 \uBCC0\uACBD\uD560 \uB54C \uD544\uC694\uD55C \uC554\uD638",3,"ngModelChange","ngModel"],[3,"value"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),d(3,"\u{1F512} \uBCF4\uC548 \uC124\uC815"),s(),r(4,"p"),d(5,"PDF \uBB38\uC11C\uC758 \uBCF4\uC548 \uC124\uC815\uC744 \uAD00\uB9AC\uD569\uB2C8\uB2E4"),s()(),r(6,"div",2)(7,"div",3)(8,"h3"),d(9,"\uC554\uD638 \uBCF4\uD638"),s(),r(10,"label",4)(11,"input",5),h("change",function(){return n.onTogglePasswordProtection()}),s(),y(12,"span",6),s()(),w(13,id,9,2,"div",7),s(),r(14,"div",2)(15,"div",3)(16,"h3"),d(17,"\uC554\uD638\uD654 \uC218\uC900"),s()(),r(18,"div",8)(19,"select",9),V("ngModelChange",function(o){return F(n.securitySettings.encryptionLevel,o)||(n.securitySettings.encryptionLevel=o),o}),w(20,od,2,2,"option",10),s()()(),r(21,"div",2)(22,"div",3)(23,"h3"),d(24,"\uBB38\uC11C \uAD8C\uD55C"),s()(),r(25,"div",11)(26,"div",12)(27,"label",13)(28,"input",14),V("ngModelChange",function(o){return F(n.securitySettings.allowPrinting,o)||(n.securitySettings.allowPrinting=o),o}),s(),r(29,"span"),d(30,"\uC778\uC1C4 \uD5C8\uC6A9"),s()()(),r(31,"div",12)(32,"label",13)(33,"input",14),V("ngModelChange",function(o){return F(n.securitySettings.allowCopying,o)||(n.securitySettings.allowCopying=o),o}),s(),r(34,"span"),d(35,"\uD14D\uC2A4\uD2B8 \uBCF5\uC0AC \uD5C8\uC6A9"),s()()(),r(36,"div",12)(37,"label",13)(38,"input",14),V("ngModelChange",function(o){return F(n.securitySettings.allowEditing,o)||(n.securitySettings.allowEditing=o),o}),s(),r(39,"span"),d(40,"\uBB38\uC11C \uD3B8\uC9D1 \uD5C8\uC6A9"),s()()(),r(41,"div",12)(42,"label",13)(43,"input",14),V("ngModelChange",function(o){return F(n.securitySettings.allowAnnotations,o)||(n.securitySettings.allowAnnotations=o),o}),s(),r(44,"span"),d(45,"\uC8FC\uC11D \uCD94\uAC00 \uD5C8\uC6A9"),s()()()()(),r(46,"div",15)(47,"button",16),h("click",function(){return n.onResetSecurity()}),d(48," \uCD08\uAE30\uD654 "),s(),r(49,"button",17),h("click",function(){return n.onApplySecurity()}),d(50," \uBCF4\uC548 \uC124\uC815 \uC801\uC6A9 "),s()()()),e&2&&(c(11),f("checked",n.securitySettings.passwordProtection),c(2),f("ngIf",n.securitySettings.passwordProtection),c(6),A("ngModel",n.securitySettings.encryptionLevel),c(),f("ngForOf",n.encryptionLevels),c(8),A("ngModel",n.securitySettings.allowPrinting),c(5),A("ngModel",n.securitySettings.allowCopying),c(5),A("ngModel",n.securitySettings.allowEditing),c(5),A("ngModel",n.securitySettings.allowAnnotations))},dependencies:[re,Q,Ae,Ve,le,dt,We,ce,de],styles:['.security-panel[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%;overflow-y:auto}.security-header[_ngcontent-%COMP%]{margin-bottom:32px}.security-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a1a1a;margin:0 0 8px}.security-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:14px}.security-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e5e5e5}.security-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.section-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#555;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007acc}.password-fields[_ngcontent-%COMP%]{margin-top:16px}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:24px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#007acc}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:24px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.permissions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.permission-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:12px;border-radius:6px;transition:background-color .2s}.permission-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.permission-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:12px;width:18px;height:18px;cursor:pointer}.permission-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#333}.security-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:32px;padding-top:24px;border-top:1px solid #e5e5e5}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:10px 24px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.btn-primary[_ngcontent-%COMP%]{background-color:#007acc;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#005a9e}.btn-secondary[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333;border:1px solid #ddd}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e5e5e5}']})};var jn=class a{goToEzReader(){window.location.hash="#/ezReader"}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-home"]],standalone:!1,decls:33,vars:0,consts:[[1,"home-container"],[1,"welcome-section"],[1,"action-buttons"],[1,"btn-primary",3,"click"],[1,"features-section"],[1,"features-grid"],[1,"feature-card"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),d(3,"EZ Reader\uC5D0 \uC624\uC2E0 \uAC83\uC744 \uD658\uC601\uD569\uB2C8\uB2E4"),s(),r(4,"p"),d(5,"\uAC15\uB825\uD55C PDF \uD3B8\uC9D1 \uB3C4\uAD6C\uB97C \uC0AC\uC6A9\uD574\uBCF4\uC138\uC694"),s(),r(6,"div",2)(7,"button",3),h("click",function(){return n.goToEzReader()}),d(8," PDF \uD3B8\uC9D1\uAE30 \uC2DC\uC791\uD558\uAE30 "),s()()(),r(9,"div",4)(10,"h2"),d(11,"\uC8FC\uC694 \uAE30\uB2A5"),s(),r(12,"div",5)(13,"div",6)(14,"h3"),d(15,"\u{1F4C4} PDF \uBDF0\uC5B4"),s(),r(16,"p"),d(17,"\uACE0\uD488\uC9C8 PDF \uBB38\uC11C \uBDF0\uC5B4"),s()(),r(18,"div",6)(19,"h3"),d(20,"\u270F\uFE0F \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1"),s(),r(21,"p"),d(22,"PDF \uB0B4 \uD14D\uC2A4\uD2B8 \uC218\uC815 \uBC0F \uCD94\uAC00"),s()(),r(23,"div",6)(24,"h3"),d(25,"\u{1F5BC}\uFE0F \uC774\uBBF8\uC9C0 \uC0BD\uC785"),s(),r(26,"p"),d(27,"\uC774\uBBF8\uC9C0 \uBC0F \uB3C4\uD615 \uCD94\uAC00"),s()(),r(28,"div",6)(29,"h3"),d(30,"\u{1F527} \uACE0\uAE09 \uB3C4\uAD6C"),s(),r(31,"p"),d(32,"\uC6CC\uD130\uB9C8\uD06C, \uC11C\uBA85, \uBCC0\uD658 \uB4F1"),s()()()()())},styles:[".home-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem;color:#fff}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem;padding:2rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;opacity:.9}.btn-primary[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff;border:none;padding:1rem 2rem;font-size:1.1rem;border-radius:50px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #0003}.btn-primary[_ngcontent-%COMP%]:hover{background:#ff5252;transform:translateY(-2px);box-shadow:0 6px 20px #0000004d}.features-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:3rem}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem}.feature-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;text-align:center;transition:transform .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8;line-height:1.6}@media (max-width: 768px){.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var ad=[{path:"",component:Rn,children:[{path:"",redirectTo:"recent",pathMatch:"full"},{path:"recent",component:Xe},{path:"home",component:jn},{path:"conversion",component:zt},{path:"properties",component:Ln},{path:"security",component:Nn}]}],Wn=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=nt({type:a});static \u0275inj=tt({imports:[Gt.forChild(ad),Gt]})};var Hn=class a{constructor(t){this.http=t}OLLAMA_BASE_URL="http://localhost:11434";TARGET_MODEL="gemma3:1b";checkOllamaAvailability(){return P(this,null,function*(){return!1})}translateText(t,e){if(!t.trim())return Nt(()=>new Error("\uBC88\uC5ED\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let o=`\uB2E4\uC74C \uD14D\uC2A4\uD2B8\uB97C ${{english:"\uC601\uC5B4",korean:"\uD55C\uAD6D\uC5B4",japanese:"\uC77C\uBCF8\uC5B4",chinese:"\uC911\uAD6D\uC5B4",spanish:"\uC2A4\uD398\uC778\uC5B4",french:"\uD504\uB791\uC2A4\uC5B4",german:"\uB3C5\uC77C\uC5B4"}[e]||e}\uB85C \uBC88\uC5ED\uD574\uC8FC\uC138\uC694. \uBC88\uC5ED\uB41C \uB0B4\uC6A9\uB9CC \uC751\uB2F5\uD558\uACE0 \uB2E4\uB978 \uC124\uBA85\uC740 \uD3EC\uD568\uD558\uC9C0 \uB9C8\uC138\uC694.

\uD14D\uC2A4\uD2B8:
${t}

\uBC88\uC5ED:`,l={model:this.TARGET_MODEL,prompt:o,stream:!1,options:{temperature:.3,top_p:.9,max_tokens:4e3}},u=new Xn({"Content-Type":"application/json"});return this.http.post(`${this.OLLAMA_BASE_URL}/api/generate`,l,{headers:u}).pipe(Qn(_=>{if(_.response&&_.response.trim())return{originalText:t,translatedText:_.response.trim(),targetLanguage:e,success:!0};throw new Error("\uBC88\uC5ED \uC751\uB2F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.")}),qn(_=>{let C="\uB85C\uCEEC AI \uBC88\uC5ED \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return _.status===0?C="Ollama \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. Ollama\uAC00 \uC2E4\uD589 \uC911\uC778\uC9C0 \uD655\uC778\uD574\uC8FC\uC138\uC694.":_.status===404?C=`${this.TARGET_MODEL} \uBAA8\uB378\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBAA8\uB378\uC744 \uC124\uCE58\uD574\uC8FC\uC138\uC694.`:_.error?.error?C=_.error.error:_.message&&(C=_.message),Nt(()=>({originalText:t,translatedText:"",targetLanguage:e,success:!1,error:C}))}))}summarizeText(t,e="general",n="medium"){if(!t.trim())return Nt(()=>new Error("\uC694\uC57D\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let i="";switch(e){case"bullet":i="\uB2E4\uC74C \uBB38\uC11C\uC758 \uD575\uC2EC \uD3EC\uC778\uD2B8\uB97C \uBC88\uD638\uAC00 \uB9E4\uACA8\uC9C4 \uBAA9\uB85D\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;case"qa":i="\uB2E4\uC74C \uBB38\uC11C\uB97C Q&A \uD615\uC2DD\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. \uC8FC\uC694 \uC9C8\uBB38\uACFC \uB2F5\uBCC0\uC73C\uB85C \uAD6C\uC131\uD574\uC8FC\uC138\uC694. ";break;case"structure":i="\uB2E4\uC74C \uBB38\uC11C\uB97C \uAD6C\uC870\uC801\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. \uC81C\uBAA9, \uC8FC\uC694 \uC139\uC158, \uD575\uC2EC \uB0B4\uC6A9\uC744 \uCCB4\uACC4\uC801\uC73C\uB85C \uC815\uB9AC\uD574\uC8FC\uC138\uC694. ";break;default:i="\uB2E4\uC74C \uBB38\uC11C\uB97C \uC694\uC57D\uD574\uC8FC\uC138\uC694. "}switch(n){case"short":i+="\uAC04\uACB0\uD558\uAC8C 1-2\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;case"long":i+="\uC790\uC138\uD558\uAC8C 5-6\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;default:i+="\uC801\uC808\uD55C \uAE38\uC774\uB85C 3-4\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. "}i+=`\uD55C\uAD6D\uC5B4\uB85C \uC791\uC131\uD574\uC8FC\uC138\uC694. \uC694\uC57D\uB41C \uB0B4\uC6A9\uB9CC \uC751\uB2F5\uD558\uACE0 \uB2E4\uB978 \uC124\uBA85\uC740 \uD3EC\uD568\uD558\uC9C0 \uB9C8\uC138\uC694.

\uBB38\uC11C \uB0B4\uC6A9:
${t}`;let o={model:this.TARGET_MODEL,prompt:i,stream:!1,options:{temperature:.3,top_p:.9,max_tokens:4e3}},l=new Xn({"Content-Type":"application/json"});return this.http.post(`${this.OLLAMA_BASE_URL}/api/generate`,o,{headers:l}).pipe(Qn(u=>{if(u.response&&u.response.trim())return{originalText:t,translatedText:u.response.trim(),targetLanguage:"korean",success:!0};throw new Error("\uC694\uC57D \uC751\uB2F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.")}),qn(u=>{let _="\uB85C\uCEEC AI \uC694\uC57D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return u.status===0?_="Ollama \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. Ollama\uAC00 \uC2E4\uD589 \uC911\uC778\uC9C0 \uD655\uC778\uD574\uC8FC\uC138\uC694.":u.status===404?_=`${this.TARGET_MODEL} \uBAA8\uB378\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBAA8\uB378\uC744 \uC124\uCE58\uD574\uC8FC\uC138\uC694.`:u.error?.error?_=u.error.error:u.message&&(_=u.message),Nt(()=>({originalText:t,translatedText:"",targetLanguage:"korean",success:!1,error:_}))}))}getAvailableModels(){return P(this,null,function*(){return[]})}static \u0275fac=function(e){return new(e||a)(xe(Fi))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};var $n=class a{getConversionOptions(){return[{id:"image",title:"\uC774\uBBF8\uC9C0 \u2192 PDF",icon:"./images/ico-img@3x.png",acceptTypes:["image/*"]},{id:"excel",title:"\uC5D1\uC140 \u2192 PDF",icon:"./images/btn-gnb-xls@3x.png",acceptTypes:[".xlsx",".xls"]},{id:"powerpoint",title:"\uD30C\uC6CC\uD3EC\uC778\uD2B8 \u2192 PDF",icon:"./images/btn-gnb-ppt@3x.png",acceptTypes:[".pptx",".ppt"]},{id:"word",title:"\uC6CC\uB4DC \u2192 PDF",icon:"./images/btn-gnb-doc@3x.png",acceptTypes:[".docx",".doc"]}]}getUploadOptions(){return[{id:"file",title:"\uD30C\uC77C",icon:"",acceptTypes:[".pdf",".doc",".docx",".txt"]},{id:"photo",title:"\uC0AC\uC9C4",icon:"",acceptTypes:["image/*"]},{id:"pdf",title:"PDF",icon:"",acceptTypes:[".pdf"]}]}convertFiles(t,e,n){return P(this,null,function*(){try{return yield this.simulateConversion(t.length),!0}catch{return!1}})}simulateConversion(t){return P(this,null,function*(){return new Promise(e=>{setTimeout(e,1e3+t*500)})})}getDefaultSettings(){return{fileName:"\uBCC0\uD658\uB41C_\uD30C\uC77C",savePath:"/Users/Downloads",quality:80,format:"pdf"}}validateFileType(t,e){let n=t.name.toLowerCase(),i=t.type;return e.some(o=>{if(o.startsWith("."))return n.endsWith(o);if(o.includes("/*")){let l=o.split("/")[0];return i.startsWith(l)}else return i===o})}getSupportedFormatsMessage(t){return`\uC9C0\uC6D0 \uD615\uC2DD: ${t.join(", ")}`}static \u0275fac=function(e){return new(e||a)};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function rd(a,t){if(a&1&&(r(0,"div",32)(1,"span",33),d(2,"\u26A0\uFE0F"),s(),r(3,"span",34),d(4),s()()),a&2){let e=p();c(4),R(e.errorMessage)}}function sd(a,t){a&1&&(r(0,"span"),d(1,"\u{1F513} \uB85C\uADF8\uC778"),s())}function ld(a,t){a&1&&(r(0,"span",35),y(1,"span",36),r(2,"span"),d(3,"\uB85C\uADF8\uC778 \uC911..."),s()())}var Un=class a{constructor(t,e,n){this.authService=t;this.router=e;this.route=n}username="";password="";errorMessage="";isLoading=!1;returnUrl="/ez-reader";showPassword=!1;buildVersion="0.0.0.14";buildVersionMobile="0.0.0.8";buildInfo="Font Path Fix + Page Delete Fix";get loginTitle(){return"EzReader"}get loginSubtitle(){return"Easy Document Reader"}ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate(["/ez"]);return}this.route.queryParams.subscribe(t=>{this.returnUrl=t.returnUrl||"/ez-reader"})}onLogin(){if(this.errorMessage="",!this.username||!this.password){this.errorMessage="\uC544\uC774\uB514\uC640 \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.";return}this.isLoading=!0,setTimeout(()=>{this.authService.login(this.username,this.password)?this.router.navigate([this.returnUrl]):(this.errorMessage="\uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",this.password=""),this.isLoading=!1},500)}onKeyPress(t){t.key==="Enter"&&this.onLogin()}togglePasswordVisibility(){this.showPassword=!this.showPassword}clearError(){this.errorMessage=""}static \u0275fac=function(e){return new(e||a)(G(Re),G(we),G(mt))};static \u0275cmp=L({type:a,selectors:[["app-ez-reader-login"]],decls:46,vars:19,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo-section"],[1,"app-title"],[1,"subtitle"],[1,"login-body"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username",1,"form-label"],[1,"label-icon"],[1,"label-text"],["type","text","id","username","name","username","placeholder","\uC544\uC774\uB514\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","username","required","",1,"form-input",3,"ngModelChange","focus","keypress","ngModel","disabled"],["for","password",1,"form-label"],[1,"password-input-wrapper"],["id","password","name","password","placeholder","\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694","autocomplete","current-password","required","",1,"form-input",3,"ngModelChange","focus","keypress","type","ngModel","disabled"],["type","button",1,"toggle-password-btn",3,"click","disabled","title"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"login-footer"],[1,"footer-text"],[1,"footer-info"],[1,"version-info"],[1,"version-text"],[1,"build-info"],[1,"background-animation"],[1,"floating-shape","shape-1"],[1,"floating-shape","shape-2"],[1,"floating-shape","shape-3"],[1,"floating-shape","shape-4"],[1,"error-message"],[1,"error-icon"],[1,"error-text"],[1,"loading-spinner"],[1,"spinner"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5),s(),r(6,"p",5),d(7),s()()(),r(8,"div",6)(9,"form",7),h("ngSubmit",function(){return n.onLogin()}),r(10,"div",8)(11,"label",9)(12,"span",10),d(13,"\u{1F464}"),s(),r(14,"span",11),d(15,"\uC544\uC774\uB514"),s()(),r(16,"input",12),V("ngModelChange",function(o){return F(n.username,o)||(n.username=o),o}),h("focus",function(){return n.clearError()})("keypress",function(o){return n.onKeyPress(o)}),s()(),r(17,"div",8)(18,"label",13)(19,"span",10),d(20,"\u{1F512}"),s(),r(21,"span",11),d(22,"\uBE44\uBC00\uBC88\uD638"),s()(),r(23,"div",14)(24,"input",15),V("ngModelChange",function(o){return F(n.password,o)||(n.password=o),o}),h("focus",function(){return n.clearError()})("keypress",function(o){return n.onKeyPress(o)}),s(),r(25,"button",16),h("click",function(){return n.togglePasswordVisibility()}),d(26),s()()(),w(27,rd,5,1,"div",17),r(28,"button",18),w(29,sd,2,0,"span",19)(30,ld,4,0,"span",20),s()()(),r(31,"div",21)(32,"p",22),d(33,"Authorized Access Only"),s(),r(34,"p",23),d(35,"\u{1F512} \uBCF4\uC548 \uB85C\uADF8\uC778 \uC2DC\uC2A4\uD15C"),s(),r(36,"div",24)(37,"p",25),d(38),s(),r(39,"p",26),d(40),s()()()(),r(41,"div",27),y(42,"div",28)(43,"div",29)(44,"div",30)(45,"div",31),s()()),e&2&&(c(5),R(n.loginTitle),c(2),R(n.loginSubtitle),c(9),A("ngModel",n.username),f("disabled",n.isLoading),c(8),f("type",n.showPassword?"text":"password"),A("ngModel",n.password),f("disabled",n.isLoading),c(),f("title",Si(n.showPassword?"\uBE44\uBC00\uBC88\uD638 \uC228\uAE30\uAE30":"\uBE44\uBC00\uBC88\uD638 \uBCF4\uAE30"))("disabled",n.isLoading),c(),N(" ",n.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),c(),f("ngIf",n.errorMessage),c(),O("loading",n.isLoading),f("disabled",n.isLoading||!n.username||!n.password),c(),f("ngIf",!n.isLoading),c(),f("ngIf",n.isLoading),c(8),N("v",n.buildVersion),c(2),R(n.buildInfo))},dependencies:[Pe,Q,Ie,Ii,le,ce,Ai,Ri,de,Vi],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;position:relative;overflow:hidden}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:450px;overflow:hidden;position:relative;z-index:10;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:40px 30px;text-align:center;color:#fff}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin:0 0 8px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9;font-weight:300;letter-spacing:1px}.login-body[_ngcontent-%COMP%]{padding:40px 30px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:600;color:#4a5568;margin-bottom:8px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:18px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{flex:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:15px;transition:all .3s ease;background:#f8fafc}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{background:#e2e8f0;cursor:not-allowed;opacity:.6}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding-right:50px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;cursor:pointer;font-size:20px;padding:8px;border-radius:6px;transition:all .2s ease}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#fee;border:2px solid #fcc;border-radius:10px;margin-bottom:20px;animation:_ngcontent-%COMP%_shake .5s ease}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{flex:1;color:#c53030;font-size:14px;font-weight:500}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-form[_ngcontent-%COMP%]   .login-btn.loading[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3c7,#9a89b4)}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px}.login-form[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{background:#f7fafc;padding:20px 30px;text-align:center;border-top:1px solid #e2e8f0}.login-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{margin:0 0 4px;font-size:13px;color:#718096;font-weight:500}.login-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{margin:0 0 12px;font-size:12px;color:#a0aec0}.login-footer[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #e2e8f0}.login-footer[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .version-text[_ngcontent-%COMP%]{margin:0 0 4px;font-size:11px;color:#667eea;font-weight:600;font-family:Monaco,Courier New,monospace}.login-footer[_ngcontent-%COMP%]   .version-info[_ngcontent-%COMP%]   .build-info[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#a0aec0;font-style:italic}.background-animation[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:1}.background-animation[_ngcontent-%COMP%]   .floating-shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-150px;left:-150px;animation-delay:0s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:-100px;animation-delay:5s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;bottom:-75px;left:30%;animation-delay:10s}.background-animation[_ngcontent-%COMP%]   .floating-shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:20%;right:20%;animation-delay:15s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) scale(1)}33%{transform:translate(30px,-30px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]{max-width:100%}.login-header[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:28px}.login-body[_ngcontent-%COMP%]{padding:30px 20px}.login-footer[_ngcontent-%COMP%]{padding:16px 20px}}"]})};var Wo=class a{constructor(t){this.resourceLoader=t;this.resourceLoader.loadAllResources().catch(e=>console.warn(e))}static \u0275fac=function(e){return new(e||a)(xe(Eo))};static \u0275mod=nt({type:a});static \u0275inj=tt({providers:[po,Bt,Oo,Hn,At,$n,It,Ft,Re,_t,bt,gn,{provide:co,useValue:"EzReaderPdfCacheDB"}],imports:[Pe,Ie,Gt,Wi,Wn,ko,yo,hn,_n,bn,Cn,Vt,xn,vn,Ke,Xe,So,Mo,Ye,fn,Un,Pn,vt]})};export{Wo as EzReaderModule};
